var Ext=Ext||{};Ext.util=Ext.util||{};Ext._startTime=(new Date).getTime();(function(){var global=this,objectPrototype=Object.prototype,toString=objectPrototype.toString,enumerables=true,enumerablesTest={toString:1},emptyFn=function(){},callOverrideParent=function(){var method=callOverrideParent.caller.caller;return method.$owner.prototype[method.$name].apply(this,arguments)},i,nonWhitespaceRe=/\S/,ExtApp,iterableRe=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=true;Ext.global=global;for(i in enumerablesTest){enumerables=null}if(enumerables){enumerables=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]}Ext.enumerables=enumerables;Ext.apply=function(object,config,defaults){if(defaults){Ext.apply(object,defaults)}if(object&&config&&typeof config==="object"){var i,j,k;for(i in config){object[i]=config[i]}if(enumerables){for(j=enumerables.length;j--;){k=enumerables[j];if(config.hasOwnProperty(k)){object[k]=config[k]}}}}return object};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:emptyFn,identityFn:function(o){return o},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(object,config){var property;if(object){for(property in config){if(object[property]===undefined){object[property]=config[property]}}}return object},iterate:function(object,fn,scope){if(Ext.isEmpty(object)){return}if(scope===undefined){scope=object}if(Ext.isIterable(object)){Ext.Array.each.call(Ext.Array,object,fn,scope)}else{Ext.Object.each.call(Ext.Object,object,fn,scope)}}});Ext.apply(Ext,{extend:function(){var objectConstructor=objectPrototype.constructor,inlineOverrides=function(o){for(var m in o){if(!o.hasOwnProperty(m)){continue}this[m]=o[m]}};return function(subclass,superclass,overrides){if(Ext.isObject(superclass)){overrides=superclass;superclass=subclass;subclass=overrides.constructor!==objectConstructor?overrides.constructor:function(){superclass.apply(this,arguments)}}if(!superclass){Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."})}var F=function(){},subclassProto,superclassProto=superclass.prototype;F.prototype=superclassProto;subclassProto=subclass.prototype=new F;subclassProto.constructor=subclass;subclass.superclass=superclassProto;if(superclassProto.constructor===objectConstructor){superclassProto.constructor=superclass}subclass.override=function(overrides){Ext.override(subclass,overrides)};subclassProto.override=inlineOverrides;subclassProto.proto=subclassProto;subclass.override(overrides);subclass.extend=function(o){return Ext.extend(subclass,o)};return subclass}}(),override:function(target,overrides){if(target.$isClass){target.override(overrides)}else if(typeof target=="function"){Ext.apply(target.prototype,overrides)}else{var owner=target.self,name,value;if(owner&&owner.$isClass){for(name in overrides){if(overrides.hasOwnProperty(name)){value=overrides[name];if(typeof value=="function"){if(owner.$className){value.displayName=owner.$className+"#"+name}value.$name=name;value.$owner=owner;value.$previous=target.hasOwnProperty(name)?target[name]:callOverrideParent}target[name]=value}}}else{Ext.apply(target,overrides)}}return target}});Ext.apply(Ext,{valueFrom:function(value,defaultValue,allowBlank){return Ext.isEmpty(value,allowBlank)?defaultValue:value},typeOf:function(value){var type,typeToString;if(value===null){return"null"}type=typeof value;if(type==="undefined"||type==="string"||type==="number"||type==="boolean"){return type}typeToString=toString.call(value);switch(typeToString){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}if(type==="function"){return"function"}if(type==="object"){if(value.nodeType!==undefined){if(value.nodeType===3){return nonWhitespaceRe.test(value.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of the specified value "'+value+'". This is most likely a bug.'})},coerce:function(from,to){var fromType=Ext.typeOf(from),toType=Ext.typeOf(to),isString=typeof from==="string";if(fromType!==toType){switch(toType){case"string":return String(from);case"number":return Number(from);case"boolean":return isString&&(!from||from==="false")?false:Boolean(from);case"null":return isString&&(!from||from==="null")?null:from;case"undefined":return isString&&(!from||from==="undefined")?undefined:from;case"date":return isString&&isNaN(from)?Ext.Date.parse(from,Ext.Date.defaultFormat):Date(Number(from))}}return from},isEmpty:function(value,allowEmptyString){return value===null||value===undefined||(!allowEmptyString?value==="":false)||Ext.isArray(value)&&value.length===0},isArray:"isArray"in Array?Array.isArray:function(value){return toString.call(value)==="[object Array]"},isDate:function(value){return toString.call(value)==="[object Date]"},isObject:toString.call(null)==="[object Object]"?function(value){return value!==null&&value!==undefined&&toString.call(value)==="[object Object]"&&value.ownerDocument===undefined}:function(value){return toString.call(value)==="[object Object]"},isSimpleObject:function(value){return value instanceof Object&&value.constructor===Object},isPrimitive:function(value){var type=typeof value;return type==="string"||type==="number"||type==="boolean"},isFunction:function(value){return!!(value&&value.$extIsFunction)},isNumber:function(value){return typeof value==="number"&&isFinite(value)},isNumeric:function(value){return!isNaN(parseFloat(value))&&isFinite(value)},isString:function(value){return typeof value==="string"},isBoolean:function(value){return typeof value==="boolean"},isElement:function(value){return value?value.nodeType===1:false},isTextNode:function(value){return value?value.nodeName==="#text":false},isDefined:function(value){return typeof value!=="undefined"},isIterable:function(value){if(!value||typeof value.length!=="number"||typeof value==="string"||value.$extIsFunction){return false}if(!value.propertyIsEnumerable){return!!value.item}if(value.hasOwnProperty("length")&&!value.propertyIsEnumerable("length")){return true}return iterableRe.test(toString.call(value))}});Ext.apply(Ext,{clone:function(item){var type,i,j,k,clone,key;if(item===null||item===undefined){return item}if(item.nodeType&&item.cloneNode){return item.cloneNode(true)}type=toString.call(item);if(type==="[object Date]"){return new Date(item.getTime())}if(type==="[object Array]"){i=item.length;clone=[];while(i--){clone[i]=Ext.clone(item[i])}}else if(type==="[object Object]"&&item.constructor===Object){clone={};for(key in item){clone[key]=Ext.clone(item[key])}if(enumerables){for(j=enumerables.length;j--;){k=enumerables[j];if(item.hasOwnProperty(k)){clone[k]=item[k]}}}}return clone||item},getUniqueGlobalNamespace:function(){var uniqueGlobalNamespace=this.uniqueGlobalNamespace,i;if(uniqueGlobalNamespace===undefined){i=0;do{uniqueGlobalNamespace="ExtBox"+ ++i}while(Ext.global[uniqueGlobalNamespace]!==undefined);Ext.global[uniqueGlobalNamespace]=Ext;this.uniqueGlobalNamespace=uniqueGlobalNamespace}return uniqueGlobalNamespace},functionFactoryCache:{},cacheableFunctionFactory:function(){var me=this,args=Array.prototype.slice.call(arguments),cache=me.functionFactoryCache,idx,fn,ln;if(Ext.isSandboxed){ln=args.length;if(ln>0){ln--;args[ln]="var Ext=window."+Ext.name+";"+args[ln]}}idx=args.join("");fn=cache[idx];if(!fn){fn=Function.prototype.constructor.apply(Function.prototype,args);cache[idx]=fn}return fn},functionFactory:function(){var me=this,args=Array.prototype.slice.call(arguments),ln;if(Ext.isSandboxed){ln=args.length;if(ln>0){ln--;args[ln]="var Ext=window."+Ext.name+";"+args[ln]}}return Function.prototype.constructor.apply(Function.prototype,args)},Logger:{verbose:emptyFn,log:emptyFn,info:emptyFn,warn:emptyFn,error:function(message){throw new Error(message)},deprecate:emptyFn}});Ext.type=Ext.typeOf;ExtApp=Ext.app;if(!ExtApp){ExtApp=Ext.app={}}Ext.apply(ExtApp,{namespaces:{},collectNamespaces:function(paths){var namespaces=Ext.app.namespaces,path;for(path in paths){if(paths.hasOwnProperty(path)){namespaces[path]=true}}},addNamespaces:function(ns){var namespaces=Ext.app.namespaces,i,l;if(!Ext.isArray(ns)){ns=[ns]}for(i=0,l=ns.length;i<l;i++){namespaces[ns[i]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(className){var namespaces=Ext.app.namespaces,deepestPrefix="",prefix;for(prefix in namespaces){if(namespaces.hasOwnProperty(prefix)&&prefix.length>deepestPrefix.length&&prefix+"."===className.substring(0,prefix.length+1)){deepestPrefix=prefix}}return deepestPrefix===""?undefined:deepestPrefix}})})();Ext.globalEval=Ext.global.execScript?function(code){execScript(code)}:function($$code){(function(){var Ext=this.Ext;eval($$code)})()};(function(){var version="4.2.1.883",Version;Ext.Version=Version=Ext.extend(Object,{constructor:function(version){var parts,releaseStartIndex;if(version instanceof Version){return version}this.version=this.shortVersion=String(version).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");releaseStartIndex=this.version.search(/([^\d\.])/);if(releaseStartIndex!==-1){this.release=this.version.substr(releaseStartIndex,version.length);this.shortVersion=this.version.substr(0,releaseStartIndex)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");parts=this.version.split(".");this.major=parseInt(parts.shift()||0,10);this.minor=parseInt(parts.shift()||0,10);this.patch=parseInt(parts.shift()||0,10);this.build=parseInt(parts.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(target){return Version.compare(this.version,target)===1},isGreaterThanOrEqual:function(target){return Version.compare(this.version,target)>=0},isLessThan:function(target){return Version.compare(this.version,target)===-1},isLessThanOrEqual:function(target){return Version.compare(this.version,target)<=0},equals:function(target){return Version.compare(this.version,target)===0},match:function(target){target=String(target);return this.version.substr(0,target.length)===target},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(Version,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(value){return!value?0:isNaN(value)?this.releaseValueMap[value]||value:parseInt(value,10)},compare:function(current,target){var currentValue,targetValue,i;current=new Version(current).toArray();target=new Version(target).toArray();for(i=0;i<Math.max(current.length,target.length);i++){currentValue=this.getComponentValue(current[i]);targetValue=this.getComponentValue(target[i]);if(currentValue<targetValue){return-1}else if(currentValue>targetValue){return 1}}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(packageName,version){Ext.versions[packageName]=new Version(version);Ext.lastRegisteredVersion=Ext.versions[packageName];return this},getVersion:function(packageName){if(packageName===undefined){return Ext.lastRegisteredVersion}return Ext.versions[packageName]},deprecate:function(packageName,since,closure,scope){if(Version.compare(Ext.getVersion(packageName),since)<1){closure.call(scope)}}});Ext.setVersion("core",version)})();Ext.String=function(){var trimRegex=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,escapeRe=/('|\\)/g,formatRe=/\{(\d+)\}/g,escapeRegexRe=/([-.*+?\^${}()|\[\]\/\\])/g,basicTrimRe=/^\s+|\s+$/g,whitespaceRe=/\s+/,varReplace=/(^[^a-z]*|[^\w])/gi,charToEntity,entityToChar,charToEntityRegex,entityToCharRegex,htmlEncodeReplaceFn=function(match,capture){return charToEntity[capture]},htmlDecodeReplaceFn=function(match,capture){return capture in entityToChar?entityToChar[capture]:String.fromCharCode(parseInt(capture.substr(2),10))},boundsCheck=function(s,other){if(s===null||s===undefined||other===null||other===undefined){return false}return other.length<=s.length};return{insert:function(s,value,index){if(!s){return value}if(!value){return s}var len=s.length;if(!index&&index!==0){index=len}if(index<0){index*=-1;if(index>=len){index=0}else{index=len-index}}if(index===0){s=value+s}else if(index>=s.length){s+=value}else{s=s.substr(0,index)+value+s.substr(index)}return s},startsWith:function(s,start,ignoreCase){var result=boundsCheck(s,start);if(result){if(ignoreCase){s=s.toLowerCase();start=start.toLowerCase()}result=s.lastIndexOf(start,0)===0}return result},endsWith:function(s,end,ignoreCase){var result=boundsCheck(s,end);if(result){if(ignoreCase){s=s.toLowerCase();end=end.toLowerCase()}result=s.indexOf(end,s.length-end.length)!==-1}return result},createVarName:function(s){return s.replace(varReplace,"")},htmlEncode:function(value){return!value?value:String(value).replace(charToEntityRegex,htmlEncodeReplaceFn)},htmlDecode:function(value){return!value?value:String(value).replace(entityToCharRegex,htmlDecodeReplaceFn)},addCharacterEntities:function(newEntities){var charKeys=[],entityKeys=[],key,echar;for(key in newEntities){echar=newEntities[key];entityToChar[key]=echar;charToEntity[echar]=key;charKeys.push(echar);entityKeys.push(key)}charToEntityRegex=new RegExp("("+charKeys.join("|")+")","g");entityToCharRegex=new RegExp("("+entityKeys.join("|")+"|&#[0-9]{1,5};"+")","g")},resetCharacterEntities:function(){charToEntity={};entityToChar={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(url,string){if(!Ext.isEmpty(string)){return url+(url.indexOf("?")===-1?"?":"&")+string}return url},trim:function(string){return string.replace(trimRegex,"")},capitalize:function(string){return string.charAt(0).toUpperCase()+string.substr(1)},uncapitalize:function(string){return string.charAt(0).toLowerCase()+string.substr(1)},ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index!==-1&&index>=len-15){return vs.substr(0,index)+"..."}}return value.substr(0,len-3)+"..."}return value},escapeRegex:function(string){return string.replace(escapeRegexRe,"\\$1")},escape:function(string){return string.replace(escapeRe,"\\$1")},toggle:function(string,value,other){return string===value?other:value},leftPad:function(string,size,character){var result=String(string);character=character||" ";while(result.length<size){result=character+result}return result},format:function(format){var args=Ext.Array.toArray(arguments,1);return format.replace(formatRe,function(m,i){return args[i]})},repeat:function(pattern,count,sep){if(count<1){count=0}for(var buf=[],i=count;i--;){buf.push(pattern)}return buf.join(sep||"")},splitWords:function(words){if(words&&typeof words=="string"){return words.replace(basicTrimRe,"").split(whitespaceRe)}return words||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Number=new function(){var me=this,isToFixedBroken=.9.toFixed()!=="1",math=Math;Ext.apply(this,{constrain:function(number,min,max){var x=parseFloat(number);return x<min?min:x>max?max:x},snap:function(value,increment,minValue,maxValue){var m;if(value===undefined||value<minValue){return minValue||0}if(increment){m=value%increment;if(m!==0){value-=m;if(m*2>=increment){value+=increment}else if(m*2<-increment){value-=increment}}}return me.constrain(value,minValue,maxValue)},snapInRange:function(value,increment,minValue,maxValue){var tween;minValue=minValue||0;if(value===undefined||value<minValue){return minValue}if(increment&&(tween=(value-minValue)%increment)){value-=tween;tween*=2;if(tween>=increment){value+=increment}}if(maxValue!==undefined){if(value>(maxValue=me.snapInRange(maxValue,increment,minValue))){value=maxValue}}return value},toFixed:isToFixedBroken?function(value,precision){precision=precision||0;var pow=math.pow(10,precision);return(math.round(value*pow)/pow).toFixed(precision)}:function(value,precision){return value.toFixed(precision)},from:function(value,defaultValue){if(isFinite(value)){value=parseFloat(value)}return!isNaN(value)?value:defaultValue},randomInt:function(from,to){return math.floor(math.random()*(to-from+1)+from)},correctFloat:function(n){return parseFloat(n.toPrecision(14))}});Ext.num=function(){return me.from.apply(this,arguments)}};(function(){var arrayPrototype=Array.prototype,slice=arrayPrototype.slice,supportsSplice=function(){var array=[],lengthBefore,j=20;if(!array.splice){return false}while(j--){array.push("A")}array.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");lengthBefore=array.length;array.splice(13,0,"XXX");if(lengthBefore+1!=array.length){return false}return true}(),supportsForEach="forEach"in arrayPrototype,supportsMap="map"in arrayPrototype,supportsIndexOf="indexOf"in arrayPrototype,supportsEvery="every"in arrayPrototype,supportsSome="some"in arrayPrototype,supportsFilter="filter"in arrayPrototype,supportsSort=function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}(),supportsSliceOnNodeList=true,ExtArray,erase,replace,splice;try{if(typeof document!=="undefined"){slice.call(document.getElementsByTagName("body"))}}catch(e){supportsSliceOnNodeList=false}function fixArrayIndex(array,index){return index<0?Math.max(0,array.length+index):Math.min(array.length,index)}function replaceSim(array,index,removeCount,insert){var add=insert?insert.length:0,length=array.length,pos=fixArrayIndex(array,index),remove,tailOldPos,tailNewPos,tailCount,lengthAfterRemove,i;if(pos===length){if(add){array.push.apply(array,insert)}}else{remove=Math.min(removeCount,length-pos);tailOldPos=pos+remove;tailNewPos=tailOldPos+add-remove;tailCount=length-tailOldPos;lengthAfterRemove=length-remove;if(tailNewPos<tailOldPos){for(i=0;i<tailCount;++i){array[tailNewPos+i]=array[tailOldPos+i]}}else if(tailNewPos>tailOldPos){for(i=tailCount;i--;){array[tailNewPos+i]=array[tailOldPos+i]}}if(add&&pos===lengthAfterRemove){array.length=lengthAfterRemove;array.push.apply(array,insert)}else{array.length=lengthAfterRemove+add;for(i=0;i<add;++i){array[pos+i]=insert[i]}}}return array}function replaceNative(array,index,removeCount,insert){if(insert&&insert.length){if(index===0&&!removeCount){array.unshift.apply(array,insert)}else if(index<array.length){array.splice.apply(array,[index,removeCount].concat(insert))}else{array.push.apply(array,insert)}}else{array.splice(index,removeCount)}return array}function eraseSim(array,index,removeCount){return replaceSim(array,index,removeCount)}function eraseNative(array,index,removeCount){array.splice(index,removeCount);return array}function spliceSim(array,index,removeCount){var pos=fixArrayIndex(array,index),removed=array.slice(index,fixArrayIndex(array,pos+removeCount));if(arguments.length<4){replaceSim(array,pos,removeCount)}else{replaceSim(array,pos,removeCount,slice.call(arguments,3))}return removed}function spliceNative(array){return array.splice.apply(array,slice.call(arguments,1))}erase=supportsSplice?eraseNative:eraseSim;replace=supportsSplice?replaceNative:replaceSim;splice=supportsSplice?spliceNative:spliceSim;ExtArray=Ext.Array={each:function(array,fn,scope,reverse){array=ExtArray.from(array);var i,ln=array.length;if(reverse!==true){for(i=0;i<ln;i++){if(fn.call(scope||array[i],array[i],i,array)===false){return i}}}else{for(i=ln-1;i>-1;i--){if(fn.call(scope||array[i],array[i],i,array)===false){return i}}}return true},forEach:supportsForEach?function(array,fn,scope){array.forEach(fn,scope)}:function(array,fn,scope){var i=0,ln=array.length;for(;i<ln;i++){fn.call(scope,array[i],i,array)}},indexOf:supportsIndexOf?function(array,item,from){return arrayPrototype.indexOf.call(array,item,from)}:function(array,item,from){var i,length=array.length;for(i=from<0?Math.max(0,length+from):from||0;i<length;i++){if(array[i]===item){return i}}return-1},contains:supportsIndexOf?function(array,item){return arrayPrototype.indexOf.call(array,item)!==-1}:function(array,item){var i,ln;for(i=0,ln=array.length;i<ln;i++){if(array[i]===item){return true}}return false},toArray:function(iterable,start,end){if(!iterable||!iterable.length){return[]}if(typeof iterable==="string"){iterable=iterable.split("")}if(supportsSliceOnNodeList){return slice.call(iterable,start||0,end||iterable.length)}var array=[],i;start=start||0;end=end?end<0?iterable.length+end:end:iterable.length;for(i=start;i<end;i++){array.push(iterable[i])}return array},pluck:function(array,propertyName){var ret=[],i,ln,item;for(i=0,ln=array.length;i<ln;i++){item=array[i];ret.push(item[propertyName])}return ret},map:supportsMap?function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument.")}return array.map(fn,scope)}:function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument.")}var results=[],i=0,len=array.length;for(;i<len;i++){results[i]=fn.call(scope,array[i],i,array)}return results},every:supportsEvery?function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument.")}return array.every(fn,scope)}:function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument.")}var i=0,ln=array.length;for(;i<ln;++i){if(!fn.call(scope,array[i],i,array)){return false}}return true},some:supportsSome?function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument.")}return array.some(fn,scope)}:function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument.")}var i=0,ln=array.length;for(;i<ln;++i){if(fn.call(scope,array[i],i,array)){return true}}return false},equals:function(array1,array2){var len1=array1.length,len2=array2.length,i;if(array1===array2){return true}if(len1!==len2){return false}for(i=0;i<len1;++i){if(array1[i]!==array2[i]){return false}}return true},clean:function(array){var results=[],i=0,ln=array.length,item;for(;i<ln;i++){item=array[i];if(!Ext.isEmpty(item)){results.push(item)}}return results},unique:function(array){var clone=[],i=0,ln=array.length,item;for(;i<ln;i++){item=array[i];if(ExtArray.indexOf(clone,item)===-1){clone.push(item)}}return clone},filter:supportsFilter?function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.filter must have a filter function passed as second argument.")}return array.filter(fn,scope)}:function(array,fn,scope){if(!fn){Ext.Error.raise("Ext.Array.filter must have a filter function passed as second argument.")}var results=[],i=0,ln=array.length;for(;i<ln;i++){if(fn.call(scope,array[i],i,array)){results.push(array[i])}}return results},findBy:function(array,fn,scope){var i=0,len=array.length;for(;i<len;i++){if(fn.call(scope||array,array[i],i)){return array[i]}}return null},from:function(value,newReference){if(value===undefined||value===null){return[]}if(Ext.isArray(value)){return newReference?slice.call(value):value}var type=typeof value;if(value&&value.length!==undefined&&type!=="string"&&(type!=="function"||!value.apply)){return ExtArray.toArray(value)}return[value]},remove:function(array,item){var index=ExtArray.indexOf(array,item);if(index!==-1){erase(array,index,1)}return array},include:function(array,item){if(!ExtArray.contains(array,item)){array.push(item)}},clone:function(array){return slice.call(array)},merge:function(){var args=slice.call(arguments),array=[],i,ln;for(i=0,ln=args.length;i<ln;i++){array=array.concat(args[i])}return ExtArray.unique(array)},intersect:function(){var intersection=[],arrays=slice.call(arguments),arraysLength,array,arrayLength,minArray,minArrayIndex,minArrayCandidate,minArrayLength,element,elementCandidate,elementCount,i,j,k;if(!arrays.length){return intersection}arraysLength=arrays.length;for(i=minArrayIndex=0;i<arraysLength;i++){minArrayCandidate=arrays[i];if(!minArray||minArrayCandidate.length<minArray.length){minArray=minArrayCandidate;minArrayIndex=i}}minArray=ExtArray.unique(minArray);erase(arrays,minArrayIndex,1);minArrayLength=minArray.length;arraysLength=arrays.length;for(i=0;i<minArrayLength;i++){element=minArray[i];elementCount=0;for(j=0;j<arraysLength;j++){array=arrays[j];arrayLength=array.length;for(k=0;k<arrayLength;k++){elementCandidate=array[k];if(element===elementCandidate){elementCount++;break}}}if(elementCount===arraysLength){intersection.push(element)}}return intersection},difference:function(arrayA,arrayB){var clone=slice.call(arrayA),ln=clone.length,i,j,lnB;for(i=0,lnB=arrayB.length;i<lnB;i++){for(j=0;j<ln;j++){if(clone[j]===arrayB[i]){erase(clone,j,1);j--;ln--}}}return clone},slice:[1,2].slice(1,undefined).length?function(array,begin,end){return slice.call(array,begin,end)}:function(array,begin,end){if(typeof begin==="undefined"){return slice.call(array)}if(typeof end==="undefined"){return slice.call(array,begin)}return slice.call(array,begin,end)},sort:supportsSort?function(array,sortFn){if(sortFn){return array.sort(sortFn)}else{return array.sort()}}:function(array,sortFn){var length=array.length,i=0,comparison,j,min,tmp;for(;i<length;i++){min=i;for(j=i+1;j<length;j++){if(sortFn){comparison=sortFn(array[j],array[min]);if(comparison<0){min=j}}else if(array[j]<array[min]){min=j}}if(min!==i){tmp=array[i];array[i]=array[min];array[min]=tmp}}return array},flatten:function(array){var worker=[];function rFlatten(a){var i,ln,v;for(i=0,ln=a.length;i<ln;i++){v=a[i];if(Ext.isArray(v)){rFlatten(v)}else{worker.push(v)}}return worker}return rFlatten(array)},min:function(array,comparisonFn){var min=array[0],i,ln,item;for(i=0,ln=array.length;i<ln;i++){item=array[i];if(comparisonFn){if(comparisonFn(min,item)===1){min=item}}else{if(item<min){min=item}}}return min},max:function(array,comparisonFn){var max=array[0],i,ln,item;for(i=0,ln=array.length;i<ln;i++){item=array[i];if(comparisonFn){if(comparisonFn(max,item)===-1){max=item}}else{if(item>max){max=item}}}return max},mean:function(array){return array.length>0?ExtArray.sum(array)/array.length:undefined},sum:function(array){var sum=0,i,ln,item;for(i=0,ln=array.length;i<ln;i++){item=array[i];sum+=item}return sum},toMap:function(array,getKey,scope){var map={},i=array.length;if(!getKey){while(i--){map[array[i]]=i+1}}else if(typeof getKey=="string"){while(i--){map[array[i][getKey]]=i+1}}else{while(i--){map[getKey.call(scope,array[i])]=i+1}}return map},toValueMap:function(array,getKey,scope){var map={},i=array.length;if(!getKey){while(i--){map[array[i]]=array[i]}}else if(typeof getKey=="string"){while(i--){map[array[i][getKey]]=array[i]}}else{while(i--){map[getKey.call(scope,array[i])]=array[i]}}return map},_replaceSim:replaceSim,_spliceSim:spliceSim,erase:erase,insert:function(array,index,items){return replace(array,index,0,items)},replace:replace,splice:splice,push:function(array){var len=arguments.length,i=1,newItem;if(array===undefined){array=[]}else if(!Ext.isArray(array)){array=[array]}for(;i<len;i++){newItem=arguments[i];Array.prototype.push[Ext.isIterable(newItem)?"apply":"call"](array,newItem)}return array}};Ext.each=ExtArray.each;ExtArray.union=ExtArray.merge;Ext.min=ExtArray.min;Ext.max=ExtArray.max;Ext.sum=ExtArray.sum;Ext.mean=ExtArray.mean;Ext.flatten=ExtArray.flatten;Ext.clean=ExtArray.clean;Ext.unique=ExtArray.unique;Ext.pluck=ExtArray.pluck;Ext.toArray=function(){return ExtArray.toArray.apply(ExtArray,arguments)}})();Ext.Function={flexSetter:function(fn){return function(a,b){var k,i;if(a===null){return this}if(typeof a!=="string"){for(k in a){if(a.hasOwnProperty(k)){fn.call(this,k,a[k])}}if(Ext.enumerables){for(i=Ext.enumerables.length;i--;){k=Ext.enumerables[i];if(a.hasOwnProperty(k)){fn.call(this,k,a[k])}}}}else{fn.call(this,a,b)}return this}},bind:function(fn,scope,args,appendArgs){if(arguments.length===2){return function(){return fn.apply(scope,arguments)}}var method=fn,slice=Array.prototype.slice;return function(){var callArgs=args||arguments;if(appendArgs===true){callArgs=slice.call(arguments,0);callArgs=callArgs.concat(args)}else if(typeof appendArgs=="number"){callArgs=slice.call(arguments,0);Ext.Array.insert(callArgs,appendArgs,args)}return method.apply(scope||Ext.global,callArgs)}},pass:function(fn,args,scope){if(!Ext.isArray(args)){if(Ext.isIterable(args)){args=Ext.Array.clone(args)}else{args=args!==undefined?[args]:[]}}return function(){var fnArgs=[].concat(args);fnArgs.push.apply(fnArgs,arguments);return fn.apply(scope||this,fnArgs)}},alias:function(object,methodName){return function(){return object[methodName].apply(object,arguments)}},clone:function(method){return function(){return method.apply(this,arguments)}},createInterceptor:function(origFn,newFn,scope,returnValue){var method=origFn;if(!Ext.isFunction(newFn)){return origFn}else{returnValue=Ext.isDefined(returnValue)?returnValue:null;return function(){var me=this,args=arguments;newFn.target=me;newFn.method=origFn;return newFn.apply(scope||me||Ext.global,args)!==false?origFn.apply(me||Ext.global,args):returnValue}}},createDelayed:function(fn,delay,scope,args,appendArgs){if(scope||args){fn=Ext.Function.bind(fn,scope,args,appendArgs)}return function(){var me=this,args=Array.prototype.slice.call(arguments);setTimeout(function(){fn.apply(me,args)},delay)}},defer:function(fn,millis,scope,args,appendArgs){fn=Ext.Function.bind(fn,scope,args,appendArgs);if(millis>0){return setTimeout(Ext.supports.TimeoutActualLateness?function(){fn()}:fn,millis)}fn();return 0},createSequence:function(originalFn,newFn,scope){if(!newFn){return originalFn}else{return function(){var result=originalFn.apply(this,arguments);newFn.apply(scope||this,arguments);return result}}},createBuffered:function(fn,buffer,scope,args){var timerId;return function(){var callArgs=args||Array.prototype.slice.call(arguments,0),me=scope||this;if(timerId){clearTimeout(timerId)}timerId=setTimeout(function(){fn.apply(me,callArgs)},buffer)}},createThrottled:function(fn,interval,scope){var lastCallTime,elapsed,lastArgs,timer,execute=function(){fn.apply(scope||this,lastArgs);lastCallTime=Ext.Date.now()};return function(){elapsed=Ext.Date.now()-lastCallTime;lastArgs=arguments;clearTimeout(timer);if(!lastCallTime||elapsed>=interval){execute()}else{timer=setTimeout(execute,interval-elapsed)}}},interceptBefore:function(object,methodName,fn,scope){var method=object[methodName]||Ext.emptyFn;return object[methodName]=function(){var ret=fn.apply(scope||this,arguments);method.apply(this,arguments);return ret}},interceptAfter:function(object,methodName,fn,scope){var method=object[methodName]||Ext.emptyFn;return object[methodName]=function(){method.apply(this,arguments);return fn.apply(scope||this,arguments)}}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");
(function(){var TemplateClass=function(){},ExtObject=Ext.Object={chain:Object.create||function(object){TemplateClass.prototype=object;var result=new TemplateClass;TemplateClass.prototype=null;return result},toQueryObjects:function(name,value,recursive){var self=ExtObject.toQueryObjects,objects=[],i,ln;if(Ext.isArray(value)){for(i=0,ln=value.length;i<ln;i++){if(recursive){objects=objects.concat(self(name+"["+i+"]",value[i],true))}else{objects.push({name:name,value:value[i]})}}}else if(Ext.isObject(value)){for(i in value){if(value.hasOwnProperty(i)){if(recursive){objects=objects.concat(self(name+"["+i+"]",value[i],true))}else{objects.push({name:name,value:value[i]})}}}}else{objects.push({name:name,value:value})}return objects},toQueryString:function(object,recursive){var paramObjects=[],params=[],i,j,ln,paramObject,value;for(i in object){if(object.hasOwnProperty(i)){paramObjects=paramObjects.concat(ExtObject.toQueryObjects(i,object[i],recursive))}}for(j=0,ln=paramObjects.length;j<ln;j++){paramObject=paramObjects[j];value=paramObject.value;if(Ext.isEmpty(value)){value=""}else if(Ext.isDate(value)){value=Ext.Date.toString(value)}params.push(encodeURIComponent(paramObject.name)+"="+encodeURIComponent(String(value)))}return params.join("&")},fromQueryString:function(queryString,recursive){var parts=queryString.replace(/^\?/,"").split("&"),object={},temp,components,name,value,i,ln,part,j,subLn,matchedKeys,matchedName,keys,key,nextKey;for(i=0,ln=parts.length;i<ln;i++){part=parts[i];if(part.length>0){components=part.split("=");name=decodeURIComponent(components[0]);value=components[1]!==undefined?decodeURIComponent(components[1]):"";if(!recursive){if(object.hasOwnProperty(name)){if(!Ext.isArray(object[name])){object[name]=[object[name]]}object[name].push(value)}else{object[name]=value}}else{matchedKeys=name.match(/(\[):?([^\]]*)\]/g);matchedName=name.match(/^([^\[]+)/);if(!matchedName){throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+part+'"')}name=matchedName[0];keys=[];if(matchedKeys===null){object[name]=value;continue}for(j=0,subLn=matchedKeys.length;j<subLn;j++){key=matchedKeys[j];key=key.length===2?"":key.substring(1,key.length-1);keys.push(key)}keys.unshift(name);temp=object;for(j=0,subLn=keys.length;j<subLn;j++){key=keys[j];if(j===subLn-1){if(Ext.isArray(temp)&&key===""){temp.push(value)}else{temp[key]=value}}else{if(temp[key]===undefined||typeof temp[key]==="string"){nextKey=keys[j+1];temp[key]=Ext.isNumeric(nextKey)||nextKey===""?[]:{}}temp=temp[key]}}}}}return object},each:function(object,fn,scope){for(var property in object){if(object.hasOwnProperty(property)){if(fn.call(scope||object,property,object[property],object)===false){return}}}},merge:function(destination){var i=1,ln=arguments.length,mergeFn=ExtObject.merge,cloneFn=Ext.clone,object,key,value,sourceKey;for(;i<ln;i++){object=arguments[i];for(key in object){value=object[key];if(value&&value.constructor===Object){sourceKey=destination[key];if(sourceKey&&sourceKey.constructor===Object){mergeFn(sourceKey,value)}else{destination[key]=cloneFn(value)}}else{destination[key]=value}}}return destination},mergeIf:function(destination){var i=1,ln=arguments.length,cloneFn=Ext.clone,object,key,value;for(;i<ln;i++){object=arguments[i];for(key in object){if(!(key in destination)){value=object[key];if(value&&value.constructor===Object){destination[key]=cloneFn(value)}else{destination[key]=value}}}}return destination},getKey:function(object,value){for(var property in object){if(object.hasOwnProperty(property)&&object[property]===value){return property}}return null},getValues:function(object){var values=[],property;for(property in object){if(object.hasOwnProperty(property)){values.push(object[property])}}return values},getKeys:typeof Object.keys=="function"?function(object){if(!object){return[]}return Object.keys(object)}:function(object){var keys=[],property;for(property in object){if(object.hasOwnProperty(property)){keys.push(property)}}return keys},getSize:function(object){var size=0,property;for(property in object){if(object.hasOwnProperty(property)){size++}}return size},isEmpty:function(object){for(var key in object){if(object.hasOwnProperty(key)){return false}}return true},equals:function(){var check=function(o1,o2){var key;for(key in o1){if(o1.hasOwnProperty(key)){if(o1[key]!==o2[key]){return false}}}return true};return function(object1,object2){if(object1===object2){return true}if(object1&&object2){return check(object1,object2)&&check(object2,object1)}else if(!object1&&!object2){return object1===object2}else{return false}}}(),classify:function(object){var prototype=object,objectProperties=[],propertyClassesMap={},objectClass=function(){var i=0,ln=objectProperties.length,property;for(;i<ln;i++){property=objectProperties[i];this[property]=new propertyClassesMap[property]}},key,value;for(key in object){if(object.hasOwnProperty(key)){value=object[key];if(value&&value.constructor===Object){objectProperties.push(key);propertyClassesMap[key]=ExtObject.classify(value)}}}objectClass.prototype=prototype;return objectClass}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var args=Ext.Array.from(arguments),prefix="";if(typeof args[1]==="string"){prefix=args[1]+"&";args[1]=false}return prefix+ExtObject.toQueryString.apply(ExtObject,args)};Ext.urlDecode=function(){return ExtObject.fromQueryString.apply(ExtObject,arguments)}})();Ext.Date=new function(){var utilDate=this,stripEscapeRe=/(\\.)/g,hourInfoRe=/([gGhHisucUOPZ]|MS)/,dateInfoRe=/([djzmnYycU]|MS)/,slashRe=/\\/gi,numberTokenRe=/\{(\d+)\}/g,MSFormatRe=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),code=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function xf(format){var args=Array.prototype.slice.call(arguments,1);return format.replace(numberTokenRe,function(m,i){return args[i]})}Ext.apply(utilDate,{now:Date.now||function(){return+new Date},toString:function(date){var pad=Ext.String.leftPad;return date.getFullYear()+"-"+pad(date.getMonth()+1,2,"0")+"-"+pad(date.getDate(),2,"0")+"T"+pad(date.getHours(),2,"0")+":"+pad(date.getMinutes(),2,"0")+":"+pad(date.getSeconds(),2,"0")},getElapsed:function(dateA,dateB){return Math.abs(dateA-(dateB||utilDate.now()))},useStrict:false,formatCodeToRegex:function(character,currentGroup){var p=utilDate.parseCodes[character];if(p){p=typeof p=="function"?p():p;utilDate.parseCodes[character]=p}return p?Ext.applyIf({c:p.c?xf(p.c,currentGroup||"{0}"):p.c},p):{g:0,c:null,s:Ext.String.escapeRegex(character)}},parseFunctions:{MS:function(input,strict){var r=(input||"").match(MSFormatRe);return r?new Date(((r[1]||"")+r[2])*1):null},time:function(input,strict){var num=parseInt(input,10);if(num||num===0){return new Date(num)}return null},timestamp:function(input,strict){var num=parseInt(input,10);if(num||num===0){return new Date(num*1e3)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return utilDate.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(month){return Ext.Date.monthNames[month].substring(0,3)},getShortDayName:function(day){return Ext.Date.dayNames[day].substring(0,3)},getMonthNumber:function(name){return Ext.Date.monthNumbers[name.substring(0,1).toUpperCase()+name.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(format){return hourInfoRe.test(format.replace(stripEscapeRe,""))},formatContainsDateInfo:function(format){return dateInfoRe.test(format.replace(stripEscapeRe,""))},unescapeFormat:function(format){return format.replace(slashRe,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var c,code,i,l,e;for(c="Y-m-dTH:i:sP",code=[],i=0,l=c.length;i<l;++i){e=c.charAt(i);code.push(e=="T"?"'T'":utilDate.getFormatCode(e))}return code.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(y,m,d,h,i,s,ms){h=h||0;i=i||0;s=s||0;ms=ms||0;var dt=utilDate.add(new Date(y<100?100:y,m-1,d,h,i,s,ms),utilDate.YEAR,y<100?y-100:0);return y==dt.getFullYear()&&m==dt.getMonth()+1&&d==dt.getDate()&&h==dt.getHours()&&i==dt.getMinutes()&&s==dt.getSeconds()&&ms==dt.getMilliseconds()},parse:function(input,format,strict){var p=utilDate.parseFunctions;if(p[format]==null){utilDate.createParser(format)}return p[format].call(utilDate,input,Ext.isDefined(strict)?strict:utilDate.useStrict)},parseDate:function(input,format,strict){return utilDate.parse(input,format,strict)},getFormatCode:function(character){var f=utilDate.formatCodes[character];if(f){f=typeof f=="function"?f():f;utilDate.formatCodes[character]=f}return f||"'"+Ext.String.escape(character)+"'"},createFormat:function(format){var code=[],special=false,ch="",i;for(i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true}else if(special){special=false;code.push("'"+Ext.String.escape(ch)+"'")}else{code.push(utilDate.getFormatCode(ch))}}utilDate.formatFunctions[format]=Ext.functionFactory("return "+code.join("+"))},createParser:function(format){var regexNum=utilDate.parseRegexes.length,currentGroup=1,calc=[],regex=[],special=false,ch="",i=0,len=format.length,atEnd=[],obj;for(;i<len;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true}else if(special){special=false;regex.push(Ext.String.escape(ch))}else{obj=utilDate.formatCodeToRegex(ch,currentGroup);currentGroup+=obj.g;regex.push(obj.s);if(obj.g&&obj.c){if(obj.calcAtEnd){atEnd.push(obj.c)}else{calc.push(obj.c)}}}}calc=calc.concat(atEnd);utilDate.parseRegexes[regexNum]=new RegExp("^"+regex.join("")+"$","i");utilDate.parseFunctions[format]=Ext.functionFactory("input","strict",xf(code,regexNum,calc.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var a=[],i=0;i<7;a.push(utilDate.getShortDayName(i)),++i){}return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+utilDate.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+utilDate.monthNames.join("|")+")"}},M:function(){for(var a=[],i=0;i<12;a.push(utilDate.getShortMonthName(i)),++i){}return Ext.applyIf({s:"("+a.join("|")+")"},utilDate.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\n"+"y = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\n"+"if (!h || h == 12) { h = 0; }\n"+"} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\n"+"if (!h || h == 12) { h = 0; }\n"+"} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\n"+"zz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var calc=[],arr=[utilDate.formatCodeToRegex("Y",1),utilDate.formatCodeToRegex("m",2),utilDate.formatCodeToRegex("d",3),utilDate.formatCodeToRegex("H",4),utilDate.formatCodeToRegex("i",5),utilDate.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",utilDate.formatCodeToRegex("P",8).c,"}else{",utilDate.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],i,l;for(i=0,l=arr.length;i<l;++i){calc.push(arr[i].c)}return{g:1,c:calc.join(""),s:[arr[0].s,"(?:","-",arr[1].s,"(?:","-",arr[2].s,"(?:","(?:T| )?",arr[3].s,":",arr[4].s,"(?::",arr[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(date,format){return utilDate.format(date,format)},isEqual:function(date1,date2){if(date1&&date2){return date1.getTime()===date2.getTime()}return!(date1||date2)},format:function(date,format){var formatFunctions=utilDate.formatFunctions;if(!Ext.isDate(date)){return""}if(formatFunctions[format]==null){utilDate.createFormat(format)}return formatFunctions[format].call(date)+""},getTimezone:function(date){return date.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(date,colon){var offset=date.getTimezoneOffset();return(offset>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(offset)/60),2,"0")+(colon?":":"")+Ext.String.leftPad(Math.abs(offset%60),2,"0")},getDayOfYear:function(date){var num=0,d=Ext.Date.clone(date),m=date.getMonth(),i;for(i=0,d.setDate(1),d.setMonth(0);i<m;d.setMonth(++i)){num+=utilDate.getDaysInMonth(d)}return num+date.getDate()-1},getWeekOfYear:function(){var ms1d=864e5,ms7d=7*ms1d;return function(date){var DC3=Date.UTC(date.getFullYear(),date.getMonth(),date.getDate()+3)/ms1d,AWN=Math.floor(DC3/7),Wyr=new Date(AWN*ms7d).getUTCFullYear();return AWN-Math.floor(Date.UTC(Wyr,0,7)/ms7d)+1}}(),isLeapYear:function(date){var year=date.getFullYear();return!!((year&3)==0&&(year%100||year%400==0&&year))},getFirstDayOfMonth:function(date){var day=(date.getDay()-(date.getDate()-1))%7;return day<0?day+7:day},getLastDayOfMonth:function(date){return utilDate.getLastDateOfMonth(date).getDay()},getFirstDateOfMonth:function(date){return new Date(date.getFullYear(),date.getMonth(),1)},getLastDateOfMonth:function(date){return new Date(date.getFullYear(),date.getMonth(),utilDate.getDaysInMonth(date))},getDaysInMonth:function(){var daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];return function(date){var m=date.getMonth();return m==1&&utilDate.isLeapYear(date)?29:daysInMonth[m]}}(),getSuffix:function(date){switch(date.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(date){return new Date(date.getTime())},isDST:function(date){return new Date(date.getFullYear(),0,1).getTimezoneOffset()!=date.getTimezoneOffset()},clearTime:function(date,clone){if(clone){return Ext.Date.clearTime(Ext.Date.clone(date))}var d=date.getDate(),hr,c;date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0);if(date.getDate()!=d){for(hr=1,c=utilDate.add(date,Ext.Date.HOUR,hr);c.getDate()!=d;hr++,c=utilDate.add(date,Ext.Date.HOUR,hr)){}date.setDate(d);date.setHours(c.getHours())}return date},add:function(date,interval,value){var d=Ext.Date.clone(date),Date=Ext.Date,day,decimalValue,base=0;if(!interval||value===0){return d}decimalValue=value-parseInt(value,10);value=parseInt(value,10);if(value){switch(interval.toLowerCase()){case Ext.Date.MILLI:d.setTime(d.getTime()+value);break;case Ext.Date.SECOND:d.setTime(d.getTime()+value*1e3);break;case Ext.Date.MINUTE:d.setTime(d.getTime()+value*60*1e3);break;case Ext.Date.HOUR:d.setTime(d.getTime()+value*60*60*1e3);break;case Ext.Date.DAY:d.setDate(d.getDate()+value);break;case Ext.Date.MONTH:day=date.getDate();if(day>28){day=Math.min(day,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(date),Ext.Date.MONTH,value)).getDate())};d.setDate(day);d.setMonth(date.getMonth()+value);break;case Ext.Date.YEAR:day=date.getDate();if(day>28){day=Math.min(day,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(date),Ext.Date.YEAR,value)).getDate())};d.setDate(day);d.setFullYear(date.getFullYear()+value);break}}if(decimalValue){switch(interval.toLowerCase()){case Ext.Date.MILLI:base=1;break;case Ext.Date.SECOND:base=1e3;break;case Ext.Date.MINUTE:base=1e3*60;break;case Ext.Date.HOUR:base=1e3*60*60;break;case Ext.Date.DAY:base=1e3*60*60*24;break;case Ext.Date.MONTH:day=utilDate.getDaysInMonth(d);base=1e3*60*60*24*day;break;case Ext.Date.YEAR:day=utilDate.isLeapYear(d)?366:365;base=1e3*60*60*24*day;break}if(base){d.setTime(d.getTime()+base*decimalValue)}}return d},subtract:function(date,interval,value){return utilDate.add(date,interval,-value)},between:function(date,start,end){var t=date.getTime();return start.getTime()<=t&&t<=end.getTime()},compat:function(){var nativeDate=window.Date,p,statics=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],proto=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],sLen=statics.length,pLen=proto.length,stat,prot,s;for(s=0;s<sLen;s++){stat=statics[s];nativeDate[stat]=utilDate[stat]}for(p=0;p<pLen;p++){prot=proto[p];nativeDate.prototype[prot]=function(){var args=Array.prototype.slice.call(arguments);args.unshift(this);return utilDate[prot].apply(utilDate,args)}}}})};(function(flexSetter){var noArgs=[],Base=function(){},hookFunctionFactory=function(hookFunction,underriddenFunction,methodName,owningClass){var result=function(){var result=this.callParent(arguments);hookFunction.apply(this,arguments);return result};result.$name=methodName;result.$owner=owningClass;if(underriddenFunction){result.$previous=underriddenFunction.$previous;underriddenFunction.$previous=result}return result};Ext.apply(Base,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(parent){var parentPrototype=parent.prototype,basePrototype,prototype,i,ln,name,statics;prototype=this.prototype=Ext.Object.chain(parentPrototype);prototype.self=this;this.superclass=prototype.superclass=parentPrototype;if(!parent.$isClass){basePrototype=Ext.Base.prototype;for(i in basePrototype){if(i in prototype){prototype[i]=basePrototype[i]}}}statics=parentPrototype.$inheritableStatics;if(statics){for(i=0,ln=statics.length;i<ln;i++){name=statics[i];if(!this.hasOwnProperty(name)){this[name]=parent[name]}}}if(parent.$onExtended){this.$onExtended=parent.$onExtended.slice()}prototype.config=new prototype.configClass;prototype.initConfigList=prototype.initConfigList.slice();prototype.initConfigMap=Ext.clone(prototype.initConfigMap);prototype.configMap=Ext.Object.chain(prototype.configMap)},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var callbacks=this.$onExtended,ln=callbacks.length,i,callback;if(ln>0){for(i=0;i<ln;i++){callback=callbacks[i];callback.fn.apply(callback.scope||this,arguments)}}},onExtended:function(fn,scope){this.$onExtended.push({fn:fn,scope:scope});return this},addConfig:function(config,fullMerge){var prototype=this.prototype,configNameCache=Ext.Class.configNameCache,hasConfig=prototype.configMap,initConfigList=prototype.initConfigList,initConfigMap=prototype.initConfigMap,defaultConfig=prototype.config,initializedName,name,value;for(name in config){if(config.hasOwnProperty(name)){if(!hasConfig[name]){hasConfig[name]=true}value=config[name];initializedName=configNameCache[name].initialized;if(!initConfigMap[name]&&value!==null&&!prototype[initializedName]){initConfigMap[name]=true;initConfigList.push(name)}}}if(fullMerge){Ext.merge(defaultConfig,config)}else{Ext.mergeIf(defaultConfig,config)}prototype.configClass=Ext.Object.classify(defaultConfig)},addStatics:function(members){var member,name;for(name in members){if(members.hasOwnProperty(name)){member=members[name];if(typeof member=="function"&&!member.$isClass&&member!==Ext.emptyFn&&member!==Ext.identityFn){member.$owner=this;member.$name=name;member.displayName=Ext.getClassName(this)+"."+name}this[name]=member}}return this},addInheritableStatics:function(members){var inheritableStatics,hasInheritableStatics,prototype=this.prototype,name,member;inheritableStatics=prototype.$inheritableStatics;hasInheritableStatics=prototype.$hasInheritableStatics;if(!inheritableStatics){inheritableStatics=prototype.$inheritableStatics=[];hasInheritableStatics=prototype.$hasInheritableStatics={}}for(name in members){if(members.hasOwnProperty(name)){member=members[name];if(typeof member=="function"){member.displayName=Ext.getClassName(this)+"."+name}this[name]=member;if(!hasInheritableStatics[name]){hasInheritableStatics[name]=true;inheritableStatics.push(name)}}}return this},addMembers:function(members){var prototype=this.prototype,enumerables=Ext.enumerables,names=[],i,ln,name,member;for(name in members){names.push(name)}if(enumerables){names.push.apply(names,enumerables)}for(i=0,ln=names.length;i<ln;i++){name=names[i];if(members.hasOwnProperty(name)){member=members[name];if(typeof member=="function"&&!member.$isClass&&member!==Ext.emptyFn&&member!==Ext.identityFn){member.$owner=this;member.$name=name;member.displayName=(this.$className||"")+"#"+name}prototype[name]=member}}return this},addMember:function(name,member){if(typeof member=="function"&&!member.$isClass&&member!==Ext.emptyFn&&member!==Ext.identityFn){member.$owner=this;member.$name=name;member.displayName=(this.$className||"")+"#"+name}this.prototype[name]=member;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(fromClass,members){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);var prototype=this.prototype,fromPrototype=fromClass.prototype,className=Ext.getClassName(this),i,ln,name,fn,toBorrow;members=Ext.Array.from(members);for(i=0,ln=members.length;i<ln;i++){name=members[i];toBorrow=fromPrototype[name];if(typeof toBorrow=="function"){fn=Ext.Function.clone(toBorrow);if(className){fn.displayName=className+"#"+name}fn.$owner=this;fn.$name=name;prototype[name]=fn}else{prototype[name]=toBorrow}}return this},override:function(members){var me=this,enumerables=Ext.enumerables,target=me.prototype,cloneFunction=Ext.Function.clone,name,index,member,statics,names,previous;if(arguments.length===2){name=members;members={};members[name]=arguments[1];enumerables=null}do{names=[];statics=null;for(name in members){if(name=="statics"){statics=members[name]}else if(name=="inheritableStatics"){me.addInheritableStatics(members[name])}else if(name=="config"){me.addConfig(members[name],true)}else{names.push(name)}}if(enumerables){names.push.apply(names,enumerables)}for(index=names.length;index--;){name=names[index];if(members.hasOwnProperty(name)){member=members[name];if(typeof member=="function"&&!member.$className&&member!==Ext.emptyFn&&member!==Ext.identityFn){if(typeof member.$owner!="undefined"){member=cloneFunction(member)}if(me.$className){member.displayName=me.$className+"#"+name}member.$owner=me;member.$name=name;previous=target[name];if(previous){member.$previous=previous}}target[name]=member}}target=me;members=statics}while(members);return this},callParent:function(args){var method;return(method=this.callParent.caller)&&(method.$previous||(method=method.$owner?method:method.caller)&&method.$owner.superclass.self[method.$name]).apply(this,args||noArgs)},callSuper:function(args){var method;return(method=this.callSuper.caller)&&((method=method.$owner?method:method.caller)&&method.$owner.superclass.self[method.$name]).apply(this,args||noArgs)},mixin:function(name,mixinClass){var me=this,mixin=mixinClass.prototype,prototype=me.prototype,key,statics,i,ln,staticName,mixinValue,hookKey,hookFunction;if(typeof mixin.onClassMixedIn!="undefined"){mixin.onClassMixedIn.call(mixinClass,me)}if(!prototype.hasOwnProperty("mixins")){if("mixins"in prototype){prototype.mixins=Ext.Object.chain(prototype.mixins)}else{prototype.mixins={}}}for(key in mixin){mixinValue=mixin[key];if(key==="mixins"){Ext.merge(prototype.mixins,mixinValue)}else if(key==="xhooks"){for(hookKey in mixinValue){hookFunction=mixinValue[hookKey];hookFunction.$previous=Ext.emptyFn;if(prototype.hasOwnProperty(hookKey)){hookFunctionFactory(hookFunction,prototype[hookKey],hookKey,me)}else{prototype[hookKey]=hookFunctionFactory(hookFunction,null,hookKey,me)}}}else if(!(key==="mixinId"||key==="config")&&prototype[key]===undefined){prototype[key]=mixinValue}}statics=mixin.$inheritableStatics;if(statics){for(i=0,ln=statics.length;i<ln;i++){staticName=statics[i];if(!me.hasOwnProperty(staticName)){me[staticName]=mixinClass[staticName]}}}if("config"in mixin){me.addConfig(mixin.config,false)}prototype.mixins[name]=mixin;return me},getName:function(){return Ext.getClassName(this)},createAlias:flexSetter(function(alias,origin){this.override(alias,function(){return this[origin].apply(this,arguments)})}),addXtype:function(xtype){var prototype=this.prototype,xtypesMap=prototype.xtypesMap,xtypes=prototype.xtypes,xtypesChain=prototype.xtypesChain;if(!prototype.hasOwnProperty("xtypesMap")){xtypesMap=prototype.xtypesMap=Ext.merge({},prototype.xtypesMap||{});xtypes=prototype.xtypes=prototype.xtypes?[].concat(prototype.xtypes):[];xtypesChain=prototype.xtypesChain=prototype.xtypesChain?[].concat(prototype.xtypesChain):[];prototype.xtype=xtype}if(!xtypesMap[xtype]){xtypesMap[xtype]=true;xtypes.push(xtype);xtypesChain.push(xtype);Ext.ClassManager.setAlias(this,"widget."+xtype)}return this}});Base.implement({isInstance:true,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var method=this.statics.caller,self=this.self;if(!method){return self}return method.$owner},callParent:function(args){var method,superMethod=(method=this.callParent.caller)&&(method.$previous||(method=method.$owner?method:method.caller)&&method.$owner.superclass[method.$name]);if(!superMethod){method=this.callParent.caller;var parentClass,methodName;if(!method.$owner){if(!method.caller){throw new Error("Attempting to call a protected method from the public scope, which is not allowed")}method=method.caller}parentClass=method.$owner.superclass;methodName=method.$name;if(!(methodName in parentClass)){throw new Error("this.callParent() was called but there's no such method ("+methodName+") found in the parent class ("+(Ext.getClassName(parentClass)||"Object")+")")}}return superMethod.apply(this,args||noArgs)},callSuper:function(args){var method,superMethod=(method=this.callSuper.caller)&&((method=method.$owner?method:method.caller)&&method.$owner.superclass[method.$name]);if(!superMethod){method=this.callSuper.caller;var parentClass,methodName;if(!method.$owner){if(!method.caller){throw new Error("Attempting to call a protected method from the public scope, which is not allowed")}method=method.caller}parentClass=method.$owner.superclass;methodName=method.$name;if(!(methodName in parentClass)){throw new Error("this.callSuper() was called but there's no such method ("+methodName+") found in the parent class ("+(Ext.getClassName(parentClass)||"Object")+")")
}}return superMethod.apply(this,args||noArgs)},self:Base,constructor:function(){return this},initConfig:function(config){var instanceConfig=config,configNameCache=Ext.Class.configNameCache,defaultConfig=new this.configClass,defaultConfigList=this.initConfigList,hasConfig=this.configMap,nameMap,i,ln,name,initializedName;this.initConfig=Ext.emptyFn;this.initialConfig=instanceConfig||{};this.config=config=instanceConfig?Ext.merge(defaultConfig,config):defaultConfig;if(instanceConfig){defaultConfigList=defaultConfigList.slice();for(name in instanceConfig){if(hasConfig[name]){if(instanceConfig[name]!==null){defaultConfigList.push(name);this[configNameCache[name].initialized]=false}}}}for(i=0,ln=defaultConfigList.length;i<ln;i++){name=defaultConfigList[i];nameMap=configNameCache[name];initializedName=nameMap.initialized;if(!this[initializedName]){this[initializedName]=true;this[nameMap.set].call(this,config[name])}}return this},hasConfig:function(name){return Boolean(this.configMap[name])},setConfig:function(config,applyIfNotSet){if(!config){return this}var configNameCache=Ext.Class.configNameCache,currentConfig=this.config,hasConfig=this.configMap,initialConfig=this.initialConfig,name,value;applyIfNotSet=Boolean(applyIfNotSet);for(name in config){if(applyIfNotSet&&initialConfig.hasOwnProperty(name)){continue}value=config[name];currentConfig[name]=value;if(hasConfig[name]){this[configNameCache[name].set](value)}}return this},getConfig:function(name){var configNameCache=Ext.Class.configNameCache;return this[configNameCache[name].get]()},getInitialConfig:function(name){var config=this.config;if(!name){return config}else{return config[name]}},onConfigUpdate:function(names,callback,scope){var self=this.self,className=self.$className,i,ln,name,updaterName,updater,newUpdater;names=Ext.Array.from(names);scope=scope||this;for(i=0,ln=names.length;i<ln;i++){name=names[i];updaterName="update"+Ext.String.capitalize(name);updater=this[updaterName]||Ext.emptyFn;newUpdater=function(){updater.apply(this,arguments);scope[callback].apply(scope,arguments)};newUpdater.$name=updaterName;newUpdater.$owner=self;newUpdater.displayName=className+"#"+updaterName;this[updaterName]=newUpdater}},destroy:function(){this.destroy=Ext.emptyFn}});Base.prototype.callOverridden=Base.prototype.callParent;Ext.Base=Base})(Ext.Function.flexSetter);(function(){var ExtClass,Base=Ext.Base,baseStaticMembers=[],baseStaticMember,baseStaticMemberLength;for(baseStaticMember in Base){if(Base.hasOwnProperty(baseStaticMember)){baseStaticMembers.push(baseStaticMember)}}baseStaticMemberLength=baseStaticMembers.length;function makeCtor(className){function constructor(){return this.constructor.apply(this,arguments)||null}if(className){constructor.displayName=className}return constructor}Ext.Class=ExtClass=function(Class,data,onCreated){if(typeof Class!="function"){onCreated=data;data=Class;Class=null}if(!data){data={}}Class=ExtClass.create(Class,data);ExtClass.process(Class,data,onCreated);return Class};Ext.apply(ExtClass,{onBeforeCreated:function(Class,data,hooks){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,">> Ext.Class#onBeforeCreated",arguments);Class.addMembers(data);hooks.onCreated.call(Class,Class);Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"<< Ext.Class#onBeforeCreated",arguments)},create:function(Class,data){var name,i;if(!Class){Class=makeCtor(data.$className)}for(i=0;i<baseStaticMemberLength;i++){name=baseStaticMembers[i];Class[name]=Base[name]}return Class},process:function(Class,data,onCreated){var preprocessorStack=data.preprocessors||ExtClass.defaultPreprocessors,registeredPreprocessors=this.preprocessors,hooks={onBeforeCreated:this.onBeforeCreated},preprocessors=[],preprocessor,preprocessorsProperties,i,ln,j,subLn,preprocessorProperty;delete data.preprocessors;for(i=0,ln=preprocessorStack.length;i<ln;i++){preprocessor=preprocessorStack[i];if(typeof preprocessor=="string"){preprocessor=registeredPreprocessors[preprocessor];preprocessorsProperties=preprocessor.properties;if(preprocessorsProperties===true){preprocessors.push(preprocessor.fn)}else if(preprocessorsProperties){for(j=0,subLn=preprocessorsProperties.length;j<subLn;j++){preprocessorProperty=preprocessorsProperties[j];if(data.hasOwnProperty(preprocessorProperty)){preprocessors.push(preprocessor.fn);break}}}}else{preprocessors.push(preprocessor)}}hooks.onCreated=onCreated?onCreated:Ext.emptyFn;hooks.preprocessors=preprocessors;this.doProcess(Class,data,hooks)},doProcess:function(Class,data,hooks){var me=this,preprocessors=hooks.preprocessors,preprocessor=preprocessors.shift(),doProcess=me.doProcess;for(;preprocessor;preprocessor=preprocessors.shift()){if(preprocessor.call(me,Class,data,hooks,doProcess)===false){return}}hooks.onBeforeCreated.apply(me,arguments)},preprocessors:{},registerPreprocessor:function(name,fn,properties,position,relativeTo){if(!position){position="last"}if(!properties){properties=[name]}this.preprocessors[name]={name:name,properties:properties||false,fn:fn};this.setDefaultPreprocessorPosition(name,position,relativeTo);return this},getPreprocessor:function(name){return this.preprocessors[name]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(preprocessors){this.defaultPreprocessors=Ext.Array.from(preprocessors);return this},setDefaultPreprocessorPosition:function(name,offset,relativeName){var defaultPreprocessors=this.defaultPreprocessors,index;if(typeof offset=="string"){if(offset==="first"){defaultPreprocessors.unshift(name);return this}else if(offset==="last"){defaultPreprocessors.push(name);return this}offset=offset==="after"?1:-1}index=Ext.Array.indexOf(defaultPreprocessors,relativeName);if(index!==-1){Ext.Array.splice(defaultPreprocessors,Math.max(0,index+offset),0,name)}return this},configNameCache:{},getConfigNameMap:function(name){var cache=this.configNameCache,map=cache[name],capitalizedName;if(!map){capitalizedName=name.charAt(0).toUpperCase()+name.substr(1);map=cache[name]={internal:name,initialized:"_is"+capitalizedName+"Initialized",apply:"apply"+capitalizedName,update:"update"+capitalizedName,set:"set"+capitalizedName,get:"get"+capitalizedName,doSet:"doSet"+capitalizedName,changeEvent:name.toLowerCase()+"change"}}return map}});ExtClass.registerPreprocessor("extend",function(Class,data,hooks){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"Ext.Class#extendPreProcessor",arguments);var Base=Ext.Base,basePrototype=Base.prototype,extend=data.extend,Parent,parentPrototype,i;delete data.extend;if(extend&&extend!==Object){Parent=extend}else{Parent=Base}parentPrototype=Parent.prototype;if(!Parent.$isClass){for(i in basePrototype){if(!parentPrototype[i]){parentPrototype[i]=basePrototype[i]}}}Class.extend(Parent);Class.triggerExtended.apply(Class,arguments);if(data.onClassExtended){Class.onExtended(data.onClassExtended,Class);delete data.onClassExtended}},true);ExtClass.registerPreprocessor("statics",function(Class,data){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"Ext.Class#staticsPreprocessor",arguments);Class.addStatics(data.statics);delete data.statics});ExtClass.registerPreprocessor("inheritableStatics",function(Class,data){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"Ext.Class#inheritableStaticsPreprocessor",arguments);Class.addInheritableStatics(data.inheritableStatics);delete data.inheritableStatics});ExtClass.registerPreprocessor("config",function(Class,data){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"Ext.Class#configPreProcessor",arguments);var config=data.config,prototype=Class.prototype;delete data.config;Ext.Object.each(config,function(name,value){var nameMap=ExtClass.getConfigNameMap(name),internalName=nameMap.internal,initializedName=nameMap.initialized,applyName=nameMap.apply,updateName=nameMap.update,setName=nameMap.set,getName=nameMap.get,hasOwnSetter=setName in prototype||data.hasOwnProperty(setName),hasOwnApplier=applyName in prototype||data.hasOwnProperty(applyName),hasOwnUpdater=updateName in prototype||data.hasOwnProperty(updateName),optimizedGetter,customGetter;if(value===null||!hasOwnSetter&&!hasOwnApplier&&!hasOwnUpdater){prototype[internalName]=value;prototype[initializedName]=true}else{prototype[initializedName]=false}if(!hasOwnSetter){data[setName]=function(value){var oldValue=this[internalName],applier=this[applyName],updater=this[updateName];if(!this[initializedName]){this[initializedName]=true}if(applier){value=applier.call(this,value,oldValue)}if(typeof value!="undefined"){this[internalName]=value;if(updater&&value!==oldValue){updater.call(this,value,oldValue)}}return this}}if(!(getName in prototype)||data.hasOwnProperty(getName)){customGetter=data[getName]||false;if(customGetter){optimizedGetter=function(){return customGetter.apply(this,arguments)}}else{optimizedGetter=function(){return this[internalName]}}data[getName]=function(){var currentGetter;if(!this[initializedName]){this[initializedName]=true;this[setName](this.config[name])}currentGetter=this[getName];if("$previous"in currentGetter){currentGetter.$previous=optimizedGetter}else{this[getName]=optimizedGetter}return optimizedGetter.apply(this,arguments)}}});Class.addConfig(config,true)});ExtClass.registerPreprocessor("mixins",function(Class,data,hooks){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"Ext.Class#mixinsPreprocessor",arguments);var mixins=data.mixins,name,mixin,i,ln;delete data.mixins;Ext.Function.interceptBefore(hooks,"onCreated",function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments);if(mixins instanceof Array){for(i=0,ln=mixins.length;i<ln;i++){mixin=mixins[i];name=mixin.prototype.mixinId||mixin.$className;Class.mixin(name,mixin)}}else{for(var mixinName in mixins){if(mixins.hasOwnProperty(mixinName)){Class.mixin(mixinName,mixins[mixinName])}}}})});Ext.extend=function(Class,Parent,members){Ext.classSystemMonitor&&Ext.classSystemMonitor(Class,"Ext.Class#extend-backwards-compatible",arguments);if(arguments.length===2&&Ext.isObject(Parent)){members=Parent;Parent=Class;Class=null}var cls;if(!Parent){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}members.extend=Parent;members.preprocessors=["extend","statics","inheritableStatics","mixins","config"];if(Class){cls=new ExtClass(Class,members);cls.prototype.constructor=Class}else{cls=new ExtClass(members)}cls.prototype.override=function(o){for(var m in o){if(o.hasOwnProperty(m)){this[m]=o[m]}}};return cls}})();(function(Class,alias,arraySlice,arrayFrom,global){function makeCtor(){function constructor(){return this.constructor.apply(this,arguments)||null}return constructor}var Manager=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(className){var existCache=this.existCache,i,ln,part,root,parts;if(typeof className!="string"||className.length<1){throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty")}if(this.classes[className]||existCache[className]){return true}root=global;parts=this.parseNamespace(className);for(i=0,ln=parts.length;i<ln;i++){part=parts[i];if(typeof part!="string"){root=part}else{if(!root||!root[part]){return false}root=root[part]}}existCache[className]=true;this.triggerCreated(className);return true},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(className){var listeners=this.createdListeners,nameListeners=this.nameCreatedListeners,alternateNames=this.maps.nameToAlternates[className],names=[className],i,ln,j,subLn,listener,name;for(i=0,ln=listeners.length;i<ln;i++){listener=listeners[i];listener.fn.call(listener.scope,className)}if(alternateNames){names.push.apply(names,alternateNames)}for(i=0,ln=names.length;i<ln;i++){name=names[i];listeners=nameListeners[name];if(listeners){for(j=0,subLn=listeners.length;j<subLn;j++){listener=listeners[j];listener.fn.call(listener.scope,name)}delete nameListeners[name]}}},onCreated:function(fn,scope,className){Ext.classSystemMonitor&&Ext.classSystemMonitor(className,"Ext.ClassManager#onCreated",arguments);var listeners=this.createdListeners,nameListeners=this.nameCreatedListeners,listener={fn:fn,scope:scope};if(className){if(this.isCreated(className)){fn.call(scope,className);return}if(!nameListeners[className]){nameListeners[className]=[]}nameListeners[className].push(listener)}else{listeners.push(listener)}},parseNamespace:function(namespace){if(typeof namespace!="string"){throw new Error("[Ext.ClassManager] Invalid namespace, must be a string")}var cache=this.namespaceParseCache,parts,rewrites,root,name,rewrite,from,to,i,ln;if(this.enableNamespaceParseCache){if(cache.hasOwnProperty(namespace)){return cache[namespace]}}parts=[];rewrites=this.namespaceRewrites;root=global;name=namespace;for(i=0,ln=rewrites.length;i<ln;i++){rewrite=rewrites[i];from=rewrite.from;to=rewrite.to;if(name===from||name.substring(0,from.length)===from){name=name.substring(from.length);if(typeof to!="string"){root=to}else{parts=parts.concat(to.split("."))}break}}parts.push(root);parts=parts.concat(name.split("."));if(this.enableNamespaceParseCache){cache[namespace]=parts}return parts},setNamespace:function(name,value){var root=global,parts=this.parseNamespace(name),ln=parts.length-1,leaf=parts[ln],i,part;for(i=0;i<ln;i++){part=parts[i];if(typeof part!="string"){root=part}else{if(!root[part]){root[part]={}}root=root[part]}}root[leaf]=value;return root[leaf]},createNamespaces:function(){var root=global,parts,part,i,j,ln,subLn;for(i=0,ln=arguments.length;i<ln;i++){parts=this.parseNamespace(arguments[i]);for(j=0,subLn=parts.length;j<subLn;j++){part=parts[j];if(typeof part!="string"){root=part}else{if(!root[part]){root[part]={}}root=root[part]}}}return root},set:function(name,value){var me=this,maps=me.maps,nameToAlternates=maps.nameToAlternates,targetName=me.getName(value),alternates;me.classes[name]=me.setNamespace(name,value);if(targetName&&targetName!==name){maps.alternateToName[name]=targetName;alternates=nameToAlternates[targetName]||(nameToAlternates[targetName]=[]);alternates.push(name)}return this},get:function(name){var classes=this.classes,root,parts,part,i,ln;if(classes[name]){return classes[name]}root=global;parts=this.parseNamespace(name);for(i=0,ln=parts.length;i<ln;i++){part=parts[i];if(typeof part!="string"){root=part}else{if(!root||!root[part]){return null}root=root[part]}}return root},setAlias:function(cls,alias){var aliasToNameMap=this.maps.aliasToName,nameToAliasesMap=this.maps.nameToAliases,className;if(typeof cls=="string"){className=cls}else{className=this.getName(cls)}if(alias&&aliasToNameMap[alias]!==className){if(aliasToNameMap[alias]&&Ext.isDefined(global.console)){global.console.log("[Ext.ClassManager] Overriding existing alias: '"+alias+"' "+"of: '"+aliasToNameMap[alias]+"' with: '"+className+"'. Be sure it's intentional.")}aliasToNameMap[alias]=className}if(!nameToAliasesMap[className]){nameToAliasesMap[className]=[]}if(alias){Ext.Array.include(nameToAliasesMap[className],alias)}return this},addNameAliasMappings:function(aliases){var aliasToNameMap=this.maps.aliasToName,nameToAliasesMap=this.maps.nameToAliases,className,aliasList,alias,i;for(className in aliases){aliasList=nameToAliasesMap[className]||(nameToAliasesMap[className]=[]);for(i=0;i<aliases[className].length;i++){alias=aliases[className][i];if(!aliasToNameMap[alias]){aliasToNameMap[alias]=className;aliasList.push(alias)}}}return this},addNameAlternateMappings:function(alternates){var alternateToName=this.maps.alternateToName,nameToAlternates=this.maps.nameToAlternates,className,aliasList,alternate,i;for(className in alternates){aliasList=nameToAlternates[className]||(nameToAlternates[className]=[]);for(i=0;i<alternates[className].length;i++){alternate=alternates[className][i];if(!alternateToName[alternate]){alternateToName[alternate]=className;aliasList.push(alternate)}}}return this},getByAlias:function(alias){return this.get(this.getNameByAlias(alias))},getNameByAlias:function(alias){return this.maps.aliasToName[alias]||""},getNameByAlternate:function(alternate){return this.maps.alternateToName[alternate]||""},getAliasesByName:function(name){return this.maps.nameToAliases[name]||[]},getName:function(object){return object&&object.$className||""},getClass:function(object){return object&&object.self||null},create:function(className,data,createdFn){if(className!=null&&typeof className!="string"){throw new Error("[Ext.define] Invalid class name '"+className+"' specified, must be a non-empty string")}var ctor=makeCtor();if(typeof data=="function"){data=data(ctor)}if(className){ctor.displayName=className}data.$className=className;return new Class(ctor,data,function(){var postprocessorStack=data.postprocessors||Manager.defaultPostprocessors,registeredPostprocessors=Manager.postprocessors,postprocessors=[],postprocessor,i,ln,j,subLn,postprocessorProperties,postprocessorProperty;delete data.postprocessors;for(i=0,ln=postprocessorStack.length;i<ln;i++){postprocessor=postprocessorStack[i];if(typeof postprocessor=="string"){postprocessor=registeredPostprocessors[postprocessor];postprocessorProperties=postprocessor.properties;if(postprocessorProperties===true){postprocessors.push(postprocessor.fn)}else if(postprocessorProperties){for(j=0,subLn=postprocessorProperties.length;j<subLn;j++){postprocessorProperty=postprocessorProperties[j];if(data.hasOwnProperty(postprocessorProperty)){postprocessors.push(postprocessor.fn);break}}}}else{postprocessors.push(postprocessor)}}data.postprocessors=postprocessors;data.createdFn=createdFn;Manager.processCreate(className,this,data)})},processCreate:function(className,cls,clsData){var me=this,postprocessor=clsData.postprocessors.shift(),createdFn=clsData.createdFn;if(!postprocessor){Ext.classSystemMonitor&&Ext.classSystemMonitor(className,"Ext.ClassManager#classCreated",arguments);if(className){me.set(className,cls)}if(createdFn){createdFn.call(cls,cls)}if(className){me.triggerCreated(className)}return}if(postprocessor.call(me,className,cls,clsData,me.processCreate)!==false){me.processCreate(className,cls,clsData)}},createOverride:function(className,data,createdFn){var me=this,overriddenClassName=data.override,requires=data.requires,uses=data.uses,classReady=function(){var cls,temp;if(requires){temp=requires;requires=null;Ext.Loader.require(temp,classReady)}else{cls=me.get(overriddenClassName);delete data.override;delete data.requires;delete data.uses;Ext.override(cls,data);me.triggerCreated(className);if(uses){Ext.Loader.addUsedClasses(uses)}if(createdFn){createdFn.call(cls)}}};me.existCache[className]=true;me.onCreated(classReady,me,overriddenClassName);return me},instantiateByAlias:function(){var alias=arguments[0],args=arraySlice.call(arguments),className=this.getNameByAlias(alias);if(!className){className=this.maps.aliasToName[alias];if(!className){throw new Error("[Ext.createByAlias] Cannot create an instance of unrecognized alias: "+alias)}if(global.console){global.console.warn("[Ext.Loader] Synchronously loading '"+className+"'; consider adding "+"Ext.require('"+alias+"') above Ext.onReady")}Ext.syncRequire(className)}args[0]=className;return this.instantiate.apply(this,args)},instantiate:function(){var name=arguments[0],nameType=typeof name,args=arraySlice.call(arguments,1),alias=name,possibleName,cls;if(nameType!="function"){if(nameType!="string"&&args.length===0){args=[name];name=name.xclass}if(typeof name!="string"||name.length<1){throw new Error("[Ext.create] Invalid class name or alias '"+name+"' specified, must be a non-empty string")}cls=this.get(name)}else{cls=name}if(!cls){possibleName=this.getNameByAlias(name);if(possibleName){name=possibleName;cls=this.get(name)}}if(!cls){possibleName=this.getNameByAlternate(name);if(possibleName){name=possibleName;cls=this.get(name)}}if(!cls){if(global.console){global.console.warn("[Ext.Loader] Synchronously loading '"+name+"'; consider adding "+"Ext.require('"+(possibleName?alias:name)+"') above Ext.onReady")}Ext.syncRequire(name);cls=this.get(name)}if(!cls){throw new Error("[Ext.create] Cannot create an instance of unrecognized class name / alias: "+alias)}if(typeof cls!="function"){throw new Error("[Ext.create] '"+name+"' is a singleton and cannot be instantiated")}return this.getInstantiator(args.length)(cls,args)},dynInstantiate:function(name,args){args=arrayFrom(args,true);args.unshift(name);return this.instantiate.apply(this,args)},getInstantiator:function(length){var instantiators=this.instantiators,instantiator,i,args;instantiator=instantiators[length];if(!instantiator){i=length;args=[];for(i=0;i<length;i++){args.push("a["+i+"]")}instantiator=instantiators[length]=new Function("c","a","return new c("+args.join(",")+")");instantiator.displayName="Ext.ClassManager.instantiate"+length}return instantiator},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(name,fn,properties,position,relativeTo){if(!position){position="last"}if(!properties){properties=[name]}this.postprocessors[name]={name:name,properties:properties||false,fn:fn};this.setDefaultPostprocessorPosition(name,position,relativeTo);return this},setDefaultPostprocessors:function(postprocessors){this.defaultPostprocessors=arrayFrom(postprocessors);return this},setDefaultPostprocessorPosition:function(name,offset,relativeName){var defaultPostprocessors=this.defaultPostprocessors,index;if(typeof offset=="string"){if(offset==="first"){defaultPostprocessors.unshift(name);return this}else if(offset==="last"){defaultPostprocessors.push(name);return this}offset=offset==="after"?1:-1}index=Ext.Array.indexOf(defaultPostprocessors,relativeName);if(index!==-1){Ext.Array.splice(defaultPostprocessors,Math.max(0,index+offset),0,name)}return this},getNamesByExpression:function(expression){var nameToAliasesMap=this.maps.nameToAliases,names=[],name,alias,aliases,possibleName,regex,i,ln;if(typeof expression!="string"||expression.length<1){throw new Error("[Ext.ClassManager.getNamesByExpression] Expression "+expression+" is invalid, must be a non-empty string")}if(expression.indexOf("*")!==-1){expression=expression.replace(/\*/g,"(.*?)");regex=new RegExp("^"+expression+"$");for(name in nameToAliasesMap){if(nameToAliasesMap.hasOwnProperty(name)){aliases=nameToAliasesMap[name];if(name.search(regex)!==-1){names.push(name)}else{for(i=0,ln=aliases.length;i<ln;i++){alias=aliases[i];if(alias.search(regex)!==-1){names.push(name);break}}}}}}else{possibleName=this.getNameByAlias(expression);if(possibleName){names.push(possibleName)}else{possibleName=this.getNameByAlternate(expression);if(possibleName){names.push(possibleName)}else{names.push(expression)}}}return names}};Manager.registerPostprocessor("alias",function(name,cls,data){Ext.classSystemMonitor&&Ext.classSystemMonitor(name,"Ext.ClassManager#aliasPostProcessor",arguments);var aliases=data.alias,i,ln;for(i=0,ln=aliases.length;i<ln;i++){alias=aliases[i];this.setAlias(cls,alias)}},["xtype","alias"]);Manager.registerPostprocessor("singleton",function(name,cls,data,fn){Ext.classSystemMonitor&&Ext.classSystemMonitor(name,"Ext.ClassManager#singletonPostProcessor",arguments);if(data.singleton){fn.call(this,name,new cls,data)}else{return true}return false});Manager.registerPostprocessor("alternateClassName",function(name,cls,data){Ext.classSystemMonitor&&Ext.classSystemMonitor(name,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var alternates=data.alternateClassName,i,ln,alternate;if(!(alternates instanceof Array)){alternates=[alternates]}for(i=0,ln=alternates.length;i<ln;i++){alternate=alternates[i];if(typeof alternate!="string"){throw new Error("[Ext.define] Invalid alternate of: '"+alternate+"' for class: '"+name+"'; must be a valid string")}this.set(alternate,cls)}});Ext.apply(Ext,{create:alias(Manager,"instantiate"),widget:function(name,config){var xtype=name,alias,className,T,load;if(typeof xtype!="string"){config=name;xtype=config.xtype}else{config=config||{}}if(config.isComponent){return config}alias="widget."+xtype;className=Manager.getNameByAlias(alias);if(!className){load=true}T=Manager.get(className);if(load||!T){return Manager.instantiateByAlias(alias,config)}return new T(config)},createByAlias:alias(Manager,"instantiateByAlias"),define:function(className,data,createdFn){Ext.classSystemMonitor&&Ext.classSystemMonitor(className,"ClassManager#define",arguments);if(data.override){return Manager.createOverride.apply(Manager,arguments)}return Manager.create.apply(Manager,arguments)},undefine:function(className){Ext.classSystemMonitor&&Ext.classSystemMonitor(className,"Ext.ClassManager#undefine",arguments);var classes=Manager.classes,maps=Manager.maps,aliasToName=maps.aliasToName,nameToAliases=maps.nameToAliases,alternateToName=maps.alternateToName,nameToAlternates=maps.nameToAlternates,aliases=nameToAliases[className],alternates=nameToAlternates[className],parts,partCount,namespace,i;delete Manager.namespaceParseCache[className];delete nameToAliases[className];delete nameToAlternates[className];delete classes[className];if(aliases){for(i=aliases.length;i--;){delete aliasToName[aliases[i]]}}if(alternates){for(i=alternates.length;i--;){delete alternateToName[alternates[i]]}}parts=Manager.parseNamespace(className);partCount=parts.length-1;namespace=parts[0];for(i=1;i<partCount;i++){namespace=namespace[parts[i]];if(!namespace){return}}try{delete namespace[parts[partCount]]}catch(e){namespace[parts[partCount]]=undefined}},getClassName:alias(Manager,"getName"),getDisplayName:function(object){if(object){if(object.displayName){return object.displayName}if(object.$name&&object.$class){return Ext.getClassName(object.$class)+"#"+object.$name}if(object.$className){return object.$className}}return"Anonymous"},getClass:alias(Manager,"getClass"),namespace:alias(Manager,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;Class.registerPreprocessor("className",function(cls,data){if(data.$className){cls.$className=data.$className;cls.displayName=cls.$className}Ext.classSystemMonitor&&Ext.classSystemMonitor(cls,"Ext.ClassManager#classNamePreprocessor",arguments)},true,"first");Class.registerPreprocessor("alias",function(cls,data){Ext.classSystemMonitor&&Ext.classSystemMonitor(cls,"Ext.ClassManager#aliasPreprocessor",arguments);var prototype=cls.prototype,xtypes=arrayFrom(data.xtype),aliases=arrayFrom(data.alias),widgetPrefix="widget.",widgetPrefixLength=widgetPrefix.length,xtypesChain=Array.prototype.slice.call(prototype.xtypesChain||[]),xtypesMap=Ext.merge({},prototype.xtypesMap||{}),i,ln,alias,xtype;for(i=0,ln=aliases.length;i<ln;i++){alias=aliases[i];if(typeof alias!="string"||alias.length<1){throw new Error("[Ext.define] Invalid alias of: '"+alias+"' for class: '"+name+"'; must be a valid string")}if(alias.substring(0,widgetPrefixLength)===widgetPrefix){xtype=alias.substring(widgetPrefixLength);Ext.Array.include(xtypes,xtype)}}cls.xtype=data.xtype=xtypes[0];data.xtypes=xtypes;for(i=0,ln=xtypes.length;i<ln;i++){xtype=xtypes[i];if(!xtypesMap[xtype]){xtypesMap[xtype]=true;xtypesChain.push(xtype)}}data.xtypesChain=xtypesChain;data.xtypesMap=xtypesMap;Ext.Function.interceptAfter(data,"onClassCreated",function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(cls,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments);var mixins=prototype.mixins,key,mixin;for(key in mixins){if(mixins.hasOwnProperty(key)){mixin=mixins[key];xtypes=mixin.xtypes;if(xtypes){for(i=0,ln=xtypes.length;i<ln;i++){xtype=xtypes[i];if(!xtypesMap[xtype]){xtypesMap[xtype]=true;xtypesChain.push(xtype)}}}}}});for(i=0,ln=xtypes.length;i<ln;i++){xtype=xtypes[i];if(typeof xtype!="string"||xtype.length<1){throw new Error("[Ext.define] Invalid xtype of: '"+xtype+"' for class: '"+name+"'; must be a valid non-empty string")}Ext.Array.include(aliases,widgetPrefix+xtype)}data.alias=aliases},["xtype","alias"])})(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);if(Ext._alternatesMetadata){Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata);Ext._alternatesMetadata=null}if(Ext._aliasMetadata){Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata);Ext._aliasMetadata=null}Ext.Loader=new function(){var Loader=this,Manager=Ext.ClassManager,Class=Ext.Class,flexSetter=Ext.Function.flexSetter,alias=Ext.Function.alias,pass=Ext.Function.pass,defer=Ext.Function.defer,arrayErase=Ext.Array.erase,dependencyProperties=["extend","mixins","requires"],isInHistory={},history=[],slashDotSlashRe=/\/\.\//g,dotRe=/\./g,setPathCount=0;Ext.apply(Loader,{isInHistory:isInHistory,history:history,config:{enabled:false,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",garbageCollect:false,paths:{Ext:"."},preserveScripts:true,scriptCharset:undefined},setConfig:function(name,value){if(Ext.isObject(name)&&arguments.length===1){Ext.merge(Loader.config,name);if("paths"in name){Ext.app.collectNamespaces(name.paths)}}else{Loader.config[name]=Ext.isObject(value)?Ext.merge(Loader.config[name],value):value;if(name==="paths"){Ext.app.collectNamespaces(value)}}return Loader},getConfig:function(name){if(name){return Loader.config[name]}return Loader.config},setPath:flexSetter(function(name,path){Loader.config.paths[name]=path;Ext.app.namespaces[name]=true;setPathCount++;return Loader}),addClassPathMappings:function(paths){var name;if(setPathCount==0){Loader.config.paths=paths}else{for(name in paths){Loader.config.paths[name]=paths[name]}}setPathCount++;return Loader},getPath:function(className){var path="",paths=Loader.config.paths,prefix=Loader.getPrefix(className);if(prefix.length>0){if(prefix===className){return paths[prefix]}path=paths[prefix];className=className.substring(prefix.length+1)}if(path.length>0){path+="/"}return path.replace(slashDotSlashRe,"/")+className.replace(dotRe,"/")+".js"},getPrefix:function(className){var paths=Loader.config.paths,prefix,deepestPrefix="";if(paths.hasOwnProperty(className)){return className}for(prefix in paths){if(paths.hasOwnProperty(prefix)&&prefix+"."===className.substring(0,prefix.length+1)){if(prefix.length>deepestPrefix.length){deepestPrefix=prefix}}}return deepestPrefix},isAClassNameWithAKnownPrefix:function(className){var prefix=Loader.getPrefix(className);return prefix!==""&&prefix!==className},require:function(expressions,fn,scope,excludes){if(fn){fn.call(scope)}},syncRequire:function(){},exclude:function(excludes){return{require:function(expressions,fn,scope){return Loader.require(expressions,fn,scope,excludes)},syncRequire:function(expressions,fn,scope){return Loader.syncRequire(expressions,fn,scope,excludes)}}},onReady:function(fn,scope,withDomReady,options){var oldFn;if(withDomReady!==false&&Ext.onDocumentReady){oldFn=fn;fn=function(){Ext.onDocumentReady(oldFn,scope,options)}}fn.call(scope)}});var queue=[],isClassFileLoaded={},isFileLoaded={},classNameToFilePathMap={},scriptElements={},readyListeners=[],usedClasses=[],requiresMap={},comparePriority=function(listenerA,listenerB){return listenerB.priority-listenerA.priority};Ext.apply(Loader,{documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:false,queue:queue,isClassFileLoaded:isClassFileLoaded,isFileLoaded:isFileLoaded,readyListeners:readyListeners,optionalRequires:usedClasses,requiresMap:requiresMap,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:false,classNameToFilePathMap:classNameToFilePathMap,scriptsLoading:0,syncModeEnabled:false,scriptElements:scriptElements,refreshQueue:function(){var ln=queue.length,i,item,j,requires;if(!ln&&!Loader.scriptsLoading){return Loader.triggerReady()}for(i=0;i<ln;i++){item=queue[i];if(item){requires=item.requires;if(requires.length>Loader.numLoadedFiles){continue}for(j=0;j<requires.length;){if(Manager.isCreated(requires[j])){arrayErase(requires,j,1)
}else{j++}}if(item.requires.length===0){arrayErase(queue,i,1);item.callback.call(item.scope);Loader.refreshQueue();break}}}return Loader},injectScriptElement:function(url,onLoad,onError,scope,charset){var script=document.createElement("script"),dispatched=false,config=Loader.config,onLoadFn=function(){if(!dispatched){dispatched=true;script.onload=script.onreadystatechange=script.onerror=null;if(typeof config.scriptChainDelay=="number"){defer(onLoad,config.scriptChainDelay,scope)}else{onLoad.call(scope)}Loader.cleanupScriptElement(script,config.preserveScripts===false,config.garbageCollect)}},onErrorFn=function(arg){defer(onError,1,scope);Loader.cleanupScriptElement(script,config.preserveScripts===false,config.garbageCollect)};script.type="text/javascript";script.onerror=onErrorFn;charset=charset||config.scriptCharset;if(charset){script.charset=charset}if("addEventListener"in script){script.onload=onLoadFn}else if("readyState"in script){script.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){onLoadFn()}}}else{script.onload=onLoadFn}script.src=url;(Loader.documentHead||document.getElementsByTagName("head")[0]).appendChild(script);return script},removeScriptElement:function(url){if(scriptElements[url]){Loader.cleanupScriptElement(scriptElements[url],true,!!Loader.getConfig("garbageCollect"));delete scriptElements[url]}return Loader},cleanupScriptElement:function(script,remove,collect){var prop;script.onload=script.onreadystatechange=script.onerror=null;if(remove){Ext.removeNode(script);if(collect){for(prop in script){try{if(prop!="src"){script[prop]=null}delete script[prop]}catch(cleanEx){}}}}return Loader},loadScript:function(options){var config=Loader.getConfig(),isString=typeof options=="string",url=isString?options:options.url,onError=!isString&&options.onError,onLoad=!isString&&options.onLoad,scope=!isString&&options.scope,onScriptError=function(){Loader.numPendingFiles--;Loader.scriptsLoading--;if(onError){onError.call(scope,"Failed loading '"+url+"', please verify that the file exists")}if(Loader.numPendingFiles+Loader.scriptsLoading===0){Loader.refreshQueue()}},onScriptLoad=function(){Loader.numPendingFiles--;Loader.scriptsLoading--;if(onLoad){onLoad.call(scope)}if(Loader.numPendingFiles+Loader.scriptsLoading===0){Loader.refreshQueue()}},src;Loader.isLoading=true;Loader.numPendingFiles++;Loader.scriptsLoading++;src=config.disableCaching?url+"?"+config.disableCachingParam+"="+Ext.Date.now():url;scriptElements[url]=Loader.injectScriptElement(src,onScriptLoad,onScriptError)},loadScriptFile:function(url,onLoad,onError,scope,synchronous){if(isFileLoaded[url]){return Loader}var config=Loader.getConfig(),noCacheUrl=url+(config.disableCaching?"?"+config.disableCachingParam+"="+Ext.Date.now():""),isCrossOriginRestricted=false,xhr,status,onScriptError,debugSourceURL="";scope=scope||Loader;Loader.isLoading=true;if(!synchronous){onScriptError=function(){onError.call(scope,"Failed loading '"+url+"', please verify that the file exists",synchronous)};scriptElements[url]=Loader.injectScriptElement(noCacheUrl,onLoad,onScriptError,scope)}else{if(typeof XMLHttpRequest!="undefined"){xhr=new XMLHttpRequest}else{xhr=new ActiveXObject("Microsoft.XMLHTTP")}try{xhr.open("GET",noCacheUrl,false);xhr.send(null)}catch(e){isCrossOriginRestricted=true}status=xhr.status===1223?204:xhr.status===0&&((self.location||{}).protocol=="file:"||(self.location||{}).protocol=="ionp:")?200:xhr.status;isCrossOriginRestricted=isCrossOriginRestricted||status===0;if(isCrossOriginRestricted){onError.call(Loader,"Failed loading synchronously via XHR: '"+url+"'; It's likely that the file is either "+"being loaded from a different domain or from the local file system whereby cross origin "+"requests are not allowed due to security reasons. Use asynchronous loading with "+"Ext.require instead.",synchronous)}else if(status>=200&&status<300||status===304){if(!Ext.isIE){debugSourceURL="\n//@ sourceURL="+url}Ext.globalEval(xhr.responseText+debugSourceURL);onLoad.call(scope)}else{onError.call(Loader,"Failed loading synchronously via XHR: '"+url+"'; please "+"verify that the file exists. "+"XHR status code: "+status,synchronous)}xhr=null}},syncRequire:function(){var syncModeEnabled=Loader.syncModeEnabled;if(!syncModeEnabled){Loader.syncModeEnabled=true}Loader.require.apply(Loader,arguments);if(!syncModeEnabled){Loader.syncModeEnabled=false}Loader.refreshQueue()},require:function(expressions,fn,scope,excludes){var excluded={},included={},excludedClassNames=[],possibleClassNames=[],classNames=[],references=[],callback,syncModeEnabled,filePath,expression,exclude,className,possibleClassName,i,j,ln,subLn;if(excludes){excludes=typeof excludes==="string"?[excludes]:excludes;for(i=0,ln=excludes.length;i<ln;i++){exclude=excludes[i];if(typeof exclude=="string"&&exclude.length>0){excludedClassNames=Manager.getNamesByExpression(exclude);for(j=0,subLn=excludedClassNames.length;j<subLn;j++){excluded[excludedClassNames[j]]=true}}}}expressions=typeof expressions==="string"?[expressions]:expressions?expressions:[];if(fn){if(fn.length>0){callback=function(){var classes=[],i,ln;for(i=0,ln=references.length;i<ln;i++){classes.push(Manager.get(references[i]))}return fn.apply(this,classes)}}else{callback=fn}}else{callback=Ext.emptyFn}scope=scope||Ext.global;for(i=0,ln=expressions.length;i<ln;i++){expression=expressions[i];if(typeof expression=="string"&&expression.length>0){possibleClassNames=Manager.getNamesByExpression(expression);subLn=possibleClassNames.length;for(j=0;j<subLn;j++){possibleClassName=possibleClassNames[j];if(excluded[possibleClassName]!==true){references.push(possibleClassName);if(!Manager.isCreated(possibleClassName)&&!included[possibleClassName]){included[possibleClassName]=true;classNames.push(possibleClassName)}}}}}if(classNames.length>0){if(!Loader.config.enabled){throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. "+"Missing required class"+(classNames.length>1?"es":"")+": "+classNames.join(", "))}}else{callback.call(scope);return Loader}syncModeEnabled=Loader.syncModeEnabled;if(!syncModeEnabled){queue.push({requires:classNames.slice(),callback:callback,scope:scope})}ln=classNames.length;for(i=0;i<ln;i++){className=classNames[i];filePath=Loader.getPath(className);if(syncModeEnabled&&isClassFileLoaded.hasOwnProperty(className)){if(!isClassFileLoaded[className]){Loader.numPendingFiles--;Loader.removeScriptElement(filePath);delete isClassFileLoaded[className]}}if(!isClassFileLoaded.hasOwnProperty(className)){isClassFileLoaded[className]=false;classNameToFilePathMap[className]=filePath;Loader.numPendingFiles++;Loader.loadScriptFile(filePath,pass(Loader.onFileLoaded,[className,filePath],Loader),pass(Loader.onFileLoadError,[className,filePath],Loader),Loader,syncModeEnabled)}}if(syncModeEnabled){callback.call(scope);if(ln===1){return Manager.get(className)}}return Loader},onFileLoaded:function(className,filePath){var loaded=isClassFileLoaded[className];Loader.numLoadedFiles++;isClassFileLoaded[className]=true;isFileLoaded[filePath]=true;if(!loaded){Loader.numPendingFiles--}if(Loader.numPendingFiles===0){Loader.refreshQueue()}if(!Loader.syncModeEnabled&&Loader.numPendingFiles===0&&Loader.isLoading&&!Loader.hasFileLoadError){var missingClasses=[],missingPaths=[],requires,i,ln,j,subLn;for(i=0,ln=queue.length;i<ln;i++){requires=queue[i].requires;for(j=0,subLn=requires.length;j<subLn;j++){if(isClassFileLoaded[requires[j]]){missingClasses.push(requires[j])}}}if(missingClasses.length<1){return}missingClasses=Ext.Array.filter(Ext.Array.unique(missingClasses),function(item){return!requiresMap.hasOwnProperty(item)},Loader);if(missingClasses.length<1){return}for(i=0,ln=missingClasses.length;i<ln;i++){missingPaths.push(classNameToFilePathMap[missingClasses[i]])}throw new Error("The following classes are not declared even if their files have been "+"loaded: '"+missingClasses.join("', '")+"'. Please check the source code of their "+"corresponding files for possible typos: '"+missingPaths.join("', '"))}},onFileLoadError:function(className,filePath,errorMessage,isSynchronous){Loader.numPendingFiles--;Loader.hasFileLoadError=true;throw new Error("[Ext.Loader] "+errorMessage)},addUsedClasses:function(classes){var cls,i,ln;if(classes){classes=typeof classes=="string"?[classes]:classes;for(i=0,ln=classes.length;i<ln;i++){cls=classes[i];if(typeof cls=="string"&&!Ext.Array.contains(usedClasses,cls)){usedClasses.push(cls)}}}return Loader},triggerReady:function(){var listener,refClasses=usedClasses;if(Loader.isLoading){Loader.isLoading=false;if(refClasses.length!==0){refClasses=refClasses.slice();usedClasses.length=0;Loader.require(refClasses,Loader.triggerReady,Loader);return Loader}}Ext.Array.sort(readyListeners,comparePriority);while(readyListeners.length&&!Loader.isLoading){listener=readyListeners.shift();listener.fn.call(listener.scope)}return Loader},onReady:function(fn,scope,withDomReady,options){var oldFn;if(withDomReady!==false&&Ext.onDocumentReady){oldFn=fn;fn=function(){Ext.onDocumentReady(oldFn,scope,options)}}if(!Loader.isLoading){fn.call(scope)}else{readyListeners.push({fn:fn,scope:scope,priority:options&&options.priority||0})}},historyPush:function(className){if(className&&isClassFileLoaded.hasOwnProperty(className)&&!isInHistory[className]){isInHistory[className]=true;history.push(className)}return Loader}});Ext.disableCacheBuster=function(disable,path){var date=new Date;date.setTime(date.getTime()+(disable?10*365:-1)*24*60*60*1e3);date=date.toGMTString();document.cookie="ext-cache=1; expires="+date+"; path="+(path||"/")};Ext.require=alias(Loader,"require");Ext.syncRequire=alias(Loader,"syncRequire");Ext.exclude=alias(Loader,"exclude");Ext.onReady=function(fn,scope,options){Loader.onReady(fn,scope,true,options)};Class.registerPreprocessor("loader",function(cls,data,hooks,continueFn){Ext.classSystemMonitor&&Ext.classSystemMonitor(cls,"Ext.Loader#loaderPreprocessor",arguments);var me=this,dependencies=[],dependency,className=Manager.getName(cls),i,j,ln,subLn,value,propertyName,propertyValue,requiredMap,requiredDep;for(i=0,ln=dependencyProperties.length;i<ln;i++){propertyName=dependencyProperties[i];if(data.hasOwnProperty(propertyName)){propertyValue=data[propertyName];if(typeof propertyValue=="string"){dependencies.push(propertyValue)}else if(propertyValue instanceof Array){for(j=0,subLn=propertyValue.length;j<subLn;j++){value=propertyValue[j];if(typeof value=="string"){dependencies.push(value)}}}else if(typeof propertyValue!="function"){for(j in propertyValue){if(propertyValue.hasOwnProperty(j)){value=propertyValue[j];if(typeof value=="string"){dependencies.push(value)}}}}}}if(dependencies.length===0){return}var deadlockPath=[],detectDeadlock;if(className){requiresMap[className]=dependencies;requiredMap=Loader.requiredByMap||(Loader.requiredByMap={});for(i=0,ln=dependencies.length;i<ln;i++){dependency=dependencies[i];(requiredMap[dependency]||(requiredMap[dependency]=[])).push(className)}detectDeadlock=function(cls){deadlockPath.push(cls);if(requiresMap[cls]){if(Ext.Array.contains(requiresMap[cls],className)){throw new Error("Deadlock detected while loading dependencies! '"+className+"' and '"+deadlockPath[1]+"' "+"mutually require each other. Path: "+deadlockPath.join(" -> ")+" -> "+deadlockPath[0])}for(i=0,ln=requiresMap[cls].length;i<ln;i++){detectDeadlock(requiresMap[cls][i])}}};detectDeadlock(className)}Loader.require(dependencies,function(){for(i=0,ln=dependencyProperties.length;i<ln;i++){propertyName=dependencyProperties[i];if(data.hasOwnProperty(propertyName)){propertyValue=data[propertyName];if(typeof propertyValue=="string"){data[propertyName]=Manager.get(propertyValue)}else if(propertyValue instanceof Array){for(j=0,subLn=propertyValue.length;j<subLn;j++){value=propertyValue[j];if(typeof value=="string"){data[propertyName][j]=Manager.get(value)}}}else if(typeof propertyValue!="function"){for(var k in propertyValue){if(propertyValue.hasOwnProperty(k)){value=propertyValue[k];if(typeof value=="string"){data[propertyName][k]=Manager.get(value)}}}}}}continueFn.call(me,cls,data,hooks)});return false},true,"after","className");Manager.registerPostprocessor("uses",function(name,cls,data){Ext.classSystemMonitor&&Ext.classSystemMonitor(cls,"Ext.Loader#usesPostprocessor",arguments);var uses=data.uses;if(uses){Loader.addUsedClasses(uses)}});Manager.onCreated(Loader.historyPush)};if(Ext._classPathMetadata){Ext.Loader.addClassPathMappings(Ext._classPathMetadata);Ext._classPathMetadata=null}(function(){var scripts=document.getElementsByTagName("script"),currentScript=scripts[scripts.length-1],src=currentScript.src,path=src.substring(0,src.lastIndexOf("/")+1),Loader=Ext.Loader;if(src.indexOf("/platform/core/src/class/")!=-1){path=path+"../../../../extjs/"}else if(src.indexOf("/core/src/class/")!=-1){path=path+"../../../"}Loader.setConfig({enabled:true,disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||/(^|[ ;])ext-cache=1/.test(document.cookie)?false:true,paths:{Ext:path+"src"}})})();Ext._endTime=(new Date).getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.is={init:function(navigator){var platforms=this.platforms,ln=platforms.length,i,platform;navigator=navigator||window.navigator;for(i=0;i<ln;i++){platform=platforms[i];this[platform.identity]=platform.regex.test(navigator[platform.property])}this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android;this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();(function(){var getStyle=function(element,styleName){var view=element.ownerDocument.defaultView,style=(view?view.getComputedStyle(element,null):element.currentStyle)||element.style;return style[styleName]},supportsVectors={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};function getBrowserKey(){var browser=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return browser?browser+(Ext.isStrict?"-strict":"-quirks"):""}Ext.supports={init:function(){var me=this,doc=document,toRun=me.toRun||me.tests,n=toRun.length,div=n&&Ext.isReady&&doc.createElement("div"),notRun=[],browserKey=getBrowserKey(),test,vector,value;if(div){div.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join("");doc.body.appendChild(div)}vector=supportsVectors[browserKey];while(n--){test=toRun[n];value=vector&&vector[n];if(value!==undefined){me[test.identity]=value}else if(div||test.early){me[test.identity]=test.fn.call(me,doc,div)}else{notRun.push(test)}}if(div){doc.body.removeChild(div)}me.toRun=notRun},generateVector:function(){var tests=this.tests,vector=[],i=0,ln=tests.length,test;for(;i<ln;i++){test=tests[i];vector.push(this[test.identity]?1:0)}return vector},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&window["localStorage"]!==null}catch(e){return false}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:typeof window.orientation!="undefined"&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}(),tests:[{identity:"Transitions",fn:function(doc,div){var prefix=["webkit","Moz","o","ms","khtml"],TE="TransitionEnd",transitionEndName=[prefix[0]+TE,"transitionend",prefix[2]+TE,prefix[3]+TE,prefix[4]+TE],ln=prefix.length,i=0,out=false;for(;i<ln;i++){if(getStyle(div,prefix[i]+"TransitionProperty")){Ext.supports.CSS3Prefix=prefix[i];Ext.supports.CSS3TransitionEnd=transitionEndName[i];out=true;break}}return out}},{identity:"RightMargin",fn:function(doc,div){var view=doc.defaultView;return!(view&&view.getComputedStyle(div.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",early:true,fn:function(){var webKitVersion=Ext.webKitVersion;return 0<webKitVersion&&webKitVersion<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:true,fn:function(){var webKitVersion=Ext.webKitVersion;return 0<webKitVersion&&webKitVersion<534.24}},{identity:"TransparentColor",fn:function(doc,div,view){view=doc.defaultView;return!(view&&view.getComputedStyle(div.lastChild,null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(doc,div,view){view=doc.defaultView;return view&&view.getComputedStyle}},{identity:"Svg",fn:function(doc){return!!doc.createElementNS&&!!doc.createElementNS("http:/"+"/www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(doc){return!!doc.createElement("canvas").getContext}},{identity:"Vml",fn:function(doc){var d=doc.createElement("div");d.innerHTML="<!--[if vml]><br/><br/><![endif]-->";return d.childNodes.length==2}},{identity:"Float",fn:function(doc,div){return!!div.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(doc){return!!doc.createElement("audio").canPlayType}},{identity:"History",fn:function(){var history=window.history;return!!(history&&history.pushState)}},{identity:"CSS3DTransform",fn:function(){return typeof WebKitCSSMatrix!="undefined"&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(doc,div){var property="background-image:",webkit="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",w3c="linear-gradient(left top, black, white)",moz="-moz-"+w3c,ms="-ms-"+w3c,opera="-o-"+w3c,options=[property+webkit,property+w3c,property+moz,property+ms,property+opera];div.style.cssText=options.join(";");return(""+div.style.backgroundImage).indexOf("gradient")!==-1&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(doc,div){var domPrefixes=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],pass=false,i;for(i=0;i<domPrefixes.length;i++){if(document.body.style[domPrefixes[i]]!==undefined){return true}}return pass}},{identity:"GeoLocation",fn:function(){return typeof navigator!="undefined"&&"geolocation"in navigator||typeof google!="undefined"&&typeof google.gears!="undefined"}},{identity:"MouseEnterLeave",fn:function(doc,div){return"onmouseenter"in div&&"onmouseleave"in div}},{identity:"MouseWheel",fn:function(doc,div){return"onmousewheel"in div}},{identity:"Opacity",fn:function(doc,div){if(Ext.isIE6||Ext.isIE7||Ext.isIE8){return false}div.firstChild.style.cssText="opacity:0.73";return div.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(doc){return"placeholder"in doc.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(doc,div){return Ext.isFunction(div.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var body=document.body,supports=false,el=document.createElement("div"),style=el.style;if(el.getBoundingClientRect){style.WebkitTransform=style.MozTransform=style.OTransform=style.transform="rotate(90deg)";style.width="100px";style.height="30px";body.appendChild(el);supports=el.getBoundingClientRect().height!==100;body.removeChild(el)}return supports}},{identity:"IncludePaddingInWidthCalculation",fn:function(doc,div){return div.childNodes[1].firstChild.offsetWidth==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(doc,div){return div.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var range=Ext.supports.Range?document.createRange():false;return range&&!!range.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var el=document.createElement("textarea");return"maxlength"in el}},{identity:"GetPositionPercentage",fn:function(doc,div){return getStyle(div.childNodes[2],"left")=="10%"}},{identity:"PercentageHeightOverflowBug",fn:function(doc){var hasBug=false,style,el;if(Ext.getScrollbarSize().height){el=doc.createElement("div");style=el.style;style.height="50px";style.width="50px";style.overflow="auto";style.position="absolute";el.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");doc.body.appendChild(el);if(el.firstChild.offsetHeight===50){hasBug=true}doc.body.removeChild(el)}return hasBug}},{identity:"xOriginBug",fn:function(doc,div){div.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll">'+'<div id="b2" style="position:relative;width:100%;height:20px;"></div>'+'<div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div>'+"</div>";var outerBox=document.getElementById("b1").getBoundingClientRect(),b2=document.getElementById("b2").getBoundingClientRect(),b3=document.getElementById("b3").getBoundingClientRect();return b2.left!==outerBox.left&&b3.right!==outerBox.right}},{identity:"ScrollWidthInlinePaddingBug",fn:function(doc){var hasBug=false,style,el;el=doc.createElement("div");style=el.style;style.height="50px";style.width="50px";style.padding="10px";style.overflow="hidden";style.position="absolute";el.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';doc.body.appendChild(el);if(el.scrollWidth===70){hasBug=true}doc.body.removeChild(el);return hasBug}}]}})();Ext.supports.init();Ext.util.DelayedTask=function(fn,scope,args,cancelOnDelay){var me=this,delay,call=function(){clearInterval(me.id);me.id=null;fn.apply(scope,args||[]);Ext.EventManager.idleEvent.fire()};cancelOnDelay=typeof cancelOnDelay==="boolean"?cancelOnDelay:true;me.id=null;me.delay=function(newDelay,newFn,newScope,newArgs){if(cancelOnDelay){me.cancel()}delay=newDelay||delay,fn=newFn||fn;scope=newScope||scope;args=newArgs||args;if(!me.id){me.id=setInterval(call,delay)}};me.cancel=function(){if(me.id){clearInterval(me.id);me.id=null}}};Ext.define("Ext.util.Event",function(){var arraySlice=Array.prototype.slice,arrayInsert=Ext.Array.insert,toArray=Ext.Array.toArray,DelayedTask=Ext.util.DelayedTask;return{isEvent:true,suspended:0,noOptions:{},constructor:function(observable,name){this.name=name;this.observable=observable;this.listeners=[]},addListener:function(fn,scope,options){var me=this,listeners,listener,priority,isNegativePriority,highestNegativePriorityIndex,hasNegativePriorityIndex,length,index,i,listenerPriority;scope=scope||me.observable;if(!fn){Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"})}if(!me.isListening(fn,scope)){listener=me.createListener(fn,scope,options);if(me.firing){me.listeners=me.listeners.slice(0)}listeners=me.listeners;index=length=listeners.length;priority=options&&options.priority;highestNegativePriorityIndex=me._highestNegativePriorityIndex;hasNegativePriorityIndex=highestNegativePriorityIndex!==undefined;if(priority){isNegativePriority=priority<0;if(!isNegativePriority||hasNegativePriorityIndex){for(i=isNegativePriority?highestNegativePriorityIndex:0;i<length;i++){listenerPriority=listeners[i].o?listeners[i].o.priority||0:0;if(listenerPriority<priority){index=i;break}}}else{me._highestNegativePriorityIndex=index}}else if(hasNegativePriorityIndex){index=highestNegativePriorityIndex}if(!isNegativePriority&&index<=highestNegativePriorityIndex){me._highestNegativePriorityIndex++}if(index===length){me.listeners[length]=listener}else{arrayInsert(me.listeners,index,[listener])}}},createListener:function(fn,scope,o){scope=scope||this.observable;var me=this,listener={fn:fn,scope:scope,ev:me},handler=fn;if(o){listener.o=o;if(o.single){handler=me.createSingle(handler,listener,o,scope)}if(o.target){handler=me.createTargeted(handler,listener,o,scope)}if(o.delay){handler=me.createDelayed(handler,listener,o,scope)}if(o.buffer){handler=me.createBuffered(handler,listener,o,scope)}}listener.fireFn=handler;return listener},findListener:function(fn,scope){var listeners=this.listeners,i=listeners.length,listener,s;while(i--){listener=listeners[i];if(listener){s=listener.scope;if(listener.fn==fn&&s==(scope||this.observable)){return i}}}return-1},isListening:function(fn,scope){return this.findListener(fn,scope)!==-1},removeListener:function(fn,scope){var me=this,index,listener,highestNegativePriorityIndex,k;index=me.findListener(fn,scope);if(index!=-1){listener=me.listeners[index];highestNegativePriorityIndex=me._highestNegativePriorityIndex;if(me.firing){me.listeners=me.listeners.slice(0)}if(listener.task){listener.task.cancel();delete listener.task}k=listener.tasks&&listener.tasks.length;if(k){while(k--){listener.tasks[k].cancel()}delete listener.tasks}me.listeners.splice(index,1);if(highestNegativePriorityIndex){if(index<highestNegativePriorityIndex){me._highestNegativePriorityIndex--}else if(index===highestNegativePriorityIndex&&index===me.listeners.length){delete me._highestNegativePriorityIndex}}return true}return false},clearListeners:function(){var listeners=this.listeners,i=listeners.length;while(i--){this.removeListener(listeners[i].fn,listeners[i].scope)}},suspend:function(){this.suspended+=1},resume:function(){if(this.suspended){this.suspended--}},fire:function(){var me=this,listeners=me.listeners,count=listeners.length,i,args,listener,len;if(!me.suspended&&count>0){me.firing=true;args=arguments.length?arraySlice.call(arguments,0):[];len=args.length;for(i=0;i<count;i++){listener=listeners[i];if(listener.o){args[len]=listener.o}if(listener&&listener.fireFn.apply(listener.scope||me.observable,args)===false){return me.firing=false}}}me.firing=false;return true},createTargeted:function(handler,listener,o,scope){return function(){if(o.target===arguments[0]){handler.apply(scope,arguments)}}},createBuffered:function(handler,listener,o,scope){listener.task=new DelayedTask;return function(){listener.task.delay(o.buffer,handler,scope,toArray(arguments))}},createDelayed:function(handler,listener,o,scope){return function(){var task=new DelayedTask;if(!listener.tasks){listener.tasks=[]}listener.tasks.push(task);task.delay(o.delay||10,handler,scope,toArray(arguments))}},createSingle:function(handler,listener,o,scope){return function(){var event=listener.ev;if(event.removeListener(listener.fn,scope)&&event.observable){event.observable.hasListeners[event.name]--}return handler.apply(scope,arguments)}}}});Ext.define("Ext.util.Observable",function(Observable){var emptyArray=[],arrayProto=Array.prototype,arraySlice=arrayProto.slice,ExtEvent=Ext.util.Event,ListenerRemover=function(observable){if(observable instanceof ListenerRemover){return observable}this.observable=observable;if(arguments[1].isObservable){this.managedListeners=true}this.args=arraySlice.call(arguments,1)};ListenerRemover.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)};return{statics:{releaseCapture:function(o){o.fireEventArgs=this.prototype.fireEventArgs},capture:function(o,fn,scope){var newFn=function(eventName,args){return fn.apply(scope,[eventName].concat(args))};this.captureArgs(o,newFn,scope)},captureArgs:function(o,fn,scope){o.fireEventArgs=Ext.Function.createInterceptor(o.fireEventArgs,fn,scope)},observe:function(cls,listeners){if(cls){if(!cls.isObservable){Ext.applyIf(cls,new this);this.captureArgs(cls.prototype,cls.fireEventArgs,cls)}if(Ext.isObject(listeners)){cls.on(listeners)}}return cls},prepareClass:function(T,mixin){if(!T.HasListeners){var HasListeners=function(){},SuperHL=T.superclass.HasListeners||mixin&&mixin.HasListeners||Observable.HasListeners;T.prototype.HasListeners=T.HasListeners=HasListeners;HasListeners.prototype=T.hasListeners=new SuperHL}}},isObservable:true,eventsSuspended:0,constructor:function(config){var me=this;Ext.apply(me,config);if(!me.hasListeners){me.hasListeners=new me.HasListeners}me.events=me.events||{};if(me.listeners){me.on(me.listeners);me.listeners=null}if(me.bubbleEvents){me.enableBubble(me.bubbleEvents)}},onClassExtended:function(T){if(!T.HasListeners){Observable.prepareClass(T)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(item,ename,fn,scope,options,noDestroy){var me=this,managedListeners=me.managedListeners=me.managedListeners||[],config,passedOptions;if(typeof ename!=="string"){passedOptions=arguments.length>4?options:ename;options=ename;for(ename in options){if(options.hasOwnProperty(ename)){config=options[ename];if(!me.eventOptionsRe.test(ename)){me.addManagedListener(item,ename,config.fn||config,config.scope||options.scope||scope,config.fn?config:passedOptions,true)}}}if(options&&options.destroyable){return new ListenerRemover(me,item,options)}}else{if(typeof fn==="string"){scope=scope||me;fn=Ext.resolveMethod(fn,scope)}managedListeners.push({item:item,ename:ename,fn:fn,scope:scope,options:options});item.on(ename,fn,scope,options);if(!noDestroy&&options&&options.destroyable){return new ListenerRemover(me,item,ename,fn,scope)}}},removeManagedListener:function(item,ename,fn,scope){var me=this,options,config,managedListeners,length,i,func;if(typeof ename!=="string"){options=ename;for(ename in options){if(options.hasOwnProperty(ename)){config=options[ename];if(!me.eventOptionsRe.test(ename)){me.removeManagedListener(item,ename,config.fn||config,config.scope||options.scope||scope)}}}}else{managedListeners=me.managedListeners?me.managedListeners.slice():[];if(typeof fn==="string"){scope=scope||me;fn=Ext.resolveMethod(fn,scope)}for(i=0,length=managedListeners.length;i<length;i++){me.removeManagedListenerItem(false,managedListeners[i],item,ename,fn,scope)}}},fireEvent:function(eventName){return this.fireEventArgs(eventName,arraySlice.call(arguments,1))},fireEventArgs:function(eventName,args){eventName=eventName.toLowerCase();var me=this,events=me.events,event=events&&events[eventName],ret=true;if(event&&me.hasListeners[eventName]){ret=me.continueFireEvent(eventName,args||emptyArray,event.bubble)
}return ret},continueFireEvent:function(eventName,args,bubbles){var target=this,queue,event,ret=true;do{if(target.eventsSuspended){if(queue=target.eventQueue){queue.push([eventName,args,bubbles])}return ret}else{event=target.events[eventName];if(event&&event!==true){if((ret=event.fire.apply(event,args))===false){break}}}}while(bubbles&&(target=target.getBubbleParent()));return ret},getBubbleParent:function(){var me=this,parent=me.getBubbleTarget&&me.getBubbleTarget();if(parent&&parent.isObservable){return parent}return null},addListener:function(ename,fn,scope,options){var me=this,config,event,prevListenerCount=0;if(typeof ename!=="string"){options=ename;for(ename in options){if(options.hasOwnProperty(ename)){config=options[ename];if(!me.eventOptionsRe.test(ename)){me.addListener(ename,config.fn||config,config.scope||options.scope,config.fn?config:options)}}}if(options&&options.destroyable){return new ListenerRemover(me,options)}}else{ename=ename.toLowerCase();event=me.events[ename];if(event&&event.isEvent){prevListenerCount=event.listeners.length}else{me.events[ename]=event=new ExtEvent(me,ename)}if(!fn){Ext.Error.raise("No function passed for event "+me.$className+"."+ename)}if(typeof fn==="string"){scope=scope||me;fn=Ext.resolveMethod(fn,scope)}event.addListener(fn,scope,options);if(event.listeners.length!==prevListenerCount){me.hasListeners._incr_(ename)}if(options&&options.destroyable){return new ListenerRemover(me,ename,fn,scope,options)}}},removeListener:function(ename,fn,scope){var me=this,config,event,options;if(typeof ename!=="string"){options=ename;for(ename in options){if(options.hasOwnProperty(ename)){config=options[ename];if(!me.eventOptionsRe.test(ename)){me.removeListener(ename,config.fn||config,config.scope||options.scope)}}}}else{ename=ename.toLowerCase();event=me.events[ename];if(event&&event.isEvent){if(typeof fn==="string"){scope=scope||me;fn=Ext.resolveMethod(fn,scope)}if(event.removeListener(fn,scope)){me.hasListeners._decr_(ename)}}}},clearListeners:function(){var events=this.events,hasListeners=this.hasListeners,event,key;for(key in events){if(events.hasOwnProperty(key)){event=events[key];if(event.isEvent){delete hasListeners[key];event.clearListeners()}}}this.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var managedListeners=this.managedListeners||[],i=0,len=managedListeners.length;for(;i<len;i++){this.removeManagedListenerItem(true,managedListeners[i])}this.managedListeners=[]},removeManagedListenerItem:function(isClear,managedListener,item,ename,fn,scope){if(isClear||managedListener.item===item&&managedListener.ename===ename&&(!fn||managedListener.fn===fn)&&(!scope||managedListener.scope===scope)){managedListener.item.un(managedListener.ename,managedListener.fn,managedListener.scope);if(!isClear){Ext.Array.remove(this.managedListeners,managedListener)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},addEvents:function(o){var me=this,events=me.events||(me.events={}),arg,args,i;if(typeof o=="string"){for(args=arguments,i=args.length;i--;){arg=args[i];if(!events[arg]){events[arg]=true}}}else{Ext.applyIf(me.events,o)}},hasListener:function(ename){return!!this.hasListeners[ename.toLowerCase()]},suspendEvents:function(queueSuspended){this.eventsSuspended+=1;if(queueSuspended&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(eventName){var len=arguments.length,i,event;for(i=0;i<len;i++){event=this.events[arguments[i]];if(event&&event.suspend){event.suspend()}}},resumeEvent:function(){var len=arguments.length,i,event;for(i=0;i<len;i++){event=this.events[arguments[i]];if(event&&event.resume){event.resume()}}},resumeEvents:function(){var me=this,queued=me.eventQueue,qLen,q;if(me.eventsSuspended&&!--me.eventsSuspended){delete me.eventQueue;if(queued){qLen=queued.length;for(q=0;q<qLen;q++){me.continueFireEvent.apply(me,queued[q])}}}},relayEvents:function(origin,events,prefix){var me=this,len=events.length,i=0,oldName,relayers={};for(;i<len;i++){oldName=events[i];relayers[oldName]=me.createRelayer(prefix?prefix+oldName:oldName)}me.mon(origin,relayers,null,null,undefined);return new ListenerRemover(me,origin,relayers)},createRelayer:function(newName,beginEnd){var me=this;return function(){return me.fireEventArgs.call(me,newName,beginEnd?arraySlice.apply(arguments,beginEnd):arguments)}},enableBubble:function(eventNames){if(eventNames){var me=this,names=typeof eventNames=="string"?arguments:eventNames,length=names.length,events=me.events,ename,event,i;for(i=0;i<length;++i){ename=names[i].toLowerCase();event=events[ename];if(!event||typeof event=="boolean"){events[ename]=event=new ExtEvent(me,ename)}me.hasListeners._incr_(ename);event.bubble=true}}}}},function(){var Observable=this,proto=Observable.prototype,HasListeners=function(){},prepareMixin=function(T){if(!T.HasListeners){var proto=T.prototype;Observable.prepareClass(T,this);T.onExtended(function(U){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);Observable.prepareClass(U)});if(proto.onClassMixedIn){Ext.override(T,{onClassMixedIn:function(U){prepareMixin.call(this,U);this.callParent(arguments)}})}else{proto.onClassMixedIn=function(U){prepareMixin.call(this,U)}}}},globalEvents;HasListeners.prototype={_decr_:function(ev){if(!--this[ev]){delete this[ev]}},_incr_:function(ev){if(this.hasOwnProperty(ev)){++this[ev]}else{this[ev]=1}}};proto.HasListeners=Observable.HasListeners=HasListeners;Observable.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});Observable.observeClass=Observable.observe;Ext.on=function(){return globalEvents.addListener.apply(globalEvents,arguments)};Ext.un=function(){return globalEvents.removeListener.apply(globalEvents,arguments)};function getMethodEvent(method){var e=(this.methodEvents=this.methodEvents||{})[method],returnValue,v,cancel,obj=this,makeCall;if(!e){this.methodEvents[method]=e={};e.originalFn=this[method];e.methodName=method;e.before=[];e.after=[];makeCall=function(fn,scope,args){if((v=fn.apply(scope||obj,args))!==undefined){if(typeof v=="object"){if(v.returnValue!==undefined){returnValue=v.returnValue}else{returnValue=v}cancel=!!v.cancel}else if(v===false){cancel=true}else{returnValue=v}}};this[method]=function(){var args=Array.prototype.slice.call(arguments,0),b,i,len;returnValue=v=undefined;cancel=false;for(i=0,len=e.before.length;i<len;i++){b=e.before[i];makeCall(b.fn,b.scope,args);if(cancel){return returnValue}}if((v=e.originalFn.apply(obj,args))!==undefined){returnValue=v}for(i=0,len=e.after.length;i<len;i++){b=e.after[i];makeCall(b.fn,b.scope,args);if(cancel){return returnValue}}return returnValue}}return e}Ext.apply(proto,{onClassMixedIn:prepareMixin,beforeMethod:function(method,fn,scope){getMethodEvent.call(this,method).before.push({fn:fn,scope:scope})},afterMethod:function(method,fn,scope){getMethodEvent.call(this,method).after.push({fn:fn,scope:scope})},removeMethodListener:function(method,fn,scope){var e=this.getMethodEvent(method),i,len;for(i=0,len=e.before.length;i<len;i++){if(e.before[i].fn==fn&&e.before[i].scope==scope){Ext.Array.erase(e.before,i,1);return}}for(i=0,len=e.after.length;i<len;i++){if(e.after[i].fn==fn&&e.after[i].scope==scope){Ext.Array.erase(e.after,i,1);return}}},toggleEventLogging:function(toggle){Ext.util.Observable[toggle?"capture":"releaseCapture"](this,function(en){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(en,arguments)}})}})});Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.globalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(javascriptId,state,data){var connection;connection=this.liveConnections[Number(javascriptId)];if(connection){connection.onFlashStateChange(state,data)}else{Ext.warn.log("onFlashStateChange for unknown connection ID: "+javascriptId)}},registerConnection:function(conn){var i=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[i]=conn;return i},injectFlashPlugin:function(){var divTag,pTag,aTag,iTag,me=this,flashLoaderPath,flashObjectPath;iTag=document.createElement("img");iTag.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif");iTag.setAttribute("alt","Get Adobe Flash player");aTag=document.createElement("a");aTag.setAttribute("href","http://www.adobe.com/go/getflashplayer");aTag.appendChild(iTag);pTag=document.createElement("p");pTag.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.";divTag=document.createElement("div");divTag.setAttribute("id","ext-flash-polyfill");divTag.appendChild(pTag);divTag.appendChild(iTag);Ext.getBody().dom.appendChild(divTag);flashLoaderPath=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");flashObjectPath="/plugins/flash/FlashPlugin.swf";flashObjectPath=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/");if(Ext.flashPluginPath){flashObjectPath=Ext.flashPluginPath}Ext.Loader.loadScript({url:flashLoaderPath,onLoad:function(){var swfVersionStr="11.4.0";var xiSwfUrlStr="playerProductInstall.swf";var flashvars={};var params={};params.quality="high";params.bgcolor="#ffffff";params.allowscriptaccess="sameDomain";params.allowfullscreen="true";var attributes={};attributes.id="ext-flash-polyfill";attributes.name="polyfill";attributes.align="middle";swfobject.embedSWF(flashObjectPath,"ext-flash-polyfill","0","0",swfVersionStr,xiSwfUrlStr,flashvars,params,attributes)},onError:function(){Ext.Error.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:me});Ext.globalEvents.addEvents("flashready");Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(config){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var me=this;Ext.apply(me,config);me.requestHeaders={}},abort:function(){var me=this;if(me.readyState==4){Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url);return}me.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.removeListener("flashready",me.onFlashReady,me);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(me.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[me.javascriptId]},getAllResponseHeaders:function(){var headers=[];Ext.Object.each(this.responseHeaders,function(name,value){headers.push(name+": "+value)});return headers.join("\r\n")},getResponseHeader:function(header){var headers=this.responseHeaders;return headers&&headers[header]||null},open:function(method,url,async,user,password){var me=this;me.method=method;me.url=url;me.async=async!==false;me.user=user;me.password=password;if(!me.async){Ext.Error.raise("Binary posts are only supported in async mode: "+url)}if(me.method!="POST"){Ext.log.warn("Binary data can only be sent as a POST request: "+url)}},overrideMimeType:function(mimeType){this.mimeType=mimeType},send:function(body){var me=this;me.body=body;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.addListener("flashready",me.onFlashReady,me)}else{this.onFlashReady()}},onFlashReady:function(){var me=this,req,status;me.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(me);req={method:me.method,url:me.url,user:me.user,password:me.password,mimeType:me.mimeType,requestHeaders:me.requestHeaders,body:me.body,javascriptId:me.javascriptId};status=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(req)},setReadyState:function(state){var me=this;if(me.readyState!=state){me.readyState=state;me.onreadystatechange()}},setRequestHeader:function(header,value){this.requestHeaders[header]=value},onreadystatechange:Ext.emptyFn,parseData:function(data){var me=this;this.status=data.status||0;me.responseHeaders={};if(me.mimeType){me.responseHeaders["content-type"]=me.mimeType}if(data.reason=="complete"){this.responseBytes=data.data;me.responseHeaders["content-length"]=data.data.length}else if(data.reason=="error"||data.reason=="securityError"){this.statusText=data.text;me.responseHeaders["content-length"]=0}else{Ext.Error.raise("Unkown reason code in data: "+data.reason)}},onFlashStateChange:function(state,data){var me=this;if(state==4){me.parseData(data);delete Ext.data.flash.BinaryXhr.liveConnections[me.javascriptId]}me.setReadyState(state)}});Ext.define("Ext.data.Connection",{mixins:{observable:Ext.util.Observable},statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(config){config=config||{};Ext.apply(this,config);this.requests={};this.mixins.observable.constructor.call(this)},request:function(options){options=options||{};var me=this,scope=options.scope||window,username=options.username||me.username,password=options.password||me.password||"",async,requestOptions,request,headers,xhr;if(me.fireEvent("beforerequest",me,options)!==false){requestOptions=me.setOptions(options,scope);if(me.isFormUpload(options)){me.upload(options.form,requestOptions.url,requestOptions.data,options);return null}if(options.autoAbort||me.autoAbort){me.abort()}async=options.async!==false?options.async||me.async:false;xhr=me.openRequest(options,requestOptions,async,username,password);if(!me.isXdr){headers=me.setupHeaders(xhr,options,requestOptions.data,requestOptions.params)}request={id:++Ext.data.Connection.requestId,xhr:xhr,headers:headers,options:options,async:async,binary:options.binary||me.binary,timeout:setTimeout(function(){request.timedout=true;me.abort(request)},options.timeout||me.timeout)};me.requests[request.id]=request;me.latestId=request.id;if(async){if(!me.isXdr){xhr.onreadystatechange=Ext.Function.bind(me.onStateChange,me,[request])}}if(me.isXdr){me.processXdrRequest(request,xhr)}xhr.send(requestOptions.data);if(!async){return me.onComplete(request)}return request}else{Ext.callback(options.callback,options.scope,[options,undefined,undefined]);return null}},processXdrRequest:function(request,xhr){var me=this;delete request.headers;request.contentType=request.options.contentType||me.defaultXdrContentType;xhr.onload=Ext.Function.bind(me.onStateChange,me,[request,true]);xhr.onerror=xhr.ontimeout=Ext.Function.bind(me.onStateChange,me,[request,false])},processXdrResponse:function(response,xhr){response.getAllResponseHeaders=function(){return[]};response.getResponseHeader=function(){return""};response.contentType=xhr.contentType||this.defaultXdrContentType},upload:function(form,url,params,options){form=Ext.getDom(form);options=options||{};var id=Ext.id(),frame=document.createElement("iframe"),hiddens=[],encoding="multipart/form-data",buf={target:form.target,method:form.method,encoding:form.encoding,enctype:form.enctype,action:form.action},addField=function(name,value){hiddenItem=document.createElement("input");Ext.fly(hiddenItem).set({type:"hidden",value:value,name:name});form.appendChild(hiddenItem);hiddens.push(hiddenItem)},hiddenItem,obj,value,name,vLen,v,hLen,h;Ext.fly(frame).set({id:id,name:id,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(frame);if(document.frames){document.frames[id].name=id}Ext.fly(form).set({target:id,method:"POST",enctype:encoding,encoding:encoding,action:url||buf.action});if(params){obj=Ext.Object.fromQueryString(params)||{};for(name in obj){if(obj.hasOwnProperty(name)){value=obj[name];if(Ext.isArray(value)){vLen=value.length;for(v=0;v<vLen;v++){addField(name,value[v])}}else{addField(name,value)}}}}Ext.fly(frame).on("load",Ext.Function.bind(this.onUploadComplete,this,[frame,options]),null,{single:!Ext.isOpera});form.submit();Ext.fly(form).set(buf);hLen=hiddens.length;for(h=0;h<hLen;h++){Ext.removeNode(hiddens[h])}},onUploadComplete:function(frame,options){var me=this,response={responseText:"",responseXML:null},callback,success,doc,contentNode;try{doc=frame.contentWindow.document||frame.contentDocument||window.frames[frame.id].document;if(doc){if(Ext.isOpera&&doc.location=="about:blank"){return}if(doc.body){if((contentNode=doc.body.firstChild)&&/pre/i.test(contentNode.tagName)){response.responseText=contentNode.textContent}else if(contentNode=doc.getElementsByTagName("textarea")[0]){response.responseText=contentNode.value}else{response.responseText=doc.body.textContent||doc.body.innerText}}response.responseXML=doc.XMLDocument||doc;callback=options.success;success=true}}catch(e){response.responseText='{success:false,message:"'+Ext.String.trim(e.message||e.description)+'"}';callback=options.failure;success=false}me.fireEvent("requestcomplete",me,response,options);Ext.callback(callback,options.scope,[response,options]);Ext.callback(options.callback,options.scope,[options,success,response]);setTimeout(function(){Ext.removeNode(frame)},100)},isFormUpload:function(options){var form=this.getForm(options);if(form){return options.isUpload||/multipart\/form-data/i.test(form.getAttribute("enctype"))}return false},getForm:function(options){return Ext.getDom(options.form)||null},setOptions:function(options,scope){var me=this,params=options.params||{},extraParams=me.extraParams,urlParams=options.urlParams,url=options.url||me.url,jsonData=options.jsonData,method,disableCache,data;if(Ext.isFunction(params)){params=params.call(scope,options)}if(Ext.isFunction(url)){url=url.call(scope,options)}url=this.setupUrl(options,url);if(!url){Ext.Error.raise({options:options,msg:"No URL specified"})}data=options.rawData||options.binaryData||options.xmlData||jsonData||null;if(jsonData&&!Ext.isPrimitive(jsonData)){data=Ext.encode(data)}if(options.binaryData){if(!Ext.isArray(options.binaryData)){Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof options.binaryData)}if(me.nativeBinaryPostSupport()){data=new Uint8Array(options.binaryData);if(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko){data=data.buffer}}}if(Ext.isObject(params)){params=Ext.Object.toQueryString(params)}if(Ext.isObject(extraParams)){extraParams=Ext.Object.toQueryString(extraParams)}params=params+(extraParams?(params?"&":"")+extraParams:"");urlParams=Ext.isObject(urlParams)?Ext.Object.toQueryString(urlParams):urlParams;params=this.setupParams(options,params);method=(options.method||me.method||(params||data?"POST":"GET")).toUpperCase();this.setupMethod(options,method);disableCache=options.disableCaching!==false?options.disableCaching||me.disableCaching:false;if(method==="GET"&&disableCache){url=Ext.urlAppend(url,(options.disableCachingParam||me.disableCachingParam)+"="+(new Date).getTime())}if((method=="GET"||data)&&params){url=Ext.urlAppend(url,params);params=null}if(urlParams){url=Ext.urlAppend(url,urlParams)}return{url:url,method:method,data:data||params||null}},setupUrl:function(options,url){var form=this.getForm(options);if(form){url=url||form.action}return url},setupParams:function(options,params){var form=this.getForm(options),serializedForm;if(form&&!this.isFormUpload(options)){serializedForm=Ext.Element.serializeForm(form);params=params?params+"&"+serializedForm:serializedForm}return params},setupMethod:function(options,method){if(this.isFormUpload(options)){return"POST"}return method},setupHeaders:function(xhr,options,data,params){var me=this,headers=Ext.apply({},options.headers||{},me.defaultHeaders||{}),contentType=me.defaultPostHeader,jsonData=options.jsonData,xmlData=options.xmlData,key,header;if(!headers["Content-Type"]&&(data||params)){if(data){if(options.rawData){contentType="text/plain"}else{if(xmlData&&Ext.isDefined(xmlData)){contentType="text/xml"}else if(jsonData&&Ext.isDefined(jsonData)){contentType="application/json"}}}headers["Content-Type"]=contentType}if(me.useDefaultXhrHeader&&!headers["X-Requested-With"]){headers["X-Requested-With"]=me.defaultXhrHeader}try{for(key in headers){if(headers.hasOwnProperty(key)){header=headers[key];xhr.setRequestHeader(key,header)}}}catch(e){me.fireEvent("exception",key,header)}return headers},newRequest:function(options){var me=this,xhr;if(options.binaryData){if(me.nativeBinaryPostSupport()){xhr=this.getXhrInstance()}else{xhr=new Ext.data.flash.BinaryXhr}}else if((options.cors||me.cors)&&Ext.isIE&&Ext.ieVersion<=9){xhr=me.getXdrInstance();me.isXdr=true}else{xhr=me.getXhrInstance()}return xhr},openRequest:function(options,requestOptions,async,username,password){var me=this,xhr=me.newRequest(options);if(username){xhr.open(requestOptions.method,requestOptions.url,async,username,password)}else{if(me.isXdr){xhr.open(requestOptions.method,requestOptions.url)}else{xhr.open(requestOptions.method,requestOptions.url,async)}}if(options.binary||me.binary){if(window.Uint8Array){xhr.responseType="arraybuffer"}else if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}else if(!Ext.isIE){Ext.log.warn("Your does not support loading binary data using Ajax.")}}if(options.withCredentials||me.withCredentials){xhr.withCredentials=true}return xhr},getXdrInstance:function(){var xdr;if(Ext.ieVersion>=8){xdr=new XDomainRequest}else{Ext.Error.raise({msg:"Your browser does not support CORS"})}return xdr},getXhrInstance:function(){var options=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=0,len=options.length,xhr;for(;i<len;++i){try{xhr=options[i];xhr();break}catch(e){}}return xhr}(),isLoading:function(request){if(!request){request=this.getLatest()}if(!(request&&request.xhr)){return false}var state=request.xhr.readyState;return request.xhr instanceof Ext.data.flash.BinaryXhr&&state!=4||!(state===0||state==4)},abort:function(request){var me=this,xhr;if(!request){request=me.getLatest()}if(request&&me.isLoading(request)){xhr=request.xhr;try{xhr.onreadystatechange=null}catch(e){xhr.onreadystatechange=Ext.emptyFn}xhr.abort();me.clearTimeout(request);if(!request.timedout){request.aborted=true}me.onComplete(request);me.cleanup(request)}},abortAll:function(){var requests=this.requests,id;for(id in requests){if(requests.hasOwnProperty(id)){this.abort(requests[id])}}},getLatest:function(){var id=this.latestId,request;if(id){request=this.requests[id]}return request||null},onStateChange:function(request,xdrResult){var me=this;if(request.xhr&&request.xhr.readyState==4||me.isXdr){me.clearTimeout(request);me.onComplete(request,xdrResult);me.cleanup(request)}},clearTimeout:function(request){clearTimeout(request.timeout);delete request.timeout},cleanup:function(request){request.xhr=null;delete request.xhr},onComplete:function(request,xdrResult){var me=this,options=request.options,result,success,response;try{result=me.parseStatus(request.xhr.status)}catch(e){result={success:false,isException:false}}success=me.isXdr?xdrResult:result.success;if(success){response=me.createResponse(request);me.fireEvent("requestcomplete",me,response,options);Ext.callback(options.success,options.scope,[response,options])}else{if(result.isException||request.aborted||request.timedout){response=me.createException(request)}else{response=me.createResponse(request)}me.fireEvent("requestexception",me,response,options);Ext.callback(options.failure,options.scope,[response,options])}Ext.callback(options.callback,options.scope,[options,success,response]);delete me.requests[request.id];return response},parseStatus:function(status){status=status==1223?204:status;var success=status>=200&&status<300||status==304,isException=false;if(!success){switch(status){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:isException=true;break}}return{success:success,isException:isException}},createResponse:function(request){var me=this,xhr=request.xhr,isXdr=me.isXdr,headers={},lines=isXdr?[]:xhr.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),count=lines.length,line,index,key,response,byteArray;while(count--){line=lines[count];index=line.indexOf(":");if(index>=0){key=line.substr(0,index).toLowerCase();if(line.charAt(index+1)==" "){++index}headers[key]=line.substr(index+1)}}request.xhr=null;delete request.xhr;response={request:request,requestId:request.id,status:xhr.status,statusText:xhr.statusText,getResponseHeader:function(header){return headers[header.toLowerCase()]},getAllResponseHeaders:function(){return headers}};if(isXdr){me.processXdrResponse(response,xhr)}if(request.binary){response.responseBytes=me.getByteArray(xhr)}else{response.responseText=xhr.responseText;response.responseXML=xhr.responseXML}xhr=null;return response},createException:function(request){return{request:request,requestId:request.id,status:request.aborted?-1:0,statusText:request.aborted?"transaction aborted":"communication failure",aborted:request.aborted,timedout:request.timedout}},getByteArray:function(xhr){var response=xhr.response,responseBody=xhr.responseBody,byteArray,responseText,len,i;if(xhr instanceof Ext.data.flash.BinaryXhr){byteArray=xhr.responseBytes}else if(window.Uint8Array){byteArray=response?new Uint8Array(response):[]}else if(Ext.isIE9p){try{byteArray=new VBArray(responseBody).toArray()}catch(e){byteArray=[]}}else if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(xhr.responseBody,byteArray=[])}else{byteArray=[];responseText=xhr.responseText;len=responseText.length;for(i=0;i<len;i++){byteArray.push(responseText.charCodeAt(i)&255)}}return byteArray},injectVBScript:function(){var scriptTag=document.createElement("script");scriptTag.type="text/vbscript";scriptTag.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(scriptTag);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}});Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:true,autoAbort:false});Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:false,enableGarbageCollector:true,enableListenerCollection:true,rootHierarchyState:{},addCacheEntry:function(id,el,dom){dom=dom||el.dom;if(!dom){Ext.Error.raise("Cannot add an entry to the element cache without the DOM node")}var cache=Ext.cache,key=id||el&&el.id||dom.id,entry=cache[key]||(cache[key]={data:{},events:{},dom:dom,skipGarbageCollection:!!(dom.getElementById||dom.navigator)});if(el){el.$cache=entry;entry.el=el}return entry},updateCacheEntry:function(cacheItem,dom){cacheItem.dom=dom;if(cacheItem.el){cacheItem.el.dom=dom}return cacheItem},id:function(el,prefix){var me=this,sandboxPrefix="";el=Ext.getDom(el,true)||{};if(el===document){el.id=me.documentId}else if(el===window){el.id=me.windowId}if(!el.id){if(me.isSandboxed){sandboxPrefix=Ext.sandboxName.toLowerCase()+"-"}el.id=sandboxPrefix+(prefix||"ext-gen")+ ++Ext.idSeed}return el.id},escapeId:function(){var validIdRe=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,escapeRx=/([\W]{1})/g,leadingNumRx=/^(\d)/g,escapeFn=function(match,capture){return"\\"+capture},numEscapeFn=function(match,capture){return"\\00"+capture.charCodeAt(0).toString(16)+" "};return function(id){return validIdRe.test(id)?id:id.replace(escapeRx,escapeFn).replace(leadingNumRx,numEscapeFn)}}(),getBody:function(){var body;return function(){return body||(body=Ext.get(document.body))}}(),getHead:function(){var head;return function(){return head||(head=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var doc;return function(){return doc||(doc=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var ln=arguments.length,i,arg;for(i=0;i<ln;i++){arg=arguments[i];if(arg){if(Ext.isArray(arg)){this.destroy.apply(this,arg)}else if(arg.isStore){arg.destroyStore()}else if(Ext.isFunction(arg.destroy)){arg.destroy()}else if(arg.dom){arg.remove()}}}},callback:function(callback,scope,args,delay){var fn,ret;if(Ext.isFunction(callback)){fn=callback}else if(scope&&Ext.isString(callback)){fn=scope[callback];if(!fn){Ext.Error.raise('No method named "'+callback+'"')}}if(fn){args=args||[];scope=scope||window;if(delay){Ext.defer(fn,delay,scope,args)}else{ret=fn.apply(scope,args)}}return ret},resolveMethod:function(fn,scope){if(Ext.isFunction(fn)){return fn}if(!Ext.isObject(scope)||!Ext.isFunction(scope[fn])){Ext.Error.raise('No method named "'+fn+'"')}return scope[fn]},htmlEncode:function(value){return Ext.String.htmlEncode(value)},htmlDecode:function(value){return Ext.String.htmlDecode(value)},urlAppend:function(url,s){return Ext.String.urlAppend(url,s)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;(function(){var check=function(regex){return regex.test(Ext.userAgent)},isStrict=document.compatMode=="CSS1Compat",version=function(is,regex){var m;return is&&(m=regex.exec(Ext.userAgent))?parseFloat(m[1]):0},docMode=document.documentMode,isOpera=check(/opera/),isOpera10_5=isOpera&&check(/version\/10\.5/),isChrome=check(/\bchrome\b/),isWebKit=check(/webkit/),isSafari=!isChrome&&check(/safari/),isSafari2=isSafari&&check(/applewebkit\/4/),isSafari3=isSafari&&check(/version\/3/),isSafari4=isSafari&&check(/version\/4/),isSafari5_0=isSafari&&check(/version\/5\.0/),isSafari5=isSafari&&check(/version\/5/),isIE=!isOpera&&check(/msie/),isIE7=isIE&&(check(/msie 7/)&&docMode!=8&&docMode!=9&&docMode!=10||docMode==7),isIE8=isIE&&(check(/msie 8/)&&docMode!=7&&docMode!=9&&docMode!=10||docMode==8),isIE9=isIE&&(check(/msie 9/)&&docMode!=7&&docMode!=8&&docMode!=10||docMode==9),isIE10=isIE&&(check(/msie 10/)&&docMode!=7&&docMode!=8&&docMode!=9||docMode==10),isIE6=isIE&&check(/msie 6/),isGecko=!isWebKit&&check(/gecko/),isGecko3=isGecko&&check(/rv:1\.9/),isGecko4=isGecko&&check(/rv:2\.0/),isGecko5=isGecko&&check(/rv:5\./),isGecko10=isGecko&&check(/rv:10\./),isFF3_0=isGecko3&&check(/rv:1\.9\.0/),isFF3_5=isGecko3&&check(/rv:1\.9\.1/),isFF3_6=isGecko3&&check(/rv:1\.9\.2/),isWindows=check(/windows|win32/),isMac=check(/macintosh|mac os x/),isLinux=check(/linux/),scrollbarSize=null,chromeVersion=version(true,/\bchrome\/(\d+\.\d+)/),firefoxVersion=version(true,/\bfirefox\/(\d+\.\d+)/),ieVersion=version(isIE,/msie (\d+\.\d+)/),operaVersion=version(isOpera,/version\/(\d+\.\d+)/),safariVersion=version(isSafari,/version\/(\d+\.\d+)/),webKitVersion=version(isWebKit,/webkit\/(\d+\.\d+)/),isSecure=/^https/i.test(window.location.protocol),nullLog;try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}var primitiveRe=/string|number|boolean/;function dumpObject(object){var member,type,value,name,members=[];for(name in object){if(object.hasOwnProperty(name)){value=object[name];type=typeof value;if(type=="function"){continue}if(type=="undefined"){member=type}else if(value===null||primitiveRe.test(type)||Ext.isDate(value)){member=Ext.encode(value)}else if(Ext.isArray(value)){member="[ ]"}else if(Ext.isObject(value)){member="{ }"}else{member=type}members.push(Ext.encode(name)+": "+member)}}if(members.length){return" \nData: {\n  "+members.join(",\n  ")+"\n}"
}return""}function log(message){var options,dump,con=Ext.global.console,level="log",indent=log.indent||0,stack,out,max;log.indent=indent;if(typeof message!="string"){options=message;message=options.msg||"";level=options.level||level;dump=options.dump;stack=options.stack;if(options.indent){++log.indent}else if(options.outdent){log.indent=indent=Math.max(indent-1,0)}if(dump&&!(con&&con.dir)){message+=dumpObject(dump);dump=null}}if(arguments.length>1){message+=Array.prototype.slice.call(arguments,1).join("")}message=indent?Ext.String.repeat(" ",log.indentSize*indent)+message:message;if(level!="log"){message="["+level.charAt(0).toUpperCase()+"] "+message}if(con){if(con[level]){con[level](message)}else{con.log(message)}if(dump){con.dir(dump)}if(stack&&con.trace){if(!con.firebug||level!="error"){con.trace()}}}else{if(Ext.isOpera){opera.postError(message)}else{out=log.out;max=log.max;if(out.length>=max){Ext.Array.erase(out,0,out.length-3*Math.floor(max/4))}out.push(message)}}++log.count;++log.counters[level]}function logx(level,args){if(typeof args[0]=="string"){args.unshift({})}args[0].level=level;log.apply(this,args)}log.error=function(){logx("error",Array.prototype.slice.call(arguments))};log.info=function(){logx("info",Array.prototype.slice.call(arguments))};log.warn=function(){logx("warn",Array.prototype.slice.call(arguments))};log.count=0;log.counters={error:0,warn:0,info:0,log:0};log.indentSize=2;log.out=[];log.max=750;log.show=function(){window.open("","extlog").document.write(['<html><head><script type="text/javascript">',"var lastCount = 0;","function update () {","var ext = window.opener.Ext,","extlog = ext && ext.log;","if (extlog && extlog.out && lastCount != extlog.count) {","lastCount = extlog.count;",'var s = "<tt>" + extlog.out.join("~~~").replace(/[&]/g, "&amp;").replace(/[<]/g, "&lt;").replace(/[ ]/g, "&#160;").replace(/\\~\\~\\~/g, "<br/>") + "</tt>";',"document.body.innerHTML = s;","}","setTimeout(update, 1000);","}","setTimeout(update, 1000);","</script></head><body></body></html>"].join(""))};nullLog=function(){};nullLog.info=nullLog.warn=nullLog.error=Ext.emptyFn;Ext.setVersion("extjs","4.2.1.883");Ext.apply(Ext,{SSL_SECURE_URL:isSecure&&isIE?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(el,strict){if(!el||!document){return null}if(el.dom){return el.dom}else{if(typeof el=="string"){var e=Ext.getElementById(el);if(e&&isIE&&strict){if(el==e.getAttribute("id")){return e}else{return null}}return e}else{return el}}},removeNode:isIE6||isIE7||isIE8?function(){var d;return function(n){if(n&&n.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(n):Ext.EventManager.removeAll(n);var cache=Ext.cache,id=n.id;if(cache[id]){delete cache[id].dom;delete cache[id]}if(isIE8&&n.parentNode){n.parentNode.removeChild(n)}d=d||document.createElement("div");d.appendChild(n);d.innerHTML=""}}}():function(n){if(n&&n.parentNode&&n.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(n):Ext.EventManager.removeAll(n);var cache=Ext.cache,id=n.id;if(cache[id]){delete cache[id].dom;delete cache[id]}n.parentNode.removeChild(n)}},isStrict:isStrict,isIEQuirks:isIE&&(!isStrict&&(isIE6||isIE7||isIE8||isIE9)),isOpera:isOpera,isOpera10_5:isOpera10_5,isWebKit:isWebKit,isChrome:isChrome,isSafari:isSafari,isSafari3:isSafari3,isSafari4:isSafari4,isSafari5:isSafari5,isSafari5_0:isSafari5_0,isSafari2:isSafari2,isIE:isIE,isIE6:isIE6,isIE7:isIE7,isIE7m:isIE6||isIE7,isIE7p:isIE&&!isIE6,isIE8:isIE8,isIE8m:isIE6||isIE7||isIE8,isIE8p:isIE&&!(isIE6||isIE7),isIE9:isIE9,isIE9m:isIE6||isIE7||isIE8||isIE9,isIE9p:isIE&&!(isIE6||isIE7||isIE8),isIE10:isIE10,isIE10m:isIE6||isIE7||isIE8||isIE9||isIE10,isIE10p:isIE&&!(isIE6||isIE7||isIE8||isIE9),isGecko:isGecko,isGecko3:isGecko3,isGecko4:isGecko4,isGecko5:isGecko5,isGecko10:isGecko10,isFF3_0:isFF3_0,isFF3_5:isFF3_5,isFF3_6:isFF3_6,isFF4:4<=firefoxVersion&&firefoxVersion<5,isFF5:5<=firefoxVersion&&firefoxVersion<6,isFF10:10<=firefoxVersion&&firefoxVersion<11,isLinux:isLinux,isWindows:isWindows,isMac:isMac,chromeVersion:chromeVersion,firefoxVersion:firefoxVersion,ieVersion:ieVersion,operaVersion:operaVersion,safariVersion:safariVersion,webKitVersion:webKitVersion,isSecure:isSecure,BLANK_IMAGE_URL:isIE6||isIE7?"/"+"/www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(v,defaultValue,allowBlank){return Ext.isEmpty(v,allowBlank)?defaultValue:v},escapeRe:function(s){return s.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(o){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(o)})}else{var cache={},parts,b,s;for(b in o){if((parts=b.split("@"))[1]){s=parts[0];if(!cache[s]){cache[s]=Ext.select(s)}cache[s].on(parts[1],o[b])}}cache=null}},getScrollbarSize:function(force){if(!Ext.isReady){return{}}if(force||!scrollbarSize){var db=document.body,div=document.createElement("div");div.style.width=div.style.height="100px";div.style.overflow="scroll";div.style.position="absolute";db.appendChild(div);scrollbarSize={width:div.offsetWidth-div.clientWidth,height:div.offsetHeight-div.clientHeight};db.removeChild(div)}return scrollbarSize},getScrollBarWidth:function(force){var size=Ext.getScrollbarSize(force);return size.width+2},copyTo:function(dest,source,names,usePrototypeKeys){if(typeof names=="string"){names=names.split(/[,;\s]/)}var n,nLen=names?names.length:0,name;for(n=0;n<nLen;n++){name=names[n];if(usePrototypeKeys||source.hasOwnProperty(name)){dest[name]=source[name]}}return dest},destroyMembers:function(o){for(var i=1,a=arguments,len=a.length;i<len;i++){Ext.destroy(o[a[i]]);delete o[a[i]]}},log:log||nullLog,partition:function(arr,truth){var ret=[[],[]],a,v,aLen=arr.length;for(a=0;a<aLen;a++){v=arr[a];ret[truth&&truth(v,a,arr)||!truth&&v?0:1].push(v)}return ret},invoke:function(arr,methodName){var ret=[],args=Array.prototype.slice.call(arguments,2),a,v,aLen=arr.length;for(a=0;a<aLen;a++){v=arr[a];if(v&&typeof v[methodName]=="function"){ret.push(v[methodName].apply(v,args))}else{ret.push(undefined)}}return ret},zip:function(){var parts=Ext.partition(arguments,function(val){return typeof val!="function"}),arrs=parts[0],fn=parts[1][0],len=Ext.max(Ext.pluck(arrs,"length")),ret=[],i,j,aLen;for(i=0;i<len;i++){ret[i]=[];if(fn){ret[i]=fn.apply(fn,Ext.pluck(arrs,i))}else{for(j=0,aLen=arrs.length;j<aLen;j++){ret[i].push(arrs[j][i])}}}return ret},toSentence:function(items,connector){var length=items.length,head,tail;if(length<=1){return items[0]}else{head=items.slice(0,length-1);tail=items[length-1];return Ext.util.Format.format("{0} {1} {2}",head.join(", "),connector||"and",tail)}},setGlyphFontFamily:function(fontFamily){Ext._glyphFontFamily=fontFamily},useShims:isIE6})})();Ext.application=function(config){var App,paths,ns;if(typeof config==="string"){Ext.require(config,function(){App=Ext.ClassManager.get(config)})}else{Ext.Loader.setPath(config.name,config.appFolder||"app");if(paths=config.paths){for(ns in paths){if(paths.hasOwnProperty(ns)){Ext.Loader.setPath(ns,paths[ns])}}}config["paths processed"]=true;Ext.define(config.name+".$application",Ext.apply({extend:"Ext.app.Application"},config),function(){App=this})}Ext.onReady(function(){Ext.app.Application.instance=new App})};Ext.Error=Ext.extend(Error,{statics:{ignore:false,raise:function(err){err=err||{};if(Ext.isString(err)){err={msg:err}}var method=this.raise.caller,msg;if(method){if(method.$name){err.sourceMethod=method.$name}if(method.$owner){err.sourceClass=method.$owner.$className}}if(Ext.Error.handle(err)!==true){msg=Ext.Error.prototype.toString.call(err);Ext.log({msg:msg,level:"error",dump:err,stack:true});throw new Ext.Error(err)}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(config){if(Ext.isString(config)){config={msg:config}}var me=this;Ext.apply(me,config);me.message=me.message||me.msg},toString:function(){var me=this,className=me.sourceClass?me.sourceClass:"",methodName=me.sourceMethod?"."+me.sourceMethod+"(): ":"",msg=me.msg||"(No description provided)";return className+methodName+msg}});Ext.deprecated=function(suggestion){if(!suggestion){suggestion=""}function fail(){Ext.Error.raise('The method "'+fail.$owner.$className+"."+fail.$name+'" has been removed. '+suggestion)}return fail;return Ext.emptyFn};(function(){var timer,errors=0,win=Ext.global,msg;if(typeof window==="undefined"){return}function notify(){var counters=Ext.log.counters,supports=Ext.supports,hasOnError=supports&&supports.WindowOnError;if(counters&&counters.error+counters.warn+counters.info+counters.log){msg=["Logged Errors:",counters.error,"Warnings:",counters.warn,"Info:",counters.info,"Log:",counters.log].join(" ");if(errors){msg="*** Errors: "+errors+" - "+msg}else if(counters.error){msg="*** "+msg}win.status=msg}if(!Ext.isDefined(Ext.Error.notify)){Ext.Error.notify=Ext.isIE6||Ext.isIE7}if(Ext.Error.notify&&(hasOnError?errors:counters&&counters.error)){Ext.Error.notify=false;if(timer){win.clearInterval(timer);timer=null}alert("Unhandled error on page: See console or log");poll()}}function poll(){timer=win.setInterval(notify,1e3)}poll()})();Ext.define("Ext.util.Filter",{id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,operator:null,statics:{createFilterFn:function(filters){return filters&&filters.length?function(candidate){var isMatch=true,length=filters.length,i,filter;for(i=0;isMatch&&i<length;i++){filter=filters[i];if(!filter.disabled){isMatch=isMatch&&filter.filterFn.call(filter.scope||filter,candidate)}}return isMatch}:function(){return true}}},operatorFns:{"<":function(candidate){return Ext.coerce(this.getRoot(candidate)[this.property],this.value)<this.value},"<=":function(candidate){return Ext.coerce(this.getRoot(candidate)[this.property],this.value)<=this.value},"=":function(candidate){return Ext.coerce(this.getRoot(candidate)[this.property],this.value)==this.value},">=":function(candidate){return Ext.coerce(this.getRoot(candidate)[this.property],this.value)>=this.value},">":function(candidate){return Ext.coerce(this.getRoot(candidate)[this.property],this.value)>this.value},"!=":function(candidate){return Ext.coerce(this.getRoot(candidate)[this.property],this.value)!=this.value}},constructor:function(config){var me=this;me.initialConfig=config;Ext.apply(me,config);me.filter=me.filter||me.filterFn;if(me.filter===undefined){me.setValue(config.value)}},setValue:function(value){var me=this;me.value=value;if(me.property===undefined||me.value===undefined){}else{me.filter=me.createFilterFn()}me.filterFn=me.filter},setFilterFn:function(filterFn){this.filterFn=this.filter=filterFn},createFilterFn:function(){var me=this,matcher=me.createValueMatcher(),property=me.property;if(me.operator){return me.operatorFns[me.operator]}else{return function(item){var value=me.getRoot(item)[property];return matcher===null?value===null:matcher.test(value)}}},getRoot:function(item){var root=this.root;return root===undefined?item:item[root]},createValueMatcher:function(){var me=this,value=me.value,anyMatch=me.anyMatch,exactMatch=me.exactMatch,caseSensitive=me.caseSensitive,escapeRe=Ext.String.escapeRegex;if(value===null){return value}if(!value.exec){value=String(value);if(anyMatch===true){value=escapeRe(value)}else{value="^"+escapeRe(value);if(exactMatch===true){value+="$"}}value=new RegExp(value,caseSensitive?"":"i")}return value},serialize:function(){var me=this,result=Ext.apply({},me.initialConfig);result.value=me.value;return result}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]});Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(allowFunctions,keyFn){var me=this;if(arguments.length===1&&Ext.isObject(allowFunctions)){me.initialConfig=allowFunctions;Ext.apply(me,allowFunctions)}else{me.allowFunctions=allowFunctions===true;if(keyFn){me.getKey=keyFn}me.initialConfig={allowFunctions:me.allowFunctions,getKey:me.getKey}}me.items=[];me.map={};me.keys=[];me.indexMap={};me.length=0;me.mixins.observable.constructor.call(me)},allowFunctions:false,add:function(key,obj){var len=this.length,out;if(arguments.length===1){out=this.insert(len,key)}else{out=this.insert(len,key,obj)}return out},getKey:function(o){return o.id},replace:function(key,o){var me=this,old,index;if(arguments.length==1){o=arguments[0];key=me.getKey(o)}old=me.map[key];if(typeof key=="undefined"||key===null||typeof old=="undefined"){return me.add(key,o)}me.generation++;index=me.indexOfKey(key);me.items[index]=o;me.map[key]=o;if(me.hasListeners.replace){me.fireEvent("replace",key,old,o)}return o},updateKey:function(oldKey,newKey){var me=this,map=me.map,indexMap=me.indexMap,index=me.indexOfKey(oldKey),item;if(index>-1){item=map[oldKey];delete map[oldKey];delete indexMap[oldKey];map[newKey]=item;indexMap[newKey]=index;me.keys[index]=newKey;me.generation++}},addAll:function(objs){var me=this,key;if(arguments.length>1||Ext.isArray(objs)){me.insert(me.length,arguments.length>1?arguments:objs)}else{for(key in objs){if(objs.hasOwnProperty(key)){if(me.allowFunctions||typeof objs[key]!="function"){me.add(key,objs[key])}}}}},each:function(fn,scope){var items=Ext.Array.push([],this.items),i=0,len=items.length,item;for(;i<len;i++){item=items[i];if(fn.call(scope||item,item,i,len)===false){break}}},eachKey:function(fn,scope){var keys=this.keys,items=this.items,i=0,len=keys.length;for(;i<len;i++){fn.call(scope||window,keys[i],items[i],i,len)}},findBy:function(fn,scope){var keys=this.keys,items=this.items,i=0,len=items.length;for(;i<len;i++){if(fn.call(scope||window,items[i],keys[i])){return items[i]}}return null},find:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")}return this.findBy.apply(this,arguments)},insert:function(index,key,obj){var out;if(Ext.isIterable(key)){out=this.doInsert(index,key,obj)}else{if(arguments.length>2){out=this.doInsert(index,[key],[obj])}else{out=this.doInsert(index,[key])}out=out[0]}return out},doInsert:function(index,keys,objects){var me=this,itemKey,removeIndex,i,len=keys.length,deDupedLen=len,fireAdd=me.hasListeners.add,syncIndices,newKeys={},passedDuplicates,oldKeys,oldObjects;if(objects!=null){me.useLinearSearch=true}else{objects=keys;keys=new Array(len);for(i=0;i<len;i++){keys[i]=this.getKey(objects[i])}}me.suspendEvents();for(i=0;i<len;i++){itemKey=keys[i];removeIndex=me.indexOfKey(itemKey);if(removeIndex!==-1){if(removeIndex<index){index--}me.removeAt(removeIndex)}if(itemKey!=null){if(newKeys[itemKey]!=null){passedDuplicates=true;deDupedLen--}newKeys[itemKey]=i}}me.resumeEvents();if(passedDuplicates){oldKeys=keys;oldObjects=objects;keys=new Array(deDupedLen);objects=new Array(deDupedLen);i=0;for(itemKey in newKeys){keys[i]=oldKeys[newKeys[itemKey]];objects[i]=oldObjects[newKeys[itemKey]];i++}len=deDupedLen}syncIndices=index===me.length&&me.indexGeneration===me.generation;Ext.Array.insert(me.items,index,objects);Ext.Array.insert(me.keys,index,keys);me.length+=len;me.generation++;if(syncIndices){me.indexGeneration=me.generation}for(i=0;i<len;i++,index++){itemKey=keys[i];if(itemKey!=null){me.map[itemKey]=objects[i];if(syncIndices){me.indexMap[itemKey]=index}}if(fireAdd){me.fireEvent("add",index,objects[i],itemKey)}}return objects},remove:function(o){var me=this,removeKey,index;if(!me.useLinearSearch&&(removeKey=me.getKey(o))){index=me.indexOfKey(removeKey)}else{index=Ext.Array.indexOf(me.items,o)}return index===-1?false:me.removeAt(index)},removeAll:function(items){var me=this,i;if(items||me.hasListeners.remove){if(items){for(i=items.length-1;i>=0;--i){me.remove(items[i])}}else{while(me.length){me.removeAt(0)}}}else{me.length=me.items.length=me.keys.length=0;me.map={};me.indexMap={};me.generation++;me.indexGeneration=me.generation}},removeAt:function(index){var me=this,o,key;if(index<me.length&&index>=0){me.length--;o=me.items[index];Ext.Array.erase(me.items,index,1);key=me.keys[index];if(typeof key!="undefined"){delete me.map[key]}Ext.Array.erase(me.keys,index,1);if(me.hasListeners.remove){me.fireEvent("remove",o,key)}me.generation++;return o}return false},removeRange:function(index,removeCount){var me=this,o,key,i,limit,syncIndices,trimming;if(index<me.length&&index>=0){if(!removeCount){removeCount=1}limit=Math.min(index+removeCount,me.length);removeCount=limit-index;trimming=limit===me.length;syncIndices=trimming&&me.indexGeneration===me.generation;for(i=index;i<limit;i++){key=me.keys[i];if(key!=null){delete me.map[key];if(syncIndices){delete me.indexMap[key]}}}o=me.items[i-1];me.length-=removeCount;me.generation++;if(syncIndices){me.indexGeneration=me.generation}if(trimming){me.items.length=me.keys.length=me.length}else{me.items.splice(index,removeCount);me.keys.splice(index,removeCount)}return o}return false},removeAtKey:function(key){var me=this,keys=me.keys,i;if(key==null){for(i=keys.length-1;i>=0;i--){if(keys[i]==null){me.removeAt(i)}}}else{return me.removeAt(me.indexOfKey(key))}},getCount:function(){return this.length},indexOf:function(o){var me=this,key;if(o!=null){if(!me.useLinearSearch&&(key=me.getKey(o))){return this.indexOfKey(key)}return Ext.Array.indexOf(me.items,o)}return-1},indexOfKey:function(key){if(!this.map.hasOwnProperty(key)){return-1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[key]},rebuildIndexMap:function(){var me=this,indexMap=me.indexMap={},keys=me.keys,len=keys.length,i;for(i=0;i<len;i++){indexMap[keys[i]]=i}me.indexGeneration=me.generation},get:function(key){var me=this,mk=me.map[key],item=mk!==undefined?mk:typeof key=="number"?me.items[key]:undefined;return typeof item!="function"||me.allowFunctions?item:null},getAt:function(index){return this.items[index]},getByKey:function(key){return this.map[key]},contains:function(o){var me=this,key;if(o!=null){if(!me.useLinearSearch&&(key=me.getKey(o))){return this.map[key]!=null}return Ext.Array.indexOf(this.items,o)!==-1}return false},containsKey:function(key){return this.map.hasOwnProperty(key)},clear:function(){var me=this;if(me.generation){me.length=0;me.items=[];me.keys=[];me.map={};me.indexMap={};me.generation++;me.indexGeneration=me.generation}if(me.hasListeners.clear){me.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(property,root,start,end){var values=this.extractValues(property,root),length=values.length,sum=0,i;start=start||0;end=end||end===0?end:length-1;for(i=start;i<=end;i++){sum+=values[i]}return sum},collect:function(property,root,allowNull){var values=this.extractValues(property,root),length=values.length,hits={},unique=[],value,strValue,i;for(i=0;i<length;i++){value=values[i];strValue=String(value);if((allowNull||!Ext.isEmpty(value))&&!hits[strValue]){hits[strValue]=true;unique.push(value)}}return unique},extractValues:function(property,root){var values=this.items;if(root){values=Ext.Array.pluck(values,root)}return Ext.Array.pluck(values,property)},hasRange:function(start,end){return end<this.length},getRange:function(start,end){var me=this,items=me.items,range=[],len=items.length,tmp,reverse;if(len<1){return range}if(start>end){reverse=true;tmp=start;start=end;end=tmp}if(start<0){start=0}if(end==null||end>=len){end=len-1}range=items.slice(start,end+1);if(reverse&&range.length){range.reverse()}return range},filter:function(property,value,anyMatch,caseSensitive){var filters=[];if(Ext.isString(property)){filters.push(new Ext.util.Filter({property:property,value:value,anyMatch:anyMatch,caseSensitive:caseSensitive}))}else if(Ext.isArray(property)||property instanceof Ext.util.Filter){filters=filters.concat(property)}return this.filterBy(Ext.util.Filter.createFilterFn(filters))},filterBy:function(fn,scope){var me=this,newMC=new me.self(me.initialConfig),keys=me.keys,items=me.items,length=items.length,i;newMC.getKey=me.getKey;for(i=0;i<length;i++){if(fn.call(scope||me,items[i],keys[i])){newMC.add(keys[i],items[i])}}return newMC},findIndex:function(property,value,start,anyMatch,caseSensitive){if(Ext.isEmpty(value,false)){return-1}value=this.createValueMatcher(value,anyMatch,caseSensitive);return this.findIndexBy(function(o){return o&&value.test(o[property])},null,start)},findIndexBy:function(fn,scope,start){var me=this,keys=me.keys,items=me.items,i=start||0,len=items.length;for(;i<len;i++){if(fn.call(scope||me,items[i],keys[i])){return i}}return-1},createValueMatcher:function(value,anyMatch,caseSensitive,exactMatch){if(!value.exec){var er=Ext.String.escapeRegex;value=String(value);if(anyMatch===true){value=er(value)}else{value="^"+er(value);if(exactMatch===true){value+="$"}}value=new RegExp(value,caseSensitive?"":"i")}return value},clone:function(){var me=this,copy=new this.self(me.initialConfig);copy.add(me.keys,me.items);return copy}});Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(config){var me=this;Ext.apply(me,config);if(me.property===undefined&&me.sorterFn===undefined){Ext.Error.raise("A Sorter requires either a property or a sorter function")}me.updateSortFunction()},createSortFunction:function(sorterFn){var me=this,direction=me.direction||"ASC",modifier=direction.toUpperCase()=="DESC"?-1:1;return function(o1,o2){return modifier*sorterFn.call(me,o1,o2)}},defaultSorterFn:function(o1,o2){var me=this,transform=me.transform,v1=me.getRoot(o1)[me.property],v2=me.getRoot(o2)[me.property];if(transform){v1=transform(v1);v2=transform(v2)}return v1>v2?1:v1<v2?-1:0},getRoot:function(item){return this.root===undefined?item:item[this.root]},setDirection:function(direction){var me=this;me.direction=direction?direction.toUpperCase():direction;me.updateSortFunction()},toggle:function(){var me=this;me.direction=Ext.String.toggle(me.direction,"ASC","DESC");me.updateSortFunction()},updateSortFunction:function(fn){var me=this;fn=fn||me.sorterFn||me.defaultSorterFn;me.sort=me.createSortFunction(fn)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}});Ext.define("Ext.util.Sortable",{isSortable:true,defaultSortDirection:"ASC",statics:{createComparator:function(sorters){return sorters&&sorters.length?function(r1,r2){var result=sorters[0].sort(r1,r2),length=sorters.length,i=1;for(;i<length;i++){result=result||sorters[i].sort.call(this,r1,r2)}return result}:function(){return 0}}},initSortable:function(){var me=this,sorters=me.sorters;me.sorters=new Ext.util.AbstractMixedCollection(false,function(item){return item.id||item.property});if(sorters){me.sorters.addAll(me.decodeSorters(sorters))}},sort:function(sorters,direction,where,doSort){var me=this,sorter,newSorters;if(Ext.isArray(sorters)){doSort=where;where=direction;newSorters=sorters}else if(Ext.isObject(sorters)){doSort=where;where=direction;newSorters=[sorters]}else if(Ext.isString(sorters)){sorter=me.sorters.get(sorters);if(!sorter){sorter={property:sorters,direction:direction};newSorters=[sorter]}else if(direction===undefined){sorter.toggle()}else{sorter.setDirection(direction)}}if(newSorters&&newSorters.length){newSorters=me.decodeSorters(newSorters);if(Ext.isString(where)){if(where==="prepend"){me.sorters.insert(0,newSorters)}else{me.sorters.addAll(newSorters)}}else{me.sorters.clear();me.sorters.addAll(newSorters)}}if(doSort!==false){me.fireEvent("beforesort",me,newSorters);me.onBeforeSort(newSorters);sorters=me.sorters.items;if(sorters.length){me.doSort(me.generateComparator())}}return sorters},generateComparator:function(){var sorters=this.sorters.getRange();return sorters.length?this.createComparator(sorters):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(sorters){if(!Ext.isArray(sorters)){if(sorters===undefined){sorters=[]}else{sorters=[sorters]}}var length=sorters.length,Sorter=Ext.util.Sorter,fields=this.model?this.model.prototype.fields:null,field,config,i;for(i=0;i<length;i++){config=sorters[i];if(!(config instanceof Sorter)){if(Ext.isString(config)){config={property:config}}Ext.applyIf(config,{root:this.sortRoot,direction:"ASC"});if(config.fn){config.sorterFn=config.fn}if(typeof config=="function"){config={sorterFn:config}}if(fields&&!config.transform){field=fields.get(config.property);config.transform=field&&field.sortType!==Ext.identityFn?field.sortType:undefined}sorters[i]=new Ext.util.Sorter(config)}}return sorters},getSorters:function(){return this.sorters.items},getFirstSorter:function(){var sorters=this.sorters.items,len=sorters.length,i=0,sorter;for(;i<len;++i){sorter=sorters[i];if(!sorter.isGrouper){return sorter}}return null}},function(){this.prototype.createComparator=this.createComparator});Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var me=this;me.callParent(arguments);me.addEvents("sort");me.mixins.sortable.initSortable.call(me)},doSort:function(sorterFn){this.sortBy(sorterFn)},_sort:function(property,dir,fn){var me=this,i,len,dsc=String(dir).toUpperCase()=="DESC"?-1:1,c=[],keys=me.keys,items=me.items,o;fn=fn||function(a,b){return a-b};for(i=0,len=items.length;i<len;i++){c[c.length]={key:keys[i],value:items[i],index:i}}Ext.Array.sort(c,function(a,b){return fn(a[property],b[property])*dsc||(a.index<b.index?-1:1)});for(i=0,len=c.length;i<len;i++){o=c[i];items[i]=o.value;keys[i]=o.key;me.indexMap[o.key]=i}me.generation++;me.indexGeneration=me.generation;me.fireEvent("sort",me)},sortBy:function(sorterFn){var me=this,items=me.items,item,keys=me.keys,key,length=items.length,i;for(i=0;i<length;i++){items[i].$extCollectionIndex=i}Ext.Array.sort(items,function(a,b){return sorterFn(a,b)||(a.$extCollectionIndex<b.$extCollectionIndex?-1:1)});for(i=0;i<length;i++){item=items[i];key=me.getKey(item);keys[i]=key;me.indexMap[key]=i;delete items.$extCollectionIndex}me.generation++;me.indexGeneration=me.generation;me.fireEvent("sort",me,items,keys)},findInsertionIndex:function(newItem,sorterFn){var me=this,items=me.items,start=0,end=items.length-1,middle,comparison;if(!sorterFn){sorterFn=me.generateComparator()}while(start<=end){middle=start+end>>1;comparison=sorterFn(newItem,items[middle]);if(comparison>=0){start=middle+1}else if(comparison<0){end=middle-1}}return start},reorder:function(mapping){var me=this,items=me.items,index=0,length=items.length,order=[],remaining=[],oldIndex;me.suspendEvents();for(oldIndex in mapping){order[mapping[oldIndex]]=items[oldIndex]}for(index=0;index<length;index++){if(mapping[index]==undefined){remaining.push(items[index])}}for(index=0;index<length;index++){if(order[index]==undefined){order[index]=remaining.shift()}}me.clear();me.addAll(order);me.resumeEvents();me.fireEvent("sort",me)},sortByKey:function(dir,fn){this._sort("key",dir,fn||function(a,b){var v1=String(a).toUpperCase(),v2=String(b).toUpperCase();return v1>v2?1:v1<v2?-1:0})}});(function(window,undefined){"use strict";var Hammer=function(element,options){return new Hammer.Instance(element,options||{})};Hammer.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};Hammer.HAS_POINTEREVENTS=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;Hammer.HAS_TOUCHEVENTS="ontouchstart"in window;Hammer.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;Hammer.NO_MOUSEEVENTS=Hammer.HAS_TOUCHEVENTS&&window.navigator.userAgent.match(Hammer.MOBILE_REGEX);Hammer.EVENT_TYPES={};Hammer.DIRECTION_DOWN="down";Hammer.DIRECTION_LEFT="left";Hammer.DIRECTION_UP="up";Hammer.DIRECTION_RIGHT="right";Hammer.POINTER_MOUSE="mouse";Hammer.POINTER_TOUCH="touch";Hammer.POINTER_PEN="pen";Hammer.UPDATE_VELOCITY_INTERVAL=20;Hammer.EVENT_START="start";Hammer.EVENT_MOVE="move";Hammer.EVENT_END="end";Hammer.DOCUMENT=window.document;Hammer.plugins=Hammer.plugins||{};Hammer.gestures=Hammer.gestures||{};Hammer.READY=false;function setup(){if(Hammer.READY){return}Hammer.event.determineEventTypes();Hammer.utils.each(Hammer.gestures,function(gesture){Hammer.detection.register(gesture)});Hammer.event.onTouch(Hammer.DOCUMENT,Hammer.EVENT_MOVE,Hammer.detection.detect);Hammer.event.onTouch(Hammer.DOCUMENT,Hammer.EVENT_END,Hammer.detection.detect);Hammer.READY=true}Hammer.utils={extend:function extend(dest,src,merge){for(var key in src){if(dest[key]!==undefined&&merge){continue}dest[key]=src[key]}return dest},each:function(obj,iterator,context){var i,length;if("forEach"in obj){obj.forEach(iterator,context)}else if(obj.length!==undefined){for(i=0,length=obj.length;i<length;i++){if(iterator.call(context,obj[i],i,obj)===false){return}}}else{for(i in obj){if(obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)===false){return}}}},hasParent:function(node,parent){while(node){if(node==parent){return true}node=node.parentNode}return false},getCenter:function getCenter(touches){var valuesX=[],valuesY=[];Hammer.utils.each(touches,function(touch){valuesX.push(typeof touch.clientX!=="undefined"?touch.clientX:touch.pageX);valuesY.push(typeof touch.clientY!=="undefined"?touch.clientY:touch.pageY)});return{pageX:(Math.min.apply(Math,valuesX)+Math.max.apply(Math,valuesX))/2,pageY:(Math.min.apply(Math,valuesY)+Math.max.apply(Math,valuesY))/2}},getVelocity:function getVelocity(delta_time,delta_x,delta_y){return{x:Math.abs(delta_x/delta_time)||0,y:Math.abs(delta_y/delta_time)||0}},getAngle:function getAngle(touch1,touch2){var y=touch2.pageY-touch1.pageY,x=touch2.pageX-touch1.pageX;return Math.atan2(y,x)*180/Math.PI},getDirection:function getDirection(touch1,touch2){var x=Math.abs(touch1.pageX-touch2.pageX),y=Math.abs(touch1.pageY-touch2.pageY);if(x>=y){return touch1.pageX-touch2.pageX>0?Hammer.DIRECTION_LEFT:Hammer.DIRECTION_RIGHT}else{return touch1.pageY-touch2.pageY>0?Hammer.DIRECTION_UP:Hammer.DIRECTION_DOWN}},getDistance:function getDistance(touch1,touch2){var x=touch2.pageX-touch1.pageX,y=touch2.pageY-touch1.pageY;return Math.sqrt(x*x+y*y)},getScale:function getScale(start,end){if(start.length>=2&&end.length>=2){return this.getDistance(end[0],end[1])/this.getDistance(start[0],start[1])}return 1},getRotation:function getRotation(start,end){if(start.length>=2&&end.length>=2){return this.getAngle(end[1],end[0])-this.getAngle(start[1],start[0])}return 0},isVertical:function isVertical(direction){return direction==Hammer.DIRECTION_UP||direction==Hammer.DIRECTION_DOWN},stopDefaultBrowserBehavior:function stopDefaultBrowserBehavior(element,css_props){if(!css_props||!element||!element.style){return}Hammer.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(vendor){Hammer.utils.each(css_props,function(value,prop){if(vendor){prop=vendor+prop.substring(0,1).toUpperCase()+prop.substring(1)}if(prop in element.style){element.style[prop]=value}})});if(css_props.userSelect=="none"){element.onselectstart=function(){return false}}if(css_props.userDrag=="none"){element.ondragstart=function(){return false}}},startDefaultBrowserBehavior:function startDefaultBrowserBehavior(element,css_props){if(!css_props||!element||!element.style){return}Hammer.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(vendor){Hammer.utils.each(css_props,function(value,prop){if(vendor){prop=vendor+prop.substring(0,1).toUpperCase()+prop.substring(1)}if(prop in element.style){element.style[prop]=""}})});if(css_props.userSelect=="none"){element.onselectstart=null}if(css_props.userDrag=="none"){element.ondragstart=null}}};Hammer.Instance=function(element,options){var self=this;setup();this.element=element;this.enabled=true;this.options=Hammer.utils.extend(Hammer.utils.extend({},Hammer.defaults),options||{});if(this.options.stop_browser_behavior){Hammer.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior)}this._eventStartHandler=Hammer.event.onTouch(element,Hammer.EVENT_START,function(ev){if(self.enabled){Hammer.detection.startDetect(self,ev)
}});this._eventHandler=[];return this};Hammer.Instance.prototype={on:function onEvent(gesture,handler){var gestures=gesture.split(" ");Hammer.utils.each(gestures,function(gesture){this.element.addEventListener(gesture,handler,false);this._eventHandler.push({gesture:gesture,handler:handler})},this);return this},off:function offEvent(gesture,handler){var gestures=gesture.split(" ");Hammer.utils.each(gestures,function(gesture){this.element.removeEventListener(gesture,handler,false);var index=-1;Hammer.utils.each(this._eventHandler,function(eventHandler,i){if(index===-1&&eventHandler.gesture===gesture&&eventHandler.handler===handler){index=i}},this);if(index>-1){this._eventHandler.splice(index,1)}},this);return this},trigger:function triggerEvent(gesture,eventData){if(!eventData){eventData={}}var event=Hammer.DOCUMENT.createEvent("Event");event.initEvent(gesture,true,true);event.gesture=eventData;var element=this.element;if(Hammer.utils.hasParent(eventData.target,element)){element=eventData.target}element.dispatchEvent(event);return this},enable:function enable(state){this.enabled=state;return this},dispose:function dispose(){if(this.options.stop_browser_behavior){Hammer.utils.startDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior)}Hammer.utils.each(this._eventHandler,function(eventHandler){this.element.removeEventListener(eventHandler.gesture,eventHandler.handler,false)},this);this._eventHandler.length=0;Hammer.event.unbindDom(this.element,Hammer.EVENT_TYPES[Hammer.EVENT_START],this._eventStartHandler);return this}};var last_move_event=null;var enable_detect=false;var touch_triggered=false;Hammer.event={bindDom:function(element,type,handler){var types=type.split(" ");Hammer.utils.each(types,function(type){element.addEventListener(type,handler,false)})},unbindDom:function(element,type,handler){var types=type.split(" ");Hammer.utils.each(types,function(type){element.removeEventListener(type,handler,false)})},onTouch:function onTouch(element,eventType,handler){var self=this;var fn=function bindDomOnTouch(ev){var sourceEventType=ev.type.toLowerCase();if(sourceEventType.match(/mouse/)&&touch_triggered){return}else if(sourceEventType.match(/touch/)||sourceEventType.match(/pointerdown/)||sourceEventType.match(/mouse/)&&ev.which===1){enable_detect=true}else if(sourceEventType.match(/mouse/)&&!ev.which){enable_detect=false}if(sourceEventType.match(/touch|pointer/)){touch_triggered=true}var count_touches=0;if(enable_detect){if(Hammer.HAS_POINTEREVENTS&&eventType!=Hammer.EVENT_END){count_touches=Hammer.PointerEvent.updatePointer(eventType,ev)}else if(sourceEventType.match(/touch/)){count_touches=ev.touches.length}else if(!touch_triggered){count_touches=sourceEventType.match(/up/)?0:1}if(count_touches>0&&eventType==Hammer.EVENT_END){eventType=Hammer.EVENT_MOVE}else if(!count_touches){eventType=Hammer.EVENT_END}if(count_touches||last_move_event===null){last_move_event=ev}handler.call(Hammer.detection,self.collectEventData(element,eventType,self.getTouchList(last_move_event,eventType),ev));if(Hammer.HAS_POINTEREVENTS&&eventType==Hammer.EVENT_END){count_touches=Hammer.PointerEvent.updatePointer(eventType,ev)}}if(!count_touches){last_move_event=null;enable_detect=false;touch_triggered=false;Hammer.PointerEvent.reset()}};this.bindDom(element,Hammer.EVENT_TYPES[eventType],fn);return fn},determineEventTypes:function determineEventTypes(){var types;if(Hammer.HAS_POINTEREVENTS){types=Hammer.PointerEvent.getEvents()}else if(Hammer.NO_MOUSEEVENTS){types=["touchstart","touchmove","touchend touchcancel"]}else{types=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}Hammer.EVENT_TYPES[Hammer.EVENT_START]=types[0];Hammer.EVENT_TYPES[Hammer.EVENT_MOVE]=types[1];Hammer.EVENT_TYPES[Hammer.EVENT_END]=types[2]},getTouchList:function getTouchList(ev){if(Hammer.HAS_POINTEREVENTS){return Hammer.PointerEvent.getTouchList()}else if(ev.touches){if(ev.touches.length==0){return ev.changedTouches}return ev.touches}else{ev.identifier=1;return[ev]}},collectEventData:function collectEventData(element,eventType,touches,ev){var pointerType=Hammer.POINTER_TOUCH;if(ev.type.match(/mouse/)||Hammer.PointerEvent.matchType(Hammer.POINTER_MOUSE,ev)){pointerType=Hammer.POINTER_MOUSE}return{center:Hammer.utils.getCenter(touches),timeStamp:(new Date).getTime(),target:ev.target,touches:touches,eventType:eventType,pointerType:pointerType,srcEvent:ev,preventDefault:function(){if(this.srcEvent.preventManipulation){this.srcEvent.preventManipulation()}if(this.srcEvent.preventDefault){this.srcEvent.preventDefault()}},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return Hammer.detection.stopDetect()}}}};Hammer.PointerEvent={pointers:{},getTouchList:function(){var self=this;var touchlist=[];Hammer.utils.each(self.pointers,function(pointer){touchlist.push(pointer)});return touchlist},updatePointer:function(type,pointerEvent){if(type==Hammer.EVENT_END){delete this.pointers[pointerEvent.pointerId]}else{pointerEvent.identifier=pointerEvent.pointerId;this.pointers[pointerEvent.pointerId]=pointerEvent}return Object.keys(this.pointers).length},matchType:function(pointerType,ev){if(!ev.pointerType){return false}var pt=ev.pointerType,types={};types[Hammer.POINTER_MOUSE]=pt===ev.MSPOINTER_TYPE_MOUSE||pt===Hammer.POINTER_MOUSE;types[Hammer.POINTER_TOUCH]=pt===ev.MSPOINTER_TYPE_TOUCH||pt===Hammer.POINTER_TOUCH;types[Hammer.POINTER_PEN]=pt===ev.MSPOINTER_TYPE_PEN||pt===Hammer.POINTER_PEN;return types[pointerType]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};Hammer.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function startDetect(inst,eventData){if(this.current){return}this.stopped=false;this.current={inst:inst,startEvent:Hammer.utils.extend({},eventData),lastEvent:false,lastVEvent:false,velocity:false,name:""};this.detect(eventData)},detect:function detect(eventData){if(!this.current||this.stopped){return}eventData=this.extendEventData(eventData);var inst_options=this.current.inst.options;Hammer.utils.each(this.gestures,function(gesture){if(!this.stopped&&inst_options[gesture.name]!==false){if(gesture.handler.call(gesture,eventData,this.current.inst)===false){this.stopDetect();return false}}},this);if(this.current){this.current.lastEvent=eventData}if(eventData.eventType==Hammer.EVENT_END&&!eventData.touches.length-1){this.stopDetect()}return eventData},stopDetect:function stopDetect(){this.previous=Hammer.utils.extend({},this.current);this.current=null;this.stopped=true},extendEventData:function extendEventData(ev){var startEv=this.current.startEvent,lastVEv=this.current.lastVEvent;if(startEv&&(ev.touches.length!=startEv.touches.length||ev.touches===startEv.touches)){startEv.touches=[];Hammer.utils.each(ev.touches,function(touch){startEv.touches.push(Hammer.utils.extend({},touch))})}var delta_time=ev.timeStamp-startEv.timeStamp,delta_x=ev.center.pageX-startEv.center.pageX,delta_y=ev.center.pageY-startEv.center.pageY,interimAngle,interimDirection,velocity=this.current.velocity;if(lastVEv!==false&&ev.timeStamp-lastVEv.timeStamp>Hammer.UPDATE_VELOCITY_INTERVAL){velocity=Hammer.utils.getVelocity(ev.timeStamp-lastVEv.timeStamp,ev.center.pageX-lastVEv.center.pageX,ev.center.pageY-lastVEv.center.pageY);this.current.lastVEvent=ev;if(velocity.x>0&&velocity.y>0){this.current.velocity=velocity}}else if(this.current.velocity===false){velocity=Hammer.utils.getVelocity(delta_time,delta_x,delta_y);this.current.velocity=velocity;this.current.lastVEvent=ev}if(ev.eventType==="end"){interimAngle=this.current.lastEvent&&this.current.lastEvent.interimAngle;interimDirection=this.current.lastEvent&&this.current.lastEvent.interimDirection}else{interimAngle=this.current.lastEvent&&Hammer.utils.getAngle(this.current.lastEvent.center,ev.center);interimDirection=this.current.lastEvent&&Hammer.utils.getDirection(this.current.lastEvent.center,ev.center)}Hammer.utils.extend(ev,{deltaTime:delta_time,deltaX:delta_x,deltaY:delta_y,velocityX:velocity.x,velocityY:velocity.y,distance:Hammer.utils.getDistance(startEv.center,ev.center),angle:Hammer.utils.getAngle(startEv.center,ev.center),interimAngle:interimAngle,direction:Hammer.utils.getDirection(startEv.center,ev.center),interimDirection:interimDirection,scale:Hammer.utils.getScale(startEv.touches,ev.touches),rotation:Hammer.utils.getRotation(startEv.touches,ev.touches),startEvent:startEv});return ev},register:function register(gesture){var options=gesture.defaults||{};if(options[gesture.name]===undefined){options[gesture.name]=true}Hammer.utils.extend(Hammer.defaults,options,true);gesture.index=gesture.index||1e3;this.gestures.push(gesture);this.gestures.sort(function(a,b){if(a.index<b.index){return-1}if(a.index>b.index){return 1}return 0});return this.gestures}};Hammer.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:true,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false,drag_lock_min_distance:25},triggered:false,handler:function dragGesture(ev,inst){if(Hammer.detection.current.name!=this.name&&this.triggered){inst.trigger(this.name+"end",ev);this.triggered=false;return}if(inst.options.drag_max_touches>0&&ev.touches.length>inst.options.drag_max_touches){return}switch(ev.eventType){case Hammer.EVENT_START:this.triggered=false;break;case Hammer.EVENT_MOVE:if(ev.distance<inst.options.drag_min_distance&&Hammer.detection.current.name!=this.name){return};if(Hammer.detection.current.name!=this.name){Hammer.detection.current.name=this.name;if(inst.options.correct_for_drag_min_distance&&ev.distance>0){var factor=Math.abs(inst.options.drag_min_distance/ev.distance);Hammer.detection.current.startEvent.center.pageX+=ev.deltaX*factor;Hammer.detection.current.startEvent.center.pageY+=ev.deltaY*factor;ev=Hammer.detection.extendEventData(ev)}};if(Hammer.detection.current.lastEvent.drag_locked_to_axis||inst.options.drag_lock_to_axis&&inst.options.drag_lock_min_distance<=ev.distance){ev.drag_locked_to_axis=true};var last_direction=Hammer.detection.current.lastEvent.direction;if(ev.drag_locked_to_axis&&last_direction!==ev.direction){if(Hammer.utils.isVertical(last_direction)){ev.direction=ev.deltaY<0?Hammer.DIRECTION_UP:Hammer.DIRECTION_DOWN}else{ev.direction=ev.deltaX<0?Hammer.DIRECTION_LEFT:Hammer.DIRECTION_RIGHT}};if(!this.triggered){inst.trigger(this.name+"start",ev);this.triggered=true};inst.trigger(this.name,ev);inst.trigger(this.name+ev.direction,ev);if(inst.options.drag_block_vertical&&Hammer.utils.isVertical(ev.direction)||inst.options.drag_block_horizontal&&!Hammer.utils.isVertical(ev.direction)){ev.preventDefault()};break;case Hammer.EVENT_END:if(this.triggered){inst.trigger(this.name+"end",ev)};this.triggered=false;break}}};Hammer.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function holdGesture(ev,inst){switch(ev.eventType){case Hammer.EVENT_START:clearTimeout(this.timer);Hammer.detection.current.name=this.name;this.timer=setTimeout(function(){if(Hammer.detection.current.name=="hold"){inst.trigger("hold",ev)}},inst.options.hold_timeout);break;case Hammer.EVENT_MOVE:if(ev.distance>inst.options.hold_threshold){clearTimeout(this.timer)};break;case Hammer.EVENT_END:clearTimeout(this.timer);break}}};Hammer.gestures.Release={name:"release",index:Infinity,handler:function releaseGesture(ev,inst){if(ev.eventType==Hammer.EVENT_END){inst.trigger(this.name,ev)}}};Hammer.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function swipeGesture(ev,inst){if(ev.eventType==Hammer.EVENT_END){if(inst.options.swipe_max_touches>0&&ev.touches.length<inst.options.swipe_min_touches&&ev.touches.length>inst.options.swipe_max_touches){return}if(ev.velocityX>inst.options.swipe_velocity||ev.velocityY>inst.options.swipe_velocity){inst.trigger(this.name,ev);inst.trigger(this.name+ev.direction,ev)}}}};Hammer.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:true,doubletap_distance:20,doubletap_interval:300},handler:function tapGesture(ev,inst){if(ev.eventType==Hammer.EVENT_MOVE&&!Hammer.detection.current.reachedTapMaxDistance){Hammer.detection.current.reachedTapMaxDistance=ev.distance>inst.options.tap_max_distance}else if(ev.eventType==Hammer.EVENT_END&&ev.srcEvent.type!="touchcancel"){var prev=Hammer.detection.previous,did_doubletap=false;if(Hammer.detection.current.reachedTapMaxDistance||ev.deltaTime>inst.options.tap_max_touchtime){return}if(prev&&prev.name=="tap"&&ev.timeStamp-prev.lastEvent.timeStamp<inst.options.doubletap_interval&&ev.distance<inst.options.doubletap_distance){inst.trigger("doubletap",ev);did_doubletap=true}if(!did_doubletap||inst.options.tap_always){Hammer.detection.current.name="tap";inst.trigger(Hammer.detection.current.name,ev)}}}};Hammer.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false,prevent_mouseevents:false},handler:function touchGesture(ev,inst){if(inst.options.prevent_mouseevents&&ev.pointerType==Hammer.POINTER_MOUSE){ev.stopDetect();return}if(inst.options.prevent_default){ev.preventDefault()}if(ev.eventType==Hammer.EVENT_START){inst.trigger(this.name,ev)}}};Hammer.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:false},triggered:false,handler:function transformGesture(ev,inst){if(Hammer.detection.current.name!=this.name&&this.triggered){inst.trigger(this.name+"end",ev);this.triggered=false;return}if(ev.touches.length<2){return}if(inst.options.transform_always_block){ev.preventDefault()}switch(ev.eventType){case Hammer.EVENT_START:this.triggered=false;break;case Hammer.EVENT_MOVE:var scale_threshold=Math.abs(1-ev.scale);var rotation_threshold=Math.abs(ev.rotation);if(scale_threshold<inst.options.transform_min_scale&&rotation_threshold<inst.options.transform_min_rotation){return};Hammer.detection.current.name=this.name;if(!this.triggered){inst.trigger(this.name+"start",ev);this.triggered=true};inst.trigger(this.name,ev);if(rotation_threshold>inst.options.transform_min_rotation){inst.trigger("rotate",ev)};if(scale_threshold>inst.options.transform_min_scale){inst.trigger("pinch",ev);inst.trigger("pinch"+(ev.scale<1?"in":"out"),ev)};break;case Hammer.EVENT_END:if(this.triggered){inst.trigger(this.name+"end",ev)};this.triggered=false;break}}};if(typeof define=="function"&&define.amd){define(function(){return Hammer})}else if(typeof module==="object"&&module.exports){module.exports=Hammer}else{window.Hammer=Hammer}})(window);this.createjs=this.createjs||{},function(){"use strict";var a=function(a,b,c){this.initialize(a,b,c)},b=a.prototype;b.type=null,b.target=null,b.currentTarget=null,b.eventPhase=0,b.bubbles=!1,b.cancelable=!1,b.timeStamp=0,b.defaultPrevented=!1,b.propagationStopped=!1,b.immediatePropagationStopped=!1,b.removed=!1,b.initialize=function(a,b,c){this.type=a,this.bubbles=b,this.cancelable=c,this.timeStamp=(new Date).getTime()},b.preventDefault=function(){this.defaultPrevented=!0},b.stopPropagation=function(){this.propagationStopped=!0},b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},b.remove=function(){this.removed=!0},b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)},b.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(){},b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener,a.on=b.on,a.removeEventListener=a.off=b.removeEventListener,a.removeAllEventListeners=b.removeAllEventListeners,a.hasEventListener=b.hasEventListener,a.dispatchEvent=b.dispatchEvent,a._dispatchEvent=b._dispatchEvent,a.willTrigger=b.willTrigger},b._listeners=null,b._captureListeners=null,b.initialize=function(){},b.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},b.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},b.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},b.off=b.removeEventListener,b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},b.dispatchEvent=function(a,b){if("string"==typeof a){var c=this._listeners;if(!c||!c[a]){return!1}a=new createjs.Event(a)}if(a.target=b||this,a.bubbles&&this.parent){for(var d=this,e=[d];d.parent;)e.push(d=d.parent);var f,g=e.length;for(f=g-1;f>=0&&!a.propagationStopped;f--)e[f]._dispatchEvent(a,1+(0==f));for(f=1;g>f&&!a.propagationStopped;f++)e[f]._dispatchEvent(a,3)}else{this._dispatchEvent(a,2)}return a.defaultPrevented},b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a)){return!0}b=b.parent}return!1},b.toString=function(){return"[EventDispatcher]"},b._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d){var e=d[a.type];if(!e||!(c=e.length)){return}a.currentTarget=this,a.eventPhase=b,a.removed=!1,e=e.slice();for(var f=0;c>f&&!a.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(a):g(a),a.removed&&(this.off(a.type,g,1==b),a.removed=!1)}}},createjs.EventDispatcher=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(a,b,c){this.initialize(a,b,c)},b=a.prototype=new createjs.EventDispatcher;a.NONE=0,a.LOOP=1,a.REVERSE=2,a.IGNORE={},a._tweens=[],a._plugins={},a.get=function(b,c,d,e){return e&&a.removeTweens(b),new a(b,c,d)},a.tick=function(b,c){for(var d=a._tweens.slice(),e=d.length-1;e>=0;e--){var f=d[e];c&&!f.ignoreGlobalPause||f._paused||f.tick(f._useTicks?1:b)}},a.handleEvent=function(a){"tick"==a.type&&this.tick(a.delta,a.paused)},a.removeTweens=function(b){if(b.tweenjs_count){for(var c=a._tweens,d=c.length-1;d>=0;d--)c[d]._target==b&&(c[d]._paused=!0,c.splice(d,1));b.tweenjs_count=0}},a.removeAllTweens=function(){for(var b=a._tweens,c=0,d=b.length;d>c;c++){var e=b[c];e.paused=!0,e.target.tweenjs_count=0}b.length=0},a.hasActiveTweens=function(b){return b?b.tweenjs_count:a._tweens&&!!a._tweens.length},a.installPlugin=function(b,c){var d=b.priority;null==d&&(b.priority=d=0);for(var e=0,f=c.length,g=a._plugins;f>e;e++){var h=c[e];if(g[h]){for(var i=g[h],j=0,k=i.length;k>j&&!(d<i[j].priority);j++){}g[h].splice(j,0,b)}else{g[h]=[b]}}},a._register=function(b,c){var d=b._target,e=a._tweens;if(c){d&&(d.tweenjs_count=d.tweenjs_count?d.tweenjs_count+1:1),e.push(b),!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",a),a._inited=!0)}else{d&&d.tweenjs_count--;for(var f=e.length;f--;)if(e[f]==b){return e.splice(f,1),void 0}}},b.ignoreGlobalPause=!1,b.loop=!1,b.duration=0,b.pluginData=null,b.target=null,b.position=null,b.passive=!1,b._paused=!1,b._curQueueProps=null,b._initQueueProps=null,b._steps=null,b._actions=null,b._prevPosition=0,b._stepPosition=0,b._prevPos=-1,b._target=null,b._useTicks=!1,b._inited=!1,b.initialize=function(b,c,d){this.target=this._target=b,c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.onChange&&this.addEventListener("change",c.onChange),c.override&&a.removeTweens(b)),this.pluginData=d||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],c&&c.paused?this._paused=!0:a._register(this,!0),c&&null!=c.position&&this.setPosition(c.position,a.NONE)},b.wait=function(a,b){if(null==a||0>=a){return this}var c=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:c,e:this._linearEase,p1:c,v:b})},b.to=function(a,b,c){return(isNaN(b)||0>b)&&(b=0),this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})},b.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})},b.set=function(a,b){return this._addAction({f:this._set,o:this,p:[a,b?b:this._target]})},b.play=function(a){return a||(a=this),this.call(a.setPaused,[!1],a)},b.pause=function(a){return a||(a=this),this.call(a.setPaused,[!0],a)},b.setPosition=function(a,b){0>a&&(a=0),null==b&&(b=1);var c=a,d=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,d=!0)),c==this._prevPos){return d}var e=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=a,this._target){if(d){this._updateTargetProps(null,1)}else if(this._steps.length>0){for(var f=0,g=this._steps.length;g>f&&!(this._steps[f].t>c);f++){}var h=this._steps[f-1];this._updateTargetProps(h,(this._stepPosition=c-h.t)/h.d)}}return 0!=b&&this._actions.length>0&&(this._useTicks?this._runActions(c,c):1==b&&e>c?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,c,!0)):this._runActions(e,c)),d&&this.setPaused(!0),this.dispatchEvent("change"),d},b.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)},b.setPaused=function(b){return this._paused=!!b,a._register(this,!b),this},b.w=b.wait,b.t=b.to,b.c=b.call,b.s=b.set,b.toString=function(){return"[Tween]"},b.clone=function(){throw"Tween can not be cloned."},b._updateTargetProps=function(b,c){var d,e,f,g,h,i;if(b||1!=c){if(this.passive=!!b.v,this.passive){return}b.e&&(c=b.e(c,0,1,1)),d=b.p0,e=b.p1}else{this.passive=!1,d=e=this._curQueueProps}for(var j in this._initQueueProps){null==(g=d[j])&&(d[j]=g=this._initQueueProps[j]),null==(h=e[j])&&(e[j]=h=g),f=g==h||0==c||1==c||"number"!=typeof g?1==c?h:g:g+(h-g)*c;var k=!1;if(i=a._plugins[j])for(var l=0,m=i.length;m>l;l++){var n=i[l].tween(this,j,f,d,e,c,!!b&&d==e,!b);n==a.IGNORE?k=!0:f=n}k||(this._target[j]=f)}},b._runActions=function(a,b,c){var d=a,e=b,f=-1,g=this._actions.length,h=1;for(a>b&&(d=b,e=a,f=g,g=h=-1);(f+=h)!=g;){var i=this._actions[f],j=i.t;(j==e||j>d&&e>j||c&&j==a)&&i.f.apply(i.o,i.p)}},b._appendQueueProps=function(b){var c,d,e,f,g;for(var h in b)if(void 0===this._initQueueProps[h]){if(d=this._target[h],c=a._plugins[h])for(e=0,f=c.length;f>e;e++)d=c[e].init(this,h,d);this._initQueueProps[h]=this._curQueueProps[h]=void 0===d?null:d}else{d=this._curQueueProps[h]}for(var h in b){if(d=this._curQueueProps[h],c=a._plugins[h])for(g=g||{},e=0,f=c.length;f>e;e++)c[e].step&&c[e].step(this,h,d,b[h],g);this._curQueueProps[h]=b[h]}return g&&this._appendQueueProps(g),this._curQueueProps},b._cloneProps=function(a){var b={};for(var c in a)b[c]=a[c];return b},b._addStep=function(a){return a.d>0&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this},b._addAction=function(a){return a.t=this.duration,this._actions.push(a),this},b._set=function(a,b){for(var c in a)b[c]=a[c]},createjs.Tween=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(a,b,c){this.initialize(a,b,c)},b=a.prototype=new createjs.EventDispatcher;b.ignoreGlobalPause=!1,b.duration=0,b.loop=!1,b.position=null,b._paused=!1,b._tweens=null,b._labels=null,b._labelList=null,b._prevPosition=0,b._prevPos=-1,b._useTicks=!1,b.initialize=function(a,b,c){this._tweens=[],c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange)),a&&this.addTween.apply(this,a),this.setLabels(b),c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0),c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)},b.addTween=function(a){var b=arguments.length;if(b>1){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==b?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),this._prevPos>=0&&a.setPosition(this._prevPos,createjs.Tween.NONE),a)},b.removeTween=function(a){var b=arguments.length;if(b>1){for(var c=!0,d=0;b>d;d++)c=c&&this.removeTween(arguments[d]);return c}if(0==b){return!1}for(var e=this._tweens,d=e.length;d--;)if(e[d]==a){return e.splice(d,1),a.duration>=this.duration&&this.updateDuration(),!0}return!1},b.addLabel=function(a,b){this._labels[a]=b;var c=this._labelList;if(c){for(var d=0,e=c.length;e>d&&!(b<c[d].position);d++){}c.splice(d,0,{label:a,position:b})}},b.setLabels=function(a){this._labels=a?a:{}},b.getLabels=function(){var a=this._labelList;if(!a){a=this._labelList=[];var b=this._labels;for(var c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a},b.getCurrentLabel=function(){var a=this.getLabels(),b=this.position,c=a.length;if(c){for(var d=0;c>d&&!(b<a[d].position);d++){}return 0==d?null:a[d-1].label}return null},b.gotoAndPlay=function(a){this.setPaused(!1),this._goto(a)},b.gotoAndStop=function(a){this.setPaused(!0),this._goto(a)},b.setPosition=function(a,b){0>a&&(a=0);var c=this.loop?a%this.duration:a,d=!this.loop&&a>=this.duration;if(c==this._prevPos){return d}this._prevPosition=a,this.position=this._prevPos=c;for(var e=0,f=this._tweens.length;f>e;e++)if(this._tweens[e].setPosition(c,b),c!=this._prevPos){return!1}return d&&this.setPaused(!0),this.dispatchEvent("change"),d},b.setPaused=function(a){this._paused=!!a,createjs.Tween._register(this,!a)},b.updateDuration=function(){this.duration=0;for(var a=0,b=this._tweens.length;b>a;a++){var c=this._tweens[a];c.duration>this.duration&&(this.duration=c.duration)}},b.tick=function(a){this.setPosition(this._prevPosition+a)},b.resolve=function(a){var b=parseFloat(a);return isNaN(b)&&(b=this._labels[a]),b},b.toString=function(){return"[Timeline]"},b.clone=function(){throw"Timeline can not be cloned."},b._goto=function(a){var b=this.resolve(a);null!=b&&this.setPosition(b)},createjs.Timeline=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(){throw"Ease cannot be instantiated."};a.linear=function(a){return a},a.none=a.linear,a.get=function(a){return-1>a&&(a=-1),a>1&&(a=1),function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}},a.getPowIn=function(a){return function(b){return Math.pow(b,a)}},a.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}},a.getPowInOut=function(a){return function(b){return(b*=2)<1?.5*Math.pow(b,a):1-.5*Math.abs(Math.pow(2-b,a))}},a.quadIn=a.getPowIn(2),a.quadOut=a.getPowOut(2),a.quadInOut=a.getPowInOut(2),a.cubicIn=a.getPowIn(3),a.cubicOut=a.getPowOut(3),a.cubicInOut=a.getPowInOut(3),a.quartIn=a.getPowIn(4),a.quartOut=a.getPowOut(4),a.quartInOut=a.getPowInOut(4),a.quintIn=a.getPowIn(5),a.quintOut=a.getPowOut(5),a.quintInOut=a.getPowInOut(5),a.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)},a.sineOut=function(a){return Math.sin(a*Math.PI/2)},a.sineInOut=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getBackIn=function(a){return function(b){return b*b*((a+1)*b-a)}},a.backIn=a.getBackIn(1.7),a.getBackOut=function(a){return function(b){return--b*b*((a+1)*b+a)+1}},a.backOut=a.getBackOut(1.7),a.getBackInOut=function(a){return a*=1.525,function(b){return(b*=2)<1?.5*b*b*((a+1)*b-a):.5*((b-=2)*b*((a+1)*b+a)+2)}},a.backInOut=a.getBackInOut(1.7),a.circIn=function(a){return-(Math.sqrt(1-a*a)-1)},a.circOut=function(a){return Math.sqrt(1- --a*a)},a.circInOut=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},a.bounceIn=function(b){return 1-a.bounceOut(1-b)},a.bounceOut=function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},a.bounceInOut=function(b){return.5>b?.5*a.bounceIn(2*b):.5*a.bounceOut(2*b-1)+.5},a.getElasticIn=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d){return d}var e=b/c*Math.asin(1/a);return-(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b))}},a.elasticIn=a.getElasticIn(1,.3),a.getElasticOut=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d){return d}var e=b/c*Math.asin(1/a);return a*Math.pow(2,-10*d)*Math.sin((d-e)*c/b)+1}},a.elasticOut=a.getElasticOut(1,.3),a.getElasticInOut=function(a,b){var c=2*Math.PI;return function(d){var e=b/c*Math.asin(1/a);return(d*=2)<1?-.5*a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b):.5*a*Math.pow(2,-10*(d-=1))*Math.sin((d-e)*c/b)+1}},a.elasticInOut=a.getElasticInOut(1,.3*1.5),createjs.Ease=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(){throw"MotionGuidePlugin cannot be instantiated."};a.priority=0,a._rotOffS,a._rotOffE,a._rotNormS,a._rotNormE,a.install=function(){return createjs.Tween.installPlugin(a,["guide","x","y","rotation"]),createjs.Tween.IGNORE},a.init=function(a,b,c){var d=a.target;return d.hasOwnProperty("x")||(d.x=0),d.hasOwnProperty("y")||(d.y=0),d.hasOwnProperty("rotation")||(d.rotation=0),"rotation"==b&&(a.__needsRot=!0),"guide"==b?null:c},a.step=function(b,c,d,e,f){if("rotation"==c&&(b.__rotGlobalS=d,b.__rotGlobalE=e,a.testRotData(b,f)),"guide"!=c){return e}var g,h=e;h.hasOwnProperty("path")||(h.path=[]);var i=h.path;if(h.hasOwnProperty("end")||(h.end=1),h.hasOwnProperty("start")||(h.start=d&&d.hasOwnProperty("end")&&d.path===i?d.end:0),h.hasOwnProperty("_segments")&&h._length){return e}var j=i.length,k=10;if(!(j>=6&&0==(j-2)%4)){throw"invalid 'path' data, please see documentation for valid paths"}h._segments=[],h._length=0;for(var l=2;j>l;l+=4){for(var m,n,o=i[l-2],p=i[l-1],q=i[l+0],r=i[l+1],s=i[l+2],t=i[l+3],u=o,v=p,w=0,x=[],y=1;k>=y;y++){var z=y/k,A=1-z;m=A*A*o+2*A*z*q+z*z*s,n=A*A*p+2*A*z*r+z*z*t,w+=x[x.push(Math.sqrt((g=m-u)*g+(g=n-v)*g))-1],u=m,v=n}h._segments.push(w),h._segments.push(x),h._length+=w}g=h.orient,h.orient=!0;var B={};return a.calc(h,h.start,B),b.__rotPathS=Number(B.rotation.toFixed(5)),a.calc(h,h.end,B),b.__rotPathE=Number(B.rotation.toFixed(5)),h.orient=!1,a.calc(h,h.end,f),h.orient=g,h.orient?(b.__guideData=h,a.testRotData(b,f),e):e},a.testRotData=function(a,b){if(void 0===a.__rotGlobalS||void 0===a.__rotGlobalE){if(a.__needsRot){return}a.__rotGlobalS=a.__rotGlobalE=void 0!==a._curQueueProps.rotation?a._curQueueProps.rotation:b.rotation=a.target.rotation||0}if(void 0!==a.__guideData){var c=a.__guideData,d=a.__rotGlobalE-a.__rotGlobalS,e=a.__rotPathE-a.__rotPathS,f=d-e;if("auto"==c.orient){f>180?f-=360:-180>f&&(f+=360)}else if("cw"==c.orient){for(;0>f;)f+=360;0==f&&d>0&&180!=d&&(f+=360)}else if("ccw"==c.orient){for(f=d-(e>180?360-e:e);f>0;)f-=360;0==f&&0>d&&-180!=d&&(f-=360)}c.rotDelta=f,c.rotOffS=a.__rotGlobalS-a.__rotPathS,a.__rotGlobalS=a.__rotGlobalE=a.__guideData=a.__needsRot=void 0}},a.tween=function(b,c,d,e,f,g,h){var i=f.guide;if(void 0==i||i===e.guide){return d}if(i.lastRatio!=g){var j=(i.end-i.start)*(h?i.end:g)+i.start;switch(a.calc(i,j,b.target),i.orient){case"cw":case"ccw":case"auto":b.target.rotation+=i.rotOffS+i.rotDelta*g;break;case"fixed":default:b.target.rotation+=i.rotOffS}i.lastRatio=g}return"rotation"!=c||i.orient&&"false"!=i.orient?b.target[c]:d},a.calc=function(b,c,d){void 0==b._segments&&a.validate(b),void 0==d&&(d={x:0,y:0,rotation:0});for(var e=b._segments,f=b.path,g=b._length*c,h=e.length-2,i=0;g>e[i]&&h>i;)g-=e[i],i+=2;var j=e[i+1],k=0;for(h=j.length-1;g>j[k]&&h>k;)g-=j[k],k++;var l=k/++h+g/(h*j[k]);i=2*i+2;var m=1-l;return d.x=m*m*f[i-2]+2*m*l*f[i+0]+l*l*f[i+2],d.y=m*m*f[i-1]+2*m*l*f[i+1]+l*l*f[i+3],b.orient&&(d.rotation=57.2957795*Math.atan2((f[i+1]-f[i-1])*m+(f[i+3]-f[i+1])*l,(f[i+0]-f[i-2])*m+(f[i+2]-f[i+0])*l)),d},createjs.MotionGuidePlugin=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=createjs.TweenJS=createjs.TweenJS||{};a.version="0.5.1",a.buildDate="Thu, 12 Dec 2013 23:33:38 GMT"}();Ext.define("Unity.AbstractGameObject",{extend:Ext.util.MixedCollection,isGameObject:true,id:null,name:null,tags:null,tagHash:null,_parent:null,constructor:function(config){this.callParent();
Ext.apply(this,config)},fireEvent:function(eventName,event){if(event&&event.isUnityEvent){event.type=eventName;this.continueFireUnityEvent(eventName.toLowerCase(),event)}else{this.callParent(arguments)}},continueFireUnityEvent:function(eventName,unityEvent){var event,parentGameObject;unityEvent.currentTarget=this;event=this.events[eventName];if(event&&event!==true){event.fire(unityEvent)}event=this.events["*"];if(event&&event!==true){event.fire(unityEvent)}if(unityEvent.bubbles&&!unityEvent.isStopPropagation()){parentGameObject=this.parent();if(parentGameObject){parentGameObject.fireEvent(eventName,unityEvent)}}},doInsert:function(){var me=this;var objects=this.callParent(arguments);objects.forEach(function(object){object._parent=me});return objects},removeAt:function(){var result=this.callParent(arguments);result._parent=null;return result},remove:function(target){this.callParent(arguments);target._parent=null},clear:function(){this.each(function(child){child._parent=null});this.callParent(arguments)},getKey:function(item){return item.name},getBubbleParent:function(){return this.parent()},setName:function(name){this.parent().updateKey(this.name,name);this.name=name},parent:function(){return this._parent},child:function(name){return this.getByKey(name)},childAt:function(index){return this.getAt(index)},children:function(name){if(!name){return this.getRange()}return this.findBy(function(child){return child.name===name})},indexAtParent:function(){return this.parent().indexOf(this)},isTagged:function(tag){return this.tagHash&&this.tagHash[tag]},removeTag:function(tag){if(this.tagHash){delete this.tagHash[tag]}},removeMe:function(destroy){var parent=this.parent();parent&&parent.remove(this)},getByPath:function(path){var i,len,name;if(path.indexOf(Unity.NESTED_OFILE_PREFIX)===-1){var names=path.split("/");var obj=this;for(i=0,len=names.length;i<len;i++){name=names[i];obj=obj.child(name);if(!obj){return null}}return obj}else{var atSplit=path.split(Unity.NESTED_OFILE_PREFIX);var obj=this.getByPath(atSplit[0].substr(0,atSplit[0].length-1));if(!obj){return obj}return obj.child(Unity.NESTED_OFILE_PREFIX+atSplit[1])}},getPath:function(seperator){var o=this;var path=[];while(o&&!o.isStage){path.unshift(o.name);o=o._parent}return path.join(seperator||"/")},getStage:function(){return Unity.stage}});Ext.define("Unity.Unity",{});(function(global){global.Unity=global.Unity||{};Ext.apply(Unity,{UPDATE:"update",DRAW:"draw",CLIP:"clip",TESTHIT:"testHit",LAYOUT:"layout",CTYPE_PREFIX:"unity.component.",NESTED_OFILE_PREFIX:"@"});Ext.apply(Unity,{global:global,stage:null,onReady:Ext.onReady,create:function(alias,config){return Ext.create(Unity.CTYPE_PREFIX+alias,config)},createCanvas:function(width,height){var canvas=document.createElement("canvas");canvas.width=width;canvas.height=height;return canvas},createStage:function(config){Unity.stage=new Unity.Stage(config);return Unity.stage},quicklyStartStage:function(id,width,height,callback){Unity.onReady(function(){var stage=Unity.createStage({canvas:document.getElementById(id),width:width,height:height});stage.start();callback(stage)})},loadAssets:function(gameObject,callback,onProgress){Unity.Builder.loadAssets(gameObject,callback,onProgress)},buildGameObject:function(objData,onFinished){Unity.Builder.buildGameObject(objData,onFinished)},loadGameObject:function(params){Unity.Builder.loadGameObject(params)},schedule:function(task,frame,args){frame=frame||0;Unity.stage.scheduleTime(task,frame,args)},scheduleTime:function(task,time,args){time=time||0;Unity.stage.scheduleTime(task,time,args)}})})(window);Ext.define("Unity.Time",{singleton:true,delta:0,now:0,measuredFPS:0,update:function(speed){var now=Date.now();if(this.now){this.delta=(now-this.now)*speed;this.now+=this.delta;this.measuredFPS=1e3/this.delta}else{this.now=now}},reset:function(){this.delta=0;this.now=0}});Ext.define("Unity.Event",{isUnityEvent:true,type:null,target:null,currentTarget:null,bubbles:true,propagationStoped:false,constructor:function(config){Ext.apply(this,config)},isStopPropagation:function(){return this.propagationStoped},stopPropagation:function(){this.propagationStoped=true}});Ext.define("Unity.GestureEvent",{extend:Unity.Event,x:null,y:null,localPoint:null,touchMoveDetection:null,gesture:null,touch:null,setTouchMoveDetection:function(flag){this.touchMoveDetection=flag}});Ext.define("Unity.Touch",{enabled:true,canvasOffset:null,stage:null,canvas:null,touchMoveDetection:true,touchstartTarget:null,touchIdentifier:null,init:function(stage){this.stage=stage;this.canvas=stage.canvas;this.canvasOffset=this.getCanvasOffset(this.canvas);this.initEvents()},enable:function(){this.enabled=true},disable:function(){this.enabled=false},getCanvasOffset:function(canvas){var obj=canvas;var offset={x:obj.offsetLeft,y:obj.offsetTop};while(obj=obj.offsetParent){offset.x+=obj.offsetLeft;offset.y+=obj.offsetTop}return offset},initEvents:function(){var me=this;if(window.Hammer){Hammer(me.canvas,{transform:false,doubletap:false,hold:false,rotate:false,pinch:false}).on("touch release tap swipe drag dragstart dragend",function(e){me.enabled&&me.onGestureEvent(e,e.type)})}},onGestureEvent:function(e,type){var x,y,touchEvent,target,result;target=this.touchstartTarget;x=e.gesture.center.pageX;y=e.gesture.center.pageY;if(type==="touch"){this.touchMoveDetection=true;result=this.stage.getUnderPoint(x,y,true);target=this.touchstartTarget=result&&result.gameObject}else if(type==="release"){result=this.stage.getUnderPoint(x,y,true);target=result&&result.gameObject}else if(type==="drag"&&this.touchMoveDetection){result=this.stage.getUnderPoint(x,y,true);target=result&&result.gameObject}if(this.touchstartTarget){touchEvent=new Unity.GestureEvent({x:x,y:y,localPoint:result&&result.localPoint,type:type,bubbles:true,touch:target,target:this.touchstartTarget,touchMoveDetection:false,gesture:e.gesture});this.dispatchGestureEvent(this.touchstartTarget,type,touchEvent);this.touchMoveDetection=touchEvent.touchMoveDetection;if(type==="release"||Hammer.detection.stopped){this.touchstartTarget=null}}},dispatchGestureEvent:function(target,type,event){target.fireEvent(type,event)}});Ext.define("Unity.TweenJSProxy",{tween:function(override){return createjs.Tween.get(this,null,null,override)},clearTweens:function(){createjs.Tween.removeTweens(this)}});Ext.define("Unity.Transform",function(Transform){var matrix;var Matrix2D=function(a,b,c,d,tx,ty){this.initialize(a,b,c,d,tx,ty)};var p=Matrix2D.prototype;Matrix2D.identity=null;Matrix2D.DEG_TO_RAD=Math.PI/180;p.a=1;p.b=0;p.c=0;p.d=1;p.tx=0;p.ty=0;p.alpha=1;p.shadow=null;p.compositeOperation=null;p.initialize=function(a,b,c,d,tx,ty){this.a=a==null?1:a;this.b=b||0;this.c=c||0;this.d=d==null?1:d;this.tx=tx||0;this.ty=ty||0;return this};p.prepend=function(a,b,c,d,tx,ty){var tx1=this.tx;if(a!=1||b!=0||c!=0||d!=1){var a1=this.a;var c1=this.c;this.a=a1*a+this.b*c;this.b=a1*b+this.b*d;this.c=c1*a+this.d*c;this.d=c1*b+this.d*d}this.tx=tx1*a+this.ty*c+tx;this.ty=tx1*b+this.ty*d+ty;return this};p.append=function(a,b,c,d,tx,ty){var a1=this.a;var b1=this.b;var c1=this.c;var d1=this.d;this.a=a*a1+b*c1;this.b=a*b1+b*d1;this.c=c*a1+d*c1;this.d=c*b1+d*d1;this.tx=tx*a1+ty*c1+this.tx;this.ty=tx*b1+ty*d1+this.ty;return this};p.prependMatrix=function(matrix){this.prepend(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty);this.prependProperties(matrix.alpha,matrix.shadow,matrix.compositeOperation);return this};p.appendMatrix=function(matrix){this.append(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty);this.appendProperties(matrix.alpha,matrix.shadow,matrix.compositeOperation);return this};p.prependTransform=function(x,y,scaleX,scaleY,rotation,skewX,skewY,regX,regY){if(rotation%360){var r=rotation*Matrix2D.DEG_TO_RAD;var cos=Math.cos(r);var sin=Math.sin(r)}else{cos=1;sin=0}if(regX||regY){this.tx-=regX;this.ty-=regY}if(skewX||skewY){skewX*=Matrix2D.DEG_TO_RAD;skewY*=Matrix2D.DEG_TO_RAD;this.prepend(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,0,0);this.prepend(Math.cos(skewY),Math.sin(skewY),-Math.sin(skewX),Math.cos(skewX),x,y)}else{this.prepend(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,x,y)}return this};p.appendTransform=function(x,y,scaleX,scaleY,rotation,skewX,skewY,regX,regY){if(rotation%360){var r=rotation*Matrix2D.DEG_TO_RAD;var cos=Math.cos(r);var sin=Math.sin(r)}else{cos=1;sin=0}if(skewX||skewY){skewX*=Matrix2D.DEG_TO_RAD;skewY*=Matrix2D.DEG_TO_RAD;this.append(Math.cos(skewY),Math.sin(skewY),-Math.sin(skewX),Math.cos(skewX),x,y);this.append(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,0,0)}else{this.append(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,x,y)}if(regX||regY){this.tx-=regX*this.a+regY*this.c;this.ty-=regX*this.b+regY*this.d}return this};p.rotate=function(angle){var cos=Math.cos(angle);var sin=Math.sin(angle);var a1=this.a;var c1=this.c;var tx1=this.tx;this.a=a1*cos-this.b*sin;this.b=a1*sin+this.b*cos;this.c=c1*cos-this.d*sin;this.d=c1*sin+this.d*cos;this.tx=tx1*cos-this.ty*sin;this.ty=tx1*sin+this.ty*cos;return this};p.skew=function(skewX,skewY){skewX=skewX*Matrix2D.DEG_TO_RAD;skewY=skewY*Matrix2D.DEG_TO_RAD;this.append(Math.cos(skewY),Math.sin(skewY),-Math.sin(skewX),Math.cos(skewX),0,0);return this};p.scale=function(x,y){this.a*=x;this.d*=y;this.c*=x;this.b*=y;this.tx*=x;this.ty*=y;return this};p.translate=function(x,y){this.tx+=x;this.ty+=y;return this};p.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};p.invert=function(){var a1=this.a;var b1=this.b;var c1=this.c;var d1=this.d;var tx1=this.tx;var n=a1*d1-b1*c1;this.a=d1/n;this.b=-b1/n;this.c=-c1/n;this.d=a1/n;this.tx=(c1*this.ty-d1*tx1)/n;this.ty=-(a1*this.ty-b1*tx1)/n;return this};p.isIdentity=function(){return this.tx==0&&this.ty==0&&this.a==1&&this.b==0&&this.c==0&&this.d==1};p.transformPoint=function(x,y,pt){pt=pt||{};pt.x=x*this.a+y*this.c+this.tx;pt.y=x*this.b+y*this.d+this.ty;return pt};p.decompose=function(target){if(target==null){target={}}target.x=this.tx;target.y=this.ty;target.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);target.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var skewX=Math.atan2(-this.c,this.d);var skewY=Math.atan2(this.b,this.a);if(skewX==skewY){target.rotation=skewY/Matrix2D.DEG_TO_RAD;if(this.a<0&&this.d>=0){target.rotation+=target.rotation<=0?180:-180}target.skewX=target.skewY=0}else{target.skewX=skewX/Matrix2D.DEG_TO_RAD;target.skewY=skewY/Matrix2D.DEG_TO_RAD}return target};p.reinitialize=function(a,b,c,d,tx,ty,alpha,shadow,compositeOperation){this.initialize(a,b,c,d,tx,ty);this.alpha=alpha==null?1:alpha;this.shadow=shadow;this.compositeOperation=compositeOperation;return this};p.copy=function(matrix){return this.reinitialize(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty,matrix.alpha,matrix.shadow,matrix.compositeOperation)};p.appendProperties=function(alpha,shadow,compositeOperation){this.alpha*=alpha;this.shadow=shadow||this.shadow;this.compositeOperation=compositeOperation||this.compositeOperation;return this};p.prependProperties=function(alpha,shadow,compositeOperation){this.alpha*=alpha;this.shadow=this.shadow||shadow;this.compositeOperation=this.compositeOperation||compositeOperation;return this};p.clone=function(){return(new Matrix2D).copy(this)};p.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};Matrix2D.identity=new Matrix2D;matrix=new Matrix2D;return{mixins:{tween:Unity.TweenJSProxy},statics:{Matrix2D:Matrix2D},constructor:function(config){this.x=0;this.y=0;this.regX=0;this.regY=0;this.rotation=0;this.scaleX=1;this.scaleY=1;this.skewX=0;this.skewY=0;this.alpha=1;this.relative=true;this.gameObject=config.gameObject},getRoot:function(){var o=this.gameObject;while(o&&o._parent){o=o._parent}return o.transform},localToGlobal:function(x,y,concatenatedMatrix){var mtx;if(concatenatedMatrix){matrix.copy(concatenatedMatrix);mtx=matrix}else{mtx=this.getConcatenatedMatrix()}if(mtx==null){return null}mtx.append(1,0,0,1,x,y);return{x:mtx.tx,y:mtx.ty}},globalToLocal:function(x,y,concatenatedMatrix){var mtx;if(concatenatedMatrix){matrix.copy(concatenatedMatrix);mtx=matrix}else{mtx=this.getConcatenatedMatrix()}if(mtx==null){return null}mtx.invert();mtx.append(1,0,0,1,x,y);return{x:mtx.tx,y:mtx.ty}},getConcatenatedMatrix:function(resultMatrix){var o=this;var mtx=resultMatrix||matrix;mtx.identity();while(o!=null){mtx.prependTransform(o.x,o.y,o.scaleX,o.scaleY,o.rotation,o.skewX,o.skewY,o.regX,o.regY).prependProperties(o.alpha);if(!o.relative){break}o=o.gameObject._parent;if(o){o=o.transform}}return mtx},getMatrix:function(){var o=this;return matrix.identity().appendTransform(o.x,o.y,o.scaleX,o.scaleY,o.rotation,o.skewX,o.skewY,o.regX,o.regY).appendProperties(o.alpha)},updateContext:function(context,optimized){var mtx,o=this;if(this.relative){if(optimized&&this.isOnlyTranslate()){context.translate(this.x,this.y)}else{context.save();mtx=matrix.identity().appendTransform(o.x,o.y,o.scaleX,o.scaleY,o.rotation,o.skewX,o.skewY,o.regX,o.regY);context.transform(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty)}context.globalAlpha*=o.alpha}else{context.save();mtx=this.getAbsoluteMatrix();context.setTransform(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);context.globalAlpha=o.alpha}},reupdateContext:function(context,optimized){if(this.relative&&optimized&&this.isOnlyTranslate()){context.translate(-this.x,-this.y);context.globalAlpha/=this.alpha}else{context.restore()}},isOnlyTranslate:function(){if(this.scaleX===1&&this.scaleY===1&&this.rotation===0&&this.regX===0&&this.regY===0&&this.skewX===0&&this.skewX===0){return true}return false},getAbsoluteMatrix:function(mtx){var o=this;mtx=mtx||matrix;mtx.identity().prependTransform(o.x,o.y,o.scaleX,o.scaleY,o.rotation,o.skewX,o.skewY,o.regX,o.regY).prependProperties(o.alpha);return mtx},applyTransform:function(transform){this.x=transform.x;this.y=transform.y;this.regX=transform.regX;this.regY=transform.regY;this.scaleX=transform.scaleX;this.scaleY=transform.scaleY;this.rotation=transform.rotation;this.alpha=transform.alpha;this.skewX=transform.skewX;this.skewY=transform.skewY;this.relative=transform.relative}}});Ext.define("Unity.assets.AssetsLoader",{singleton:"true",baseURL:"",loading:false,loaders:{},loadQueue:[],assetsMap:{},loadingAssetsMap:{},assetsUsingCounter:{},registerLoader:function(loaderName,ctor){this.loaders[loaderName]=ctor},isLoaded:function(id){return!!this.getItem(id)},getItem:function(id){return this.assetsMap[id]},getRef:function(id){var item=this.getItem(id);if(!item){Ext.Error.raise("Illegal resource id: "+id)}return Ext.create("Unity.assets.AssetReference",{item:item})},use:function(id){var item=this.getItem(id);if(!item){return null}this.assetsUsingCounter[id]=this.assetsUsingCounter[id]||0;this.assetsUsingCounter[id]++;return item.result},disuse:function(id){var item,asset;if(this.assetsUsingCounter[id]){this.assetsUsingCounter[id]--}item=this.assetsMap[id];if(this.assetsUsingCounter[id]===0){delete this.assetsMap[id];delete this.assetsUsingCounter[id];asset=item.result;if(this.loadingAssetsMap[id]){return}if(asset&&asset.dispose&&typeof asset.dispose==="function"){asset.dispose()}}},load:function(params){var i,len,item;var items=params.items;var baseURL=params.baseURL;var callback=params.onFinished;var onProgress=params.onProgress;if(!Ext.isArray(items)){items=[items]}for(i=0,len=items.length;i<len;i++){item=items[i];if(Ext.isString(item)){item={id:item,src:item}}if(!item.id){item.id=item.src}item.src=(baseURL||this.baseURL)+item.src;item.loader=this.matchLoader(item);if(!item.loader){Ext.Error.raise('Cant found loader to resolve "'+item.id+'"')}this.loadingAssetsMap[item.id]=true;items[i]=item}this.loadQueue.push({total:items.length,items:items,callback:callback,onProgress:onProgress});this.loadNext()},matchLoader:function(item){var key,loader;var matched,matchLen=0,nextMatchLen;for(key in this.loaders){loader=this.loaders[key];if(!loader.isInstance){loader=this.loaders[key]=new loader}if("loader."+item.type===key){matched=loader;break}nextMatchLen=loader.match(item.src);if(nextMatchLen>matchLen){matchLen=nextMatchLen;matched=loader}}return matched},loadNext:function(){var me=this;var i,len,item,itemId,loadUnit,items,total,loadedResult,loadedCount,onProgress;if(this.loading||this.loadQueue.length===0){return}this.loading=true;loadedResult={};loadedCount=0;loadUnit=this.loadQueue.shift();items=loadUnit.items;total=loadUnit.total;onProgress=loadUnit.onProgress;function loadedOne(itemId){delete me.loadingAssetsMap[itemId];loadedResult[itemId]=true;loadedCount++;onProgress&&onProgress(itemId,loadedCount,total);if(loadedCount===total){loadUnit.callback&&loadUnit.callback();me.loading=false;me.loadNext()}}for(i=0,len=items.length;i<len;i++){item=items[i];if(!item){Ext.Error.raise("Load item is null")}itemId=item.id;if(this.assetsMap[itemId]){loadedOne(itemId)}else{(function(item){item.loader.load(item,function(){if(item.error){console.log("load ",item.id," error: "+item.error);loadedOne(item.id)}else{me.assetsMap[item.id]=item;loadedOne(item.id)}})})(item)}}},computeImageMemory:function(){var AsyncImage=Unity.assets.AsyncImage;var id,item,img;var size=0;var get2Pow=function(width){var base=2;while(width>base){base*=2}return base};for(id in this.assetsMap){item=this.assetsMap[id];if(item&&item.result instanceof AsyncImage){img=item.result.image;size+=get2Pow(img.width)*get2Pow(img.height)}}return size*4/1024/1024}});Ext.define("Unity.Component",{statics:{registry:{}},inheritableStatics:{isComponentClass:true},alias:"unity.component.component",ctype:"component",isComponent:true,gameObject:null,_autoReleaseRefs:null,constructor:function(config){Ext.apply(this,config);this._autoReleaseRefs=[]},init:function(){},destroy:function(){this.gameObject.clearListeners();this.releaseRefs()},getAssetRef:function(id){return Unity.assets.AssetsLoader.getRef(id)},releaseOnDestroy:function(ref){this._autoReleaseRefs.push(ref)},releaseRefs:function(){this._autoReleaseRefs.forEach(function(ref){ref.release()});this._autoReleaseRefs=null},onClassExtended:function(cls,data,hooks){var alias=Unity.CTYPE_PREFIX+data.ctype;Ext.ClassManager.setAlias(cls,alias);Unity.Component.registry[data.ctype]=cls;var configs={props:[]};var hasProp={};var theCls=cls;var theProto=data;while(theCls!==Unity.Component){var theConfigs=theProto.configs;if(theConfigs){if(theConfigs.props){theConfigs.props.forEach(function(propCfg){if(!hasProp[propCfg.name]){configs.props.push(propCfg);hasProp[propCfg.name]=true}})}for(var pName in theConfigs){if(!configs.hasOwnProperty(pName)){configs[pName]=theConfigs[pName]}}}theCls=theCls.superclass.self;theProto=theCls.prototype}data.configs=configs},onClassMixedIn:function(cls){if(cls.isComponentClass){var sourceConfigs=this.prototype.configs;var distConfigs=cls.prototype.configs;var hasProp={};distConfigs.props.forEach(function(propConfig){hasProp[propConfig.name]=true});sourceConfigs.props.forEach(function(propConfig){if(!hasProp[propConfig.name]){hasProp[propConfig.name]=true;distConfigs.props.push(propConfig)}});for(var pName in sourceConfigs){if(!distConfigs.hasOwnProperty(pName)){distConfigs[pName]=sourceConfigs[pName]}}}}});Ext.define("Unity.GameObject",{statics:{idCache:{},getById:function(id){return this.idCache[id]}},extend:Unity.AbstractGameObject,alias:"unity.component.gameobject",inited:false,active:true,visible:true,touchable:false,width:0,height:0,constructor:function(){this.callParent(arguments);this.transform=new Unity.Transform({gameObject:this});this._components=new Ext.util.MixedCollection;this.data={};this.clipCmp=null;this.updateIdCache();this._cacheCanvas=null;this._cacheContext=null;this._cached=false;this._cacheOffsetX=0;this._cacheOffsetY=0},updateIdCache:function(){if(this.id){Unity.GameObject.idCache[this.id]=this}},isActive:function(upWards){if(upWards===false){return this.active}var active=true;var o=this;while(o){active=active&&o.active;if(!active){return false}o=o._parent}return active},setActive:function(active){this.active=active},isVisible:function(upWards){if(upWards===false){return this.visible}var visible=true;var o=this;while(o){visible=visible&&o.visible;if(!visible){return false}o=o._parent}return visible},setVisible:function(visible){this.visible=visible},setTouchable:function(touchable){this.touchable=touchable},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(width){this.width=width},setHeight:function(height){this.height=height},addCmp:function(cmp){cmp.gameObject=this;if(cmp.clip){this.clipCmp=cmp}return this._components.add(cmp)},getCmp:function(ctype,cname){if(cname){return this.findCmpBy(function(cmp){if(cmp.cname===cname){return cmp}})}return this.findCmpBy(function(cmp){if(cmp.ctype===ctype){return cmp}})},getCmpByFeature:function(feature){var cmp;this._components.each(function(component){if(component[feature]){cmp=component;return false}});return cmp},getCmps:function(ctype){return this.queryCmpBy(function(cmp){return cmp.ctype===ctype})},findCmpBy:function(fn,scope){return this._components.findBy(fn,scope)},queryCmpBy:function(fn,scope){return this._components.filterBy(fn,scope)},removeCmp:function(cmp){cmp.gameObject=null;return this._components.remove(cmp)},removeAllCmps:function(){this._components.clear()},callCmp:function(method,args){this._components.each(function(cmp){var func=cmp[method];func&&func.apply(cmp,args)},this)},callChildren:function(method,args){this.each(function(child){var func=child[method];func&&func.apply(child,args)})},query:function(expr){var args=expr.split(":");var paths=args[0].split("/");var ctype=args[1];var result=this;for(var i=0,len=paths.length;i<len;i++){result=result.child(paths[i]);if(!result){return}}if(result===this){return null}if(ctype){result=result.getCmp(ctype)}return result},init:function(){this.callCmp("init");this.callCmp("layout");this.callChildren("init");this.inited=true},destroy:function(remove){this.callCmp("destroy");this.callChildren("destroy",arguments);this.inited=false;remove&&this.parent()&&this.parent().remove(this);this.clear();this.clearListeners();this.removeAllCmps();this.uncache();this.data={};if(this.id){delete Unity.GameObject.idCache[this.id]}},removeMe:function(destroy){this.callParent(arguments);if(destroy){this.destroy()}},update:function(Time){var i,items,compItems,item;compItems=this._components.items;for(i=compItems.length-1;i>=0;i--){item=compItems[i];if(item.update){item.update(Time)}}items=this.items;for(i=items.length-1;i>=0;i--){item=items[i];if(item.inited&&item.active){item.update(Time)}}},draw:function(context,gl){this.transform.updateContext(context);if(this._cacheCanvas){if(!this._cached){this.doCache()}context.drawImage(this._cacheCanvas,0,0)}else{this.doDraw(context,gl)}this.transform.reupdateContext(context)},doDraw:function(context,gl){var i,len,items,compItems,item;if(this.clipCmp){this.clipCmp.clip(context)}compItems=this._components.items;for(i=0,len=compItems.length;i<len;i++){item=compItems[i];if(item.draw){item.draw(context,gl)}}items=this.items;for(i=0,len=items.length;i<len;i++){item=items[i];if(item.inited&&item.active&&item.visible&&item.draw){item.draw(context,gl)}}},testHit:function(x,y){var hit=false,hitDelegate;if(!this.isActive(true)||!this.isVisible(true)){return hit}hitDelegate=this.getCmpByFeature(Unity.TESTHIT);return hitDelegate&&hitDelegate.testHit(x,y)},getUnderPoint:function(x,y,touchable,testHit){var found,localP,child;if(this.getCount()>0){for(var i=this.items.length-1;i>=0;i--){child=this.items[i];found=child.getUnderPoint(x,y,touchable,testHit);if(found){return found}}}if(!touchable||this.touchable){localP=this.transform.globalToLocal(x,y);if(testHit){if(testHit(this,localP.x,localP.y)){return{gameObject:this,localPoint:localP}}}else if(this.testHit(localP.x,localP.y)){return{gameObject:this,localPoint:localP}}}return null},loadAssets:function(loader){this.callCmp("loadAssets",[loader]);this.callChildren("loadAssets",[loader])},cache:function(x,y,width,height){if(this._cacheCanvas&&(this._cacheCanvas.width!==width||this._cacheCanvas.height!==height)){this.uncache()}if(!this._cacheCanvas){this._cacheCanvas=Unity.createCanvas(width,height)}this._cacheOffsetX=x;this._cacheOffsetY=y;this._cacheContext=this._cacheCanvas.getContext("2d");this._cached=false},updateCache:function(offsetX,offsetY){this._cached=false;this._cacheOffsetX=offsetX||this._cacheOffsetX;this._cacheOffsetY=offsetY||this._cacheOffsetY},translateCache:function(deltaX,deltaY){this._cached=false;this._cacheOffsetX+=deltaX;this._cacheOffsetY+=deltaY},uncache:function(){if(this._cacheCanvas){this._cacheContext.dispose&&this._cacheContext.dispose();this._cacheCanvas.dispose&&this._cacheCanvas.dispose();this._cacheCanvas=null}this._cached=false},doCache:function(){var cacheContext=this._cacheContext;cacheContext.clearRect(0,0,this._cacheCanvas.width,this._cacheCanvas.height);cacheContext=this._cacheContext;cacheContext.translate(-this._cacheOffsetX,-this._cacheOffsetY);this.doDraw(cacheContext);cacheContext.translate(this._cacheOffsetX,this._cacheOffsetY);this._cached=true}});Ext.define("Unity.Stage",function(){var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(frameCall,intervalTime){setTimeout(frameCall,intervalTime)};return{extend:Unity.GameObject,isStage:true,alias:"stage",canvas:undefined,autoClear:true,backgroundColor:"#000000",speed:1,webgl:false,context:null,gl:null,state:"stop",width:null,height:null,touch:null,viewport:{x:0,y:0,width:0,heihgt:0},schedules:{},scheduleCount:0,constructor:function(config){this.callParent(arguments);this.name="UnityStage";this.width=config.width||this.canvas.width;this.height=config.height||this.canvas.height;if(this.width!==this.canvas.width){this.canvas.width=this.width}if(this.height!==this.canvas.height){this.canvas.height=this.height}this.initContext();this.touch=new Unity.Touch;this.touch.init(this);this.init()},initContext:function(){this.context=this.canvas.getContext("2d",{antialias:true});if(this.webgl){this.enableWebGL()}},enableWebGL:function(){try{this.gl=this.canvas.getContext("experimental-webgl",this.options)}catch(e){try{this.gl=this.canvas.getContext("webgl",this.options)}catch(e2){console.error(" This browser does not support webGL. Try using the canvas renderer"+this)}}},draw:function(context,gl){if(this.autoClear){if(this.backgroundColor){this.context.fillStyle=this.backgroundColor;this.context.fillRect(0,0,this.width,this.height)}else{this.context.clearRect(0,0,this.width,this.height)}}this.viewport.x=-this.transform.x;this.viewport.y=-this.transform.y;this.viewport.width=this.width;this.viewport.height=this.height;this.callParent(arguments)},resize:function(width,height){this.canvas.width=width;this.canvas.height=height;this.width=width;this.height=height},runStep:function(delta){var scheduleId,scheduleItem;var Time=Unity.Time;if(this.inited&&this.active){this.update(delta||Time.delta);if(this.visible){this.draw(this.context,this.gl)}}for(scheduleId in this.schedules){scheduleItem=this.schedules[scheduleId];if(scheduleItem.isFrame){scheduleItem.frame--;if(scheduleItem.frame<0){scheduleItem.task.apply(scheduleItem,scheduleItem.args);delete this.schedules[scheduleId]}}if(scheduleItem.isTime){scheduleItem.time-=Time.delta;if(scheduleItem.time<0){scheduleItem.task.apply(scheduleItem,scheduleItem.args);delete this.schedules[scheduleId]}}}},start:function(){var me=this;var frame;var Time=Unity.Time;me.state="running";Time.reset();frame=function(){if(me.state==="stop"){return false}Time.update(me.speed);if(me.state==="running"){me.runStep();window.createjs&&createjs.Tween&&createjs.Tween.tick(Time.delta)}requestAnimationFrame(frame)};requestAnimationFrame(frame)},stop:function(){this.state="stop"},pause:function(){this.state="pause"},resume:function(){this.state="running"},schedule:function(task,frame,args){frame=frame||0;this.schedules["Schedule_"+this.scheduleCount++]={task:task,frame:frame,args:args,isFrame:true}},scheduleTime:function(task,time,args){time=time||0;this.schedules["Schedule_"+this.scheduleCount++]={task:task,time:time,args:args,isTime:true}}}});Ext.define("Unity.Builder",{singleton:true,deepCopy:function(o){var copy=o,k;if(o&&typeof o==="object"){copy=Object.prototype.toString.call(o)==="[object Array]"?[]:{};for(k in o){copy[k]=this.deepCopy(o[k])}}return copy},loadGameObject:function(params){var me=this;var fileSrc=params.file;var beforeLoadAssets=params.beforeLoadAssets||function(gameObject,callback){callback()};var beforeInit=params.beforeInit||function(gameObject,callback){callback()};var onFinished=params.onFinished;var onProgress=params.onProgress;me.loadGameObjectFile(fileSrc,function(data){me.buildGameObject(data.objects,function(gameObj){beforeLoadAssets(gameObj,function(){me.loadAssets(gameObj,function(){beforeInit(gameObj,function(){gameObj.init();onFinished&&onFinished(gameObj)})},onProgress)})})})},loadGameObjectFile:function(fileSrc,callback){var Loader=Unity.assets.AssetsLoader;Loader.load({items:[{src:fileSrc,type:"json"}],onFinished:function(){callback&&callback(Loader.getItem(fileSrc).result)}})},loadAssets:function(gameObj,callback,onProgress){var assets;var collector=new Unity.assets.AssetsCollector;gameObj.loadAssets(collector);assets=collector.getCollected();if(assets.length===0){callback&&callback()}else{Unity.assets.AssetsLoader.load({items:collector.getCollected(),onProgress:onProgress,onFinished:function(){collector.onload();callback&&callback()}})}},buildGameObject:function(objData,onFinished){if(objData.name.charAt(0)===Unity.NESTED_OFILE_PREFIX){this.buildNestedOFileGameObject(objData,onFinished)}else{this.buildNormalGameObject(objData,onFinished)}},buildNestedOFileGameObject:function(objData,onFinished){var me=this;var nestedOFileURL=objData.name.substr(1);var Loader=Unity.assets.AssetsLoader;Loader.load({items:[{src:nestedOFileURL,type:"json"}],onFinished:function(){me.buildGameObject(Loader.getItem(nestedOFileURL).result.objects,function(gameObj){me.buildNormalGameObject(objData,function(nextedParent){nextedParent.add(gameObj);onFinished&&onFinished(nextedParent)})})}})},createGameObject:function(objData){var alias=objData.alias||"gameobject";return Unity.create(alias,{id:objData.gid,name:objData.name})},resolveObjectData:function(objData){return this.deepCopy(objData)},buildNormalGameObject:function(objData,onFinished){var me=this;var gameObj=this.createGameObject(objData);objData=this.resolveObjectData(objData);gameObj.active=objData.active;gameObj.visible=objData.visible;gameObj.touchable=objData.touchable;gameObj.width=objData.width;gameObj.height=objData.height;gameObj.tags=objData.tags;var tagHash={};gameObj.tagHash=tagHash;gameObj.tags&&gameObj.tags.split(" ").forEach(function(tag){tagHash[tag]=true});gameObj.transform.applyTransform(objData.transform);objData.components.forEach(function(cmpData){var cmp=me.buildComponent(cmpData);if(cmp){gameObj.addCmp(cmp)}});function queueBuildChild(){var childObjData=objData.children.shift();if(!childObjData){onFinished&&onFinished(gameObj);return}me.buildGameObject(childObjData,function(child){gameObj.add(child);queueBuildChild()})}queueBuildChild()},buildComponent:function(cmpData){var alias=cmpData.alias;var component=Unity.create(alias,cmpData.config);return component}});Ext.define("Unity.assets.AssetReference",{item:null,asset:null,constructor:function(config){Ext.apply(this,config);this.asset=this.item.result;Unity.assets.AssetsLoader.use(this.item.id)},release:function(){Unity.assets.AssetsLoader.disuse(this.item.id);this.item=null},get:function(){return this.asset}});Ext.define("Unity.assets.AssetsCollector",{collection:null,constructor:function(){this.collection=new Ext.util.MixedCollection},load:function(itemOrSrc,callback){var callbacks=this.collection.get(itemOrSrc);if(callbacks){callbacks.push(callback)}else{callbacks=[callback]}this.collection.add(itemOrSrc,callbacks)
},loadAll:function(items,callback){var me=this;items.forEach(function(item){me.load(item,callback)})},getCollected:function(){var collected=[];this.collection.eachKey(function(itemOrSrc){collected.push(itemOrSrc)});return collected},onload:function(){var AssetsLoader=Unity.assets.AssetsLoader;this.collection.eachKey(function(itemOrSrc,callbacks){if(AssetsLoader.isLoaded(itemOrSrc)){callbacks.forEach(function(callback){var ref=AssetsLoader.getRef(itemOrSrc);callback&&callback(ref,itemOrSrc)})}},this)}});Ext.define("Unity.assets.AsyncImage",{constructor:function(config){Ext.apply(this,config);this.src=this.image.src},draw:function(context,a,b,c,d,e,f,g,h){var image=this.image;var argsLen=arguments.length;if(image){if(argsLen===3){context.drawImage(image,a||0,b||0)}if(argsLen===5){context.drawImage(image,a,b,c,d)}if(argsLen===7){context.drawImage(image,a,b,c,d,e,f)}else{context.drawImage(image,a,b,c,d,e,f,g,h)}}},drawAs9Grid:function(context,region,grid,x,y,width,height){if(!region||!grid||!width||!height){return}var rx=region.x;var ry=region.y;var ow=region.w;var oh=region.h;var gl=grid.left;var gr=grid.right;var gt=grid.top;var gb=grid.bottom;var ctx=context;this.draw(context,rx,ry,gl,gt,x,y,gl,gt);this.draw(context,rx+gl,ry+0,ow-gl-gr,gt,x+gl,y,width-gl-gr,gt);this.draw(context,rx+ow-gr,ry+0,gr,gt,x+width-gr,y,gr,gt);this.draw(context,rx+0,ry+gt,gl,oh-gt-gb,x,y+gt,gl,height-gt-gb);this.draw(context,rx+0,ry+oh-gb,gl,gb,x,y+height-gb,gl,gb);this.draw(context,rx+gl,ry+oh-gb,ow-gl-gr,gb,x+gl,y+height-gb,width-gl-gr,gb);this.draw(context,rx+ow-gr,ry+oh-gb,gr,gb,x+width-gr,y+height-gb,gr,gb);this.draw(context,rx+ow-gr,ry+gt,gr,oh-gt-gb,x+width-gr,y+gt,gr,height-gt-gb);this.draw(context,rx+gl,ry+gt,ow-gl-gr,oh-gt-gb,x+gl,y+gt,width-gl-gr,height-gt-gb)},draw3in1:function(context,region,splitCoords,widths,x,y){if(!region||!splitCoords||!widths||splitCoords.length!==2||widths.length!==3){return}var rx=region.x;var ry=region.y;var ow=region.w;var oh=region.h;this.draw(context,rx,ry,splitCoords[0],oh,x,y,widths[0],oh);this.draw(context,rx+splitCoords[0],ry,splitCoords[1]-splitCoords[0],oh,x+widths[0],y,widths[1],oh);this.draw(context,rx+splitCoords[1],ry,ow-splitCoords[1],oh,x+widths[0]+widths[1],y,widths[2],oh)},dispose:function(temporary){this.image&&this.image.dispose&&this.image.dispose();this.image=null}});Ext.define("Unity.assets.Texture",{extend:Unity.assets.AsyncImage,getFrame:function(name){var frameData=this.frames[name];if(frameData){return frameData.frame}return null},getSpriteSourceSize:function(name){var frameData=this.frames[name];if(frameData){return frameData.spriteSourceSize}return null},drawFrame:function(context,name,x,y,w,h){var f=this.getFrame(name);if(f){this.draw(context,f.x,f.y,f.w,f.h,x||0,y||0,w||f.w,h||f.h)}},drawFrameAs9Grid:function(context,name,grid,x,y,width,height){var f=this.getFrame(name);if(f){this.drawAs9Grid(context,f,grid,x,y,width,height)}},drawFrameAs3in1:function(context,name,splitCoords,widths,x,y){var f=this.getFrame(name);if(f){this.draw3in1(context,f,splitCoords,widths,x,y)}}});Ext.define("Unity.assets.Loader",{match:function(url){throw new Error("abstract method")},load:function(item,callback){throw new Error("abstract method")},onClassExtended:function(cls,data,hooks){Unity.assets.AssetsLoader.registerLoader(data.alias||data.$className,cls)}});Ext.define("Unity.assets.StringLoader",{extend:Unity.assets.Loader,alias:"loader.string",load:function(item,callback){Ext.Ajax.request({url:item.src,time:5e3,success:function(response){var data=response.responseText;item.result=data;callback&&callback()},failure:function(response){if(response.status===0&&response.responseText){var data=response.responseText;item.result=data;callback&&callback();return}Ext.Ajax.request({url:item.src,time:5e3,success:function(response){var data=response.responseText;item.result=data;callback&&callback()},failure:function(response){if(response.status===0&&response.responseText){var data=response.responseText;item.result=data;callback&&callback();return}item.error=true;callback&&callback()}})}})},match:function(url){return.001}});Ext.define("Unity.assets.ImageLoader",{extend:Unity.assets.Loader,alias:"loader.image",load:function(item,callback){var image=new Image;image.src=item.src;image.onload=function(){item.result=new Unity.assets.AsyncImage({resourceId:item.id,image:image});callback&&callback()};image.onerror=function(){item.error=true;callback&&callback()}},match:function(url){if(Ext.String.endsWith(url,".gif")||Ext.String.endsWith(url,".png")||Ext.String.endsWith(url,".jpg")||Ext.String.startsWith(url,"data:image/")){return 4}return 0}});Ext.define("Unity.assets.JSONLoader",{extend:Unity.assets.Loader,alias:"loader.json",loadJSON:function(jsonSrc,callback){Ext.Ajax.request({url:jsonSrc,time:5e3,success:function(response){var data=JSON.parse(response.responseText);callback&&callback(data)},failure:function(response){if(response.status===0&&response.responseText){var data=JSON.parse(response.responseText);callback&&callback(data);return}Ext.Ajax.request({url:jsonSrc,time:5e3,success:function(response){var data=JSON.parse(response.responseText);callback&&callback(data)},failure:function(response){if(response.status===0&&response.responseText){var data=JSON.parse(response.responseText);callback&&callback(data);return}callback&&callback()}})}})},load:function(item,callback){this.loadJSON(item.src,function(data){item.error=!data;item.result=data;callback&&callback()})},match:function(url){if(Ext.String.endsWith(url,".json")){return 5}return 0}});Ext.define("Unity.assets.TextureLoader",{extend:Unity.assets.Loader,alias:"loader.texture",loadJson:function(jsonSrc,callback){Ext.Ajax.request({url:jsonSrc,timeout:5e3,success:function(response){var data=JSON.parse(response.responseText);callback&&callback(data)},failure:function(response){if(response.status===0&&response.responseText){var data=JSON.parse(response.responseText);callback&&callback(data);return}Ext.Ajax.request({url:jsonSrc,timeout:5e3,success:function(response){var data=JSON.parse(response.responseText);callback&&callback(data);callback&&callback()},failure:function(response){if(response.status===0&&response.responseText){var data=JSON.parse(response.responseText);callback&&callback(data);return}callback&&callback()}})}})},load:function(item,callback){var me=this;var image,imageSrc;var jsonSrc=item.src;if(!imageSrc&&jsonSrc){imageSrc=item.imageSrc=jsonSrc.replace(".tt.json",".tt.png")}image=new Image;image.src=imageSrc;image.onload=function(){me.loadJson(jsonSrc,function(data){if(!data){image.dispose&&image.dispose();item.error=true}else{item.result=new Unity.assets.Texture({resourceId:item.id,image:image,frames:data.frames})}callback&&callback()})};image.onerror=function(){item.error=true;callback&&callback()}},match:function(url){if(Ext.String.endsWith(url,".tt.png")||Ext.String.endsWith(url,".tt.json")){return 7}return 0}});Ext.define("Unity.cmp.Controller",{extend:Unity.Component,ctype:"Framework_Controller",configs:{props:[{name:"scriptSrc",type:"string",defaultValue:"",provider:"script"}]},scriptLoaded:false,script:null,init:function(){if(this.script){eval(this.script)}},loadAssets:function(loader){var me=this;if(!me.scriptLoaded){if(me.scriptSrc){loader.load(me.scriptSrc,function(ref){me.script=ref.get();me.scriptLoaded=true})}}}});Ext.define("Unity.cmp.Alignable",{extend:Unity.Component,ctype:"Framework_Alignable",configs:{props:[{name:"baseline",type:"string",defaultValue:"",provider:{id:"combobox",items:["top","middle","bottom"]}},{name:"align",type:"string",defaultValue:"",provider:{id:"combobox",items:["start","center","end"]}}]},alignX:0,alignY:0,getAlignWidth:function(){return 0},getAlignHeight:function(){return 0},setBaseline:function(baseline){this.baseline=baseline;this.updateAlignPosition()},setAlign:function(align){this.align=align;this.updateAlignPosition()},updateAlignPosition:function(){var x,y,width,height;height=this.getAlignHeight();width=this.getAlignWidth();if(this.baseline=="top"){y=0}else if(this.baseline=="middle"){y=-height/2}else if(this.baseline=="bottom"){y=-height}else{y=0}if(this.align=="start"){x=0}else if(this.align=="center"){x=-width/2}else if(this.align=="end"){x=-width}else{x=0}this.alignX=x;this.alignY=y}});Ext.define("Unity.cmp.Text",{extend:Unity.Component,mixins:[Unity.cmp.Alignable],ctype:"Framework_Text",configs:{props:[{name:"text",type:"string",defaultValue:""},{name:"color",type:"string",defaultValue:"#000000"},{name:"font",type:"string",defaultValue:"bold 18px Helvetica,黑体"},{name:"shadowColor",type:"string",defaultValue:"#000000"},{name:"shadowOffsetX",type:"int",defaultValue:0},{name:"shadowOffsetY",type:"int",defaultValue:2},{name:"cacheAsImage",type:"boolean",defaultValue:true}]},destroy:function(){this.callParent(arguments);if(this.cacheCanvas){this.cacheCanvas.dispose&&this.cacheCanvas.dispose();this.cacheContext.dispose&&this.cacheContext.dispose();this.cacheCanvas=null;this.cacheContext=null}},applyTextParamsToContext:function(context){if(this.font&&this.font!==context.font){context.font=this.font}if(this.baseline&&this.baseline!==context.textBaseline){context.textBaseline=this.baseline}if(this.align&&this.align!==context.textAlign){context.textAlign=this.align}},applyColorToContext:function(context){if(this.color&&context.fillStyle!==this.color){context.fillStyle=this.color}},draw:function(context){if(this.text){if(this.cacheAsImage){this.cache(context);this.drawCache(context)}else{this.drawText(context)}}},drawText:function(context){this.applyTextParamsToContext(context);this.drawShadow(context);this.applyColorToContext(context);context.fillText(this.text,0,0)},drawShadow:function(context){if(this.shadowColor){context.fillStyle=this.shadowColor;context.fillText(this.text,this.shadowOffsetX,this.shadowOffsetX)}},drawCache:function(context){context.drawImage(this.cacheCanvas,this.alignX,this.alignY)},getTextHeight:function(font){return parseInt(/(\d{1,3})px/.exec(font)[1])+2},getAlignWidth:function(){return this.cacheWidth},getAlignHeight:function(){return this.cacheHeight},cache:function(stageContext){if(!this.text){this.cacheCanvas.dispose&&this.cacheCanvas.dispose();this.cacheContext.dispose&&this.cacheContext.dispose();this.cacheCanvas=null;this.cacheContext=null;this.cacheWidth=0;this.cacheHeight=0;this.updateAlignPosition();return}else if(this.text&&(!this.cacheText||this.cacheText!==this.text)){if(this.font&&this.font!==stageContext.font){stageContext.font=this.font}var measured=stageContext.measureText(this.text);var textHeight=this.getTextHeight(this.font);this.cacheCanvas=Unity.createCanvas(measured.width,textHeight);this.cacheWidth=measured.width;this.cacheHeight=textHeight;this.cacheContext=this.cacheCanvas.getContext("2d");if(this.font){this.cacheContext.font=this.font}this.cacheContext.textBaseline="middle";this.cacheContext.textAlign="left";if(this.shadowColor){this.cacheContext.fillStyle=this.shadowColor;this.cacheContext.fillText(this.text,this.shadowOffsetX,this.shadowOffsetY+this.cacheHeight/2)}if(this.color){this.cacheContext.fillStyle=this.color}this.cacheContext.fillText(this.text,0,this.cacheHeight/2);this.cacheText=this.text;this.updateAlignPosition()}}});Ext.define("Unity.cmp.Image",{extend:Unity.Component,mixins:[Unity.cmp.Alignable],ctype:"Framework_Image",cname:"image",configs:{props:[{name:"imageSrc",type:"string",defaultValue:"",provider:"image"},{name:"webgl",type:"boolean",defaultValue:false}]},imageRef:null,image:null,imageLoaded:false,vertexShaderSource:["attribute vec2 a_position;","void main() {","gl_Position = vec4(a_position, 0, 1);","}"].join(""),fragmentShaderSource:["void main() {","gl_FragColor = vec4(0,1,0,1);","}"].join(""),init:function(){this.callParent(arguments);this.updateAlignPosition()},draw:function(context,gl){if(this.image){if(gl&&this.webgl){}else{this.image.draw(context,this.alignX,this.alignY)}}},setSrc:function(src){if(this.imageSrc===src){return}this.imageLoaded=false;this.imageRef&&this.imageRef.release();this.imageRef=null;this.image=null;this.imageSrc=src},loadAssets:function(loader){var me=this;if(!me.imageLoaded){if(me.imageSrc){loader.load(me.imageSrc,function(ref){me.imageRef=ref;me.image=ref.get();me.updateAlignPosition();me.imageLoaded=true})}}},getAlignWidth:function(){if(!this.image){return 0}return this.image.image.width},getAlignHeight:function(){if(!this.image){return 0}return this.image.image.height},destroy:function(){this.callParent(arguments);this.imageRef&&this.imageRef.release();this.imageRef=null;this.image=null}});Ext.define("Unity.cmp.RectPattern",{extend:Unity.cmp.Image,ctype:"Framework_RectPattern",configs:{props:[{name:"rect",type:"auto",defaultValue:{x:0,y:0,width:0,height:0},provider:"rect"},{name:"repeat",type:"string",defaultValue:"repeat",provider:{id:"combobox",items:["repeat","repeat-x","repeat-y"]}}]},pattern:null,init:function(){this.callParent()},draw:function(context){if(this.image){this.pattern=context.createPattern(this.image.image,this.repeat);context.fillStyle=this.pattern;context.beginPath();context.rect(this.rect.x,this.rect.y,this.rect.width,this.rect.height);context.fill()}}});Ext.define("Unity.cmp.ColorMask",{extend:Unity.Component,ctype:"Framework_ColorMask",configs:{props:[{name:"color",type:"string",defaultValue:"#000000"}]},draw:function(context){context.fillStyle=this.color;context.fillRect(0,0,4e3,4e3)}});Ext.define("Unity.cmp.WrapText",{extend:Unity.cmp.Text,ctype:"Framework_WrapText",configs:{props:[{name:"lineWidth",type:"int",defaultValue:0},{name:"lineHeight",type:"int",defaultValue:0}]},draw:function(context){if(this.text&&this.lineWidth&&this.lineHeight){this.applyTextParamsToContext(context);this.drawWrapText(context,this.text,0,0,this.lineWidth,this.lineHeight)}},drawWrapText:function(context,text,x,y,maxWidth,lineHeight){var words=text;var line="";var lineCount=1;for(var n=0;n<words.length;n++){var testLine=line+words[n];var metrics=context.measureText(testLine);var testWidth=metrics.width;if(testWidth>maxWidth&&n>0){if(this.shadowColor){context.fillStyle=this.shadowColor;context.fillText(line,x+this.shadowOffsetX,y+this.shadowOffsetY)}context.fillStyle=this.color;context.fillText(line,x,y);line=words[n];y+=lineHeight;lineCount++}else{line=testLine}}if(this.shadowColor){context.fillStyle=this.shadowColor;context.fillText(line,x+this.shadowOffsetX,y+this.shadowOffsetY)}context.fillStyle=this.color;context.fillText(line,x,y);return lineCount}});Ext.define("Unity.cmp.BaseTexture",{extend:Unity.Component,ctype:"Framework_BaseTexture",configs:{props:[{name:"textureSrc",type:"string",defaultValue:"",provider:"texture"}]},texture:null,textureLoaded:false,loadAssets:function(loader){var me=this;if(!me.textureLoaded){if(me.textureSrc){loader.load(me.textureSrc,function(ref){me.texture=ref.get();me.textureLoaded=true;me.releaseOnDestroy(ref)})}}}});Ext.define("Unity.cmp.Texture",{extend:Unity.cmp.BaseTexture,mixins:[Unity.cmp.Alignable],ctype:"Framework_Texture",configs:{props:[{name:"frame",type:"string",defaultValue:"",provider:"texture_frame"}]},init:function(){this.updateAlignPosition()},draw:function(context){if(this.texture&&this.frame){this.texture.drawFrame(context,this.frame,this.alignX,this.alignY)}},getAlignWidth:function(){var frame;if(this.texture&&this.frame){frame=this.texture.getFrame(this.frame);return frame&&frame.w}return 0},getAlignHeight:function(){if(this.texture&&this.frame){frame=this.texture.getFrame(this.frame);return frame&&frame.h}return 0}});Ext.define("Unity.cmp.TextureNinepatch",{extend:Unity.cmp.Texture,ctype:"Framework_Texture_9Patch",configs:{props:[{name:"grid",type:"auto",defaultValue:{left:0,top:0,right:0,bottom:0},provider:"positioning"},{name:"size",type:"auto",defaultValue:{width:0,height:0},provider:"size"}]},draw:function(context){if(this.texture&&this.frame){this.texture.drawFrameAs9Grid(context,this.frame,this.grid,this.alignX,this.alignY,this.size.width,this.size.height)}},getAlignWidth:function(){if(this.texture&&this.frame){return this.size.width}return 0},getAlignHeight:function(){if(this.texture&&this.frame){return this.size.height}return 0}});Ext.define("Unity.cmp.TextureAnimation",{extend:Unity.cmp.BaseTexture,ctype:"Framework_TextureAnimation",configs:{props:[{name:"frameTime",type:"int",defaultValue:30},{name:"paused",type:"boolean",defaulValue:false}]},frameTime:30,paused:false,init:function(){this.currentFrame=0;this._currentFrameStartTime=null;this._pauseFrameTime=0;this._once=false;this._autoRemove=false;this._stopFrame=null;this._stopFrameCallback=null;this._frameListeners=[]},update:function(){var me=this;if(!this.texture){return}var Time=Unity.Time;if(!this._currentFrameStartTime){this._currentFrameStartTime=Time.now;this.currentFrame=0;return}if(this.paused){this._currentFrameStartTime=Time.now-this._pauseFrameTime}if(Time.now-this._currentFrameStartTime>=this.frameTime){this._currentFrameStartTime=Time.now;this.currentFrame++;me.fireFrameEvent();if(this._stopFrame===this.currentFrame){var callback=this._stopFrameCallback;this.paused=true;this._stopFrameCallback=null;Unity.schedule(callback)}else if(this.currentFrame===this.getEndFrame()){if(this._once){Unity.schedule(function(gameObject,autoRemove){gameObject.setActive(false);autoRemove&&gameObject.destroy(true)},0,[this.gameObject,this._autoRemove])}}else if(!this.texture.getFrame(this.currentFrame)){this.currentFrame=0}}},draw:function(context){if(this.texture){var sourceSize=this.texture.getSpriteSourceSize(this.currentFrame);if(sourceSize){this.texture.drawFrame(context,this.currentFrame,sourceSize.x,sourceSize.y)}}},fireFrameEvent:function(){var me=this;var listeners=[].concat(me._frameListeners);Unity.schedule(function(currentFrame){listeners.forEach(function(l,i){l.listener(currentFrame,function(){me._frameListeners.splice(i,1)})})},0,[me.currentFrame])},addFrameListener:function(listener){this._frameListeners.push({listener:listener,once:false})},removeFrameListener:function(listener){var ls=this._frameListeners;if(ls){var i,len=ls.length;for(i=0;i<len;i++){if(ls[i].listener===listener){ls.splice(i,1);return}}}},getEndFrame:function(){return this.texture.frames.length-1},gotoAndStop:function(frame,callback){this.play(true,true);this._stopFrame=frame;this._stopFrameCallback=callback},playOnce:function(callback){var endFrame=this.getEndFrame();this.play(true,true);this.addFrameListener(function(frame,removeListener){if(frame===endFrame){removeListener();callback&&callback()}})},play:function(once,replay,autoRemove){this.paused=false;if(!this.paused&&!replay){this.gameObject.setActive(true);this._once=once;return}this.currentFrame=0;this.gameObject.setActive(true);this._currentFrameStartTime=null;this._once=once;this._autoRemove=autoRemove},setPaused:function(flag){this.paused=flag;if(this.paused){this._pauseFrameTime=Date.now()-this._currentFrameStartTime||0}}});Ext.define("Unity.cmp.Ninepatch",{extend:Unity.cmp.Image,ctype:"Framework_9patch",configs:{props:[{name:"grid",type:"auto",defaultValue:{left:0,top:0,right:0,bottom:0},provider:"positioning"},{name:"size",type:"auto",defaultValue:{width:0,height:0},provider:"size"}]},drawRegion:null,getAlignWidth:function(){return this.size.width},getAlignHeight:function(){return this.size.height},draw:function(context){if(this.image){if(!this.drawRegion){this.drawRegion={x:0,y:0,w:this.image.image.width,h:this.image.image.height}}this.image.drawAs9Grid(context,this.drawRegion,this.grid,this.alignX,this.alignY,this.size.width,this.size.height)}}});Ext.define("Unity.cmp.LoopRotation",{extend:Unity.Component,ctype:"Framework_LoopRotation",configs:{props:[{name:"speed",type:"double",defaultValue:1}]},speed:1,update:function(delta){this.gameObject.transform.rotation+=delta*this.speed}});Ext.define("Unity.cmp.hit.AlwaysHit",{extend:Unity.Component,ctype:"Framework_hit_AlwayHit",testHit:function(x,y){return true}});Ext.define("Unity.cmp.hit.RectHit",{extend:Unity.Component,ctype:"Framework_hit_Rect",configs:{props:[{name:"hitRegion",type:"auto",defaultValue:{x:0,y:0,width:0,height:0},provider:"rect"},{name:"reverse",type:"boolean",defaultValue:false}]},testHit:function(x,y){var r=this.hitRegion;var ret=x>=r.x&&x<r.x+r.width&&y>=r.y&&y<r.y+r.height;return this.reverse?!ret:ret},drawHitRegion:function(context){var r=this.hitRegion;if(r){context.save();context.beginPath();context.rect(r.x,r.y,r.width,r.height);context.closePath();context.stroke();context.restore()}}});Ext.define("Unity.cmp.mask.RectMask",{extend:Unity.Component,ctype:"Framework_mask_Rect",configs:{props:[{name:"clipRect",type:"auto",defaultValue:{x:0,y:0,width:0,height:0},provider:"rect"},{name:"reverse",type:"boolean",defaultValue:false}]},clip:function(context){var r=this.clipRect;if(r){context.beginPath();context.rect(r.x,r.y,r.width,r.height);context.clip()}},drawMask:function(context){var r=this.clipRect;if(r){context.beginPath();context.rect(r.x,r.y,r.width,r.height);context.stroke()}}});Ext.define("Unity.cmp.layout.Center",{extend:Unity.Component,ctype:"Framework_layout_Center",configs:{props:[{name:"horizontal",type:"boolean",defaultValue:true},{name:"vertical",type:"boolean",defaultValue:true}]},layout:function(){var stage=this.gameObject.getStage();var w=this.gameObject.getWidth();var h=this.gameObject.getHeight();var stageW=stage.getWidth();var stageH=stage.getHeight();var left=(stageW-w)/2;var top=(stageH-h)/2;var trans=this.gameObject.transform;trans.relative=false;if(this.horizontal){trans.x=left}if(this.vertical){trans.y=top}}});Ext.define("Unity.cmp.layout.Floating",{extend:Unity.Component,ctype:"Framework_layout_Floating",configs:{props:[{name:"float",type:"string",defaultValue:"",provider:{id:"combobox",items:["right","bottom","right_bottom"]}}]},layout:function(){var stage=this.gameObject.getStage();var stageW=stage.getWidth();var stageH=stage.getHeight();var trans=this.gameObject.transform;if(this.float){trans.relative=false;switch(this.float){case"right":trans.x=stageW;break;case"bottom":trans.y=stageH;break;case"right_bottom":trans.x=stageW;trans.y=stageH;break}}}});Ext.define("Unity.cmp.widget.TextureButton",{extend:Unity.cmp.BaseTexture,mixins:[Unity.cmp.hit.RectHit],ctype:"Framework_TextureButton",configs:{props:[{name:"curFrame",type:"string",defaultValue:"",provider:"texture_frame"},{name:"unpressFrame",type:"string",defaultValue:"",provider:"texture_frame"},{name:"pressedFrame",type:"string",defaultValue:"",provider:"texture_frame"},{name:"disabledFrame",type:"string",defaultValue:"",provider:"texture_frame"},{name:"clickScale",type:"boolean",defaultValue:"true"}]},curFrame:null,init:function(){var me=this;me.curFrame=me.curFrame||me.unpressFrame;me.gameObject.on({scope:me,touch:function(){me.curFrame=me.pressedFrame;if(me.clickScale){me.gameObject.scaleX=me.gameObject.scaleY=1.12}},release:function(){me.curFrame=me.unpressFrame;if(me.clickScale){me.gameObject.scaleX=me.gameObject.scaleY=1}}})},disable:function(){this.curFrame=this.disabledFrame;this.gameObject.setTouchable(false)},enable:function(){this.curFrame=this.unpressFrame;this.gameObject.setTouchable(true)},draw:function(context){if(this.texture){this.texture.drawFrame(context,this.curFrame)}}});Ext.define("Unity.AllClasses",{});Ext.define("Unity.cmp.particle.SimpleProtonParticle",{extend:Unity.Component,ctype:"Framework_SimpleProtonParticle",configs:{props:[{name:"imageSrc",type:"string",provider:"image",defaultValue:""}]},init:function(){}});Ext.define("Unity.cmp.particle.SimpleProtonParticle",{extend:Unity.Component,ctype:"Framework_ProtonParticle",configs:{props:[{name:"settings",type:"auto",provider:"proton",defaultValue:{}}]},init:function(){}});Ext.define("NG.Background",{extend:Unity.Component,ctype:"NG_BG",configs:{props:[{name:"lineWidth",type:"int",defaultValue:2e3},{name:"lineHeight",type:"int",defaulvalue:100},{name:"lineCount",type:"int",defaultValue:20},{name:"bgColor",type:"string"},{name:"lineColor",type:"string"}]},startX:null,init:function(){this.startX=this.gameObject.transform.x;this.animate()},animate:function(){this.gameObject.transform.tween(true).to({x:this.startX+this.lineHeight*4},3e3).loop=true},stop:function(){var me=this;var time=3e3-3e3*((me.gameObject.transform.x-me.startX)/(me.lineHeight*4));me.gameObject.transform.tween(true).to({x:me.startX+me.lineHeight*4},time).call(function(){me.gameObject.transform.x=me.startX})},draw:function(context){context.fillStyle=this.bgColor;context.fillRect(-2e3,-2e3,4e3,4e3);context.fillStyle=this.lineColor;for(var i=0;i<this.lineCount;i+=2){context.fillRect(0,i*this.lineHeight,this.lineWidth,this.lineHeight)}}});Ext.define("NG.Dialogue",{extend:Unity.Component,ctype:"NG_Dialogue",configs:{props:[]},dialogueText:null,showLength:0,showDialogueText:function(dialogueText){this.dialogueText=dialogueText;this.showLength=0},draw:function(context){if(this.dialogueText){var text=this.dialogueText.slice(0,Math.ceil(this.showLength));context.fillStyle="#000000";context.globalAlpha=.8;context.fillRect(0,0,Unity.stage.viewport.width,Unity.stage.viewport.height);if(text){context.globalAlpha=1;context.textAlign="center";context.textBaseline="middle";context.fillStyle="#16dddb";context.font="bold 34px Arial";context.fillText(text,Unity.stage.viewport.width/2,400)}this.showLength+=.5;if(this.showLength>=this.dialogueText.length){this.showLength=this.dialogueText.length;context.fillText("Tap to start",Unity.stage.viewport.width/2,600);context.fillRect(Unity.stage.viewport.width/2-100,620,200,2)}}}});Ext.define("NG.Local",{FIRST_PLAY:"NG.firstPlay",RANKING:"NG.ranking",LASTPLAY:"NG.last.play",ranking:[],lastPlay:null,game:null,lastRankIdx:0,constructor:function(game){this.game=game;try{this.ranking=JSON.parse(localStorage.getItem(this.RANKING))||[]}catch(e){this.ranking=[]}try{this.lastPlay=JSON.parse(localStorage.getItem(this.LASTPLAY))}catch(e){}this.game.on({scope:this,updateScore:this.saveLastPlay,addNumber:this.saveLastPlay,retry:function(){this.setLastPlay(undefined)},gameover:function(){this.saveLastPlay();this.lastRankIdx=this.addRankItem(this.lastPlay)}})},saveLastPlay:function(){if(!this.lastPlay){this.lastPlay={score:0,level:0,cells:[[],[],[],[],[],[]]}}for(var row=0;row<6;row++){for(var col=0;col<6;col++){var go=this.game.cells[row][col].gameObject;if(go){this.lastPlay.cells[row][col]=go.number}else{this.lastPlay.cells[row][col]=undefined}}}this.lastPlay.score=this.game.score;this.lastPlay.level=this.game.curLevel;this.setLastPlay(this.lastPlay)},addRankItem:function(item){var rankIdx;var canvas=Unity.createCanvas(400,430);var context=canvas.getContext("2d",{antialias:true});context.fillStyle="#000000";context.fillRect(0,0,400,430);context.translate(8,-78);context.scale(.6,.6);this.game.oGameArea.doDraw(context);item.base64=canvas.toDataURL();context.dispose&&context.dispose();canvas.dispose&&canvas.dispose();this.ranking.push(item);this.ranking.sort(function(a,b){return a.score-b.score});for(var i=0;i<this.ranking.length;i++){if(this.ranking[i]===item){rankIdx=i}}if(this.ranking.length>10){this.ranking.unshift()}localStorage.setItem(this.RANKING,JSON.stringify(this.ranking));return rankIdx},getRanking:function(){return this.ranking},getLastPlay:function(){return this.lastPlay},setLastPlay:function(lastPlay){this.lastPlay=lastPlay;if(!this.lastPlay){localStorage.removeItem(this.LASTPLAY)}else{localStorage.setItem(this.LASTPLAY,JSON.stringify(this.lastPlay))}},isFirstPlay:function(){return!localStorage.getItem(this.FIRST_PLAY)},setNoFirstPlay:function(){localStorage.setItem(this.FIRST_PLAY,1)}});Ext.define("NG.Game",{extend:Unity.cmp.BaseTexture,mixins:{observable:Ext.util.Observable},ctype:"NG_Game",local:null,oGameArea:null,constructor:function(){this.callParent(arguments);this.mixins.observable.constructor.call(this);this.local=new NG.Local(this)},init:function(){var me=this;var oGamePanel=me.gameObject.child("GamePanel");oGamePanel.transform.regX=me.gameObject.getStage().getWidth()/2;oGamePanel.transform.x=-oGamePanel.transform.regX;setTimeout(function(){var oBG=me.gameObject.child("BG");var oMask=me.gameObject.child("Mask");oBG.removeMe();oMask.removeMe();me.gameObject.getStage().insert(0,oBG);me.gameObject.getStage().insert(0,oMask);me.oMask=oMask;me.oBG=oBG},10);me.oGameArea=me.gameObject.child("GamePanel").child("GameArea");me.oGameArea.transform.y=parseInt((me.gameObject.getStage().getHeight()-960)/3);if(me.oGameArea.transform.y<0){me.oGameArea.transform.y=0}me.oCurRandomNums=me.oGameArea.child("CurRandomNums");me.oNumCt=me.oGameArea.child("NumberCt");me.oNextNumCt=me.oGameArea.child("NextNumberCt");me.gameObject.on({tap:function(e){var target=e.target;switch(target.name){case"PlayBtn":me.onPlayBtnClick();break;case"NumberCt":me.onNumberCtClick(e);break;case"PauseBtn":me.onPauseBtnClick();break;case"PauseMask":me.onPauseMaskClick();break;case"RetryBtn":me.onRetryBtnClick();break;case"ShareBtn":me.onShareBtnClick();break;case"ReturnFromRankBtn":me.onReturnFromRankBtnClick();break}}});me.score=0;me.curLevel=0;me.probabilityOfQuestMark=.1;me.randomLevelBase=[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,4,4,4,4,5,5,5];me.cells=[[],[],[],[],[],[]];me.on({scope:me,joinComplete:function(joinCell,joinCount,combo){if(combo&&joinCount>0){var oCombo=me.oNextNumCt.child("Combo");oCombo.setActive(true);oCombo.transform.alpha=0;oCombo.transform.x=joinCell.gameObject.transform.x;oCombo.transform.y=joinCell.gameObject.transform.y;oCombo.transform.scaleX=.2;oCombo.transform.scaleY=.2;oCombo.transform.tween(true).to({scaleX:1,scaleY:1,y:oCombo.transform.y-80,alpha:1},500,createjs.Ease.getPowOut(10)).to({alpha:0},200).call(function(){oCombo.setActive(false)})}if(me.local.isFirstPlay()){Unity.stage.touch.disable();var oYeah=me.oGameArea.child("GuideYeah");oYeah.setActive(true);oYeah.transform.alpha=0;oYeah.transform.scaleX=.2;oYeah.transform.scaleY=.2;oYeah.transform.tween(true).to({scaleX:1,scaleY:1,y:oYeah.transform.y-80,alpha:1},500,createjs.Ease.getPowOut(10)).to({alpha:0},200).call(function(){oYeah.setActive(false);var cDialogue=me.gameObject.child("Dialogue").getCmp("NG_Dialogue");cDialogue.showDialogueText("0 => 1 => 2... so easy, let's go!");cDialogue.gameObject.setActive(true);cDialogue.gameObject.on("tap",function(){me.local.setLastPlay();me.local.setNoFirstPlay();me.startGame();cDialogue.gameObject.setActive(false)});setTimeout(function(){Unity.stage.touch.enable()},2e3)})}},join:function(joinCell,joinCount){if(joinCell.gameObject.number>=me.curLevel+6){me.curLevel=joinCell.gameObject.number-5;var newRandomNum=me.curLevel+5;var oToRemove=me.oCurRandomNums.child("Number"+(me.curLevel-1));oToRemove.setName("Number"+newRandomNum);oToRemove.transform.tween(true).to({alpha:0},100).set({scaleX:0,scaleY:0,x:oToRemove.transform.x+240}).call(function(){oToRemove.getCmp("NG_Number").setNumber(newRandomNum);oToRemove.transform.tween(true).to({scaleX:.4,scaleY:.4,alpha:1},100)});me.oCurRandomNums.transform.tween(true).to({x:me.oCurRandomNums.transform.x-40},100)}var deltaScore=joinCell.gameObject.number*joinCount;deltaScore*=joinCount/3;deltaScore=parseInt(deltaScore);me.score+=deltaScore;me.updateScore();playCombine()}})},onPlayBtnClick:function(){var me=this;setTimeout(function(){me.gameObject.transform.tween(true).to({x:me.gameObject.getStage().getWidth()},200).call(function(){me.gameObject.child("StartScreen").setActive(false);me.startGame()});me.oBG.transform.tween().to({alpha:.25},200)},200)},onNumberCtClick:function(e){var me=this;var x=e.x-me.oNumCt.transform.x-me.oGameArea.transform.x;var y=e.y-me.oNumCt.transform.y-me.oGameArea.transform.y;var row=parseInt(y/104);var col=parseInt(x/104);var cell=this.cells[row][col];if(cell.isUsed()){return}if(this.curONum.number==="?"){var toNum=cell.findMaxNumberOfSublings();if(toNum===false){toNum=0}this.curONum.setNumber(toNum)}this.curONum.transform.clearTweens();this.curONum.removeMe(true);var toAddONum=this.createNumberGameObject(this.curONum.number,row,col);this.oNumCt.add(toAddONum);cell.gameObject=toAddONum;me.fireEvent("addNumber",toAddONum);
if(me.local.isFirstPlay()){me.oGameArea.child("Guide").setActive(false)}playClickSound();this.next(cell)},onPauseBtnClick:function(){var me=this;me.oGameArea.child("OverBtns").setActive(true);me.gameObject.child("GamePanel").transform.tween(true).to({scaleX:.8,scaleY:.8},400);me.oGameArea.child("PauseMask").setActive(true);me.stopAnimateCurONum()},onPauseMaskClick:function(){var me=this;me.oGameArea.child("OverBtns").setActive(false);me.gameObject.child("GamePanel").transform.tween(true).to({scaleX:1,scaleY:1},400).call(function(){me.animateCurONum();me.oGameArea.child("PauseMask").setActive(false)})},onShareBtnClick:function(){var me=this;if(me.showingRanking){return}me.showingRanking=true;var ranking=me.local.getRanking();var oRankList=Unity.GameObject.getById("RankList");var oRankCt=oRankList.child("RankContainer");oRankList.transform.y=Unity.stage.getHeight();oRankList.transform.x=-Unity.stage.getWidth();var oLoadRoot=Unity.create("gameobject",{name:"loadRoot"});for(var i=0;i<ranking.length;i++){var gameObj=Unity.create("gameobject",{name:"rank"+i});var image=Unity.create("Framework_Image",{imageSrc:ranking[i].base64});gameObj.addCmp(image);gameObj.transform.x=i*440+(600-400)/2+20;oLoadRoot.add(gameObj)}Unity.loadAssets(oLoadRoot,function(){var cRankSwipe=oRankList.getCmp("NG_RankSwipe");oLoadRoot.init();oLoadRoot.each(function(child){child.removeMe();oRankCt.add(child)});cRankSwipe.setPageCount(me.local.ranking.length);cRankSwipe.setCurPage(me.local.lastRankIdx);me.gameObject.transform.tween(true).to({y:-Unity.stage.getHeight()},500).call(function(){me.showingRanking=false})})},onRetryBtnClick:function(){var me=this;me.fireEvent("retry");me.oGameArea.child("OverBtns").setActive(false);me.gameObject.child("GamePanel").transform.tween(true).to({scaleX:1,scaleY:1},400).call(function(){me.oGameArea.child("PauseMask").setActive(false);me.startGame()})},onReturnFromRankBtnClick:function(){this.gameObject.transform.tween(true).to({y:0},500).call(function(){var oRankList=Unity.GameObject.getById("RankList");var oRankCt=oRankList.child("RankContainer");oRankCt.each(function(child){child.destroy(true)})})},startGame:function(){var me=this;me.oNumCt.clear();me.score=0;me.curLevel=0;me.oNextNumCt.each(function(child){if(child.name!=="Combo"){child.destroy(true)}});me.oCurRandomNums.each(function(child,idx){child.setName("Number"+idx);child.getCmp("NG_Number").setNumber(idx)});for(var row=0;row<6;row++){for(var col=0;col<6;col++){me.cells[row][col]={row:row,col:col,gameObject:null,isUsed:function(){return!!this.gameObject},findMaxNumberOfSublings:function(){var pos={x:this.col,y:this.row};var searchList=[{x:pos.x,y:pos.y+1},{x:pos.x+1,y:pos.y},{x:pos.x,y:pos.y-1},{x:pos.x-1,y:pos.y}];var sublingsMaxNumber=0;var find=false;for(var i=0;i<searchList.length;i++){var p=searchList[i];try{var cell=me.cells[p.y][p.x];if(cell.gameObject){var number=cell.gameObject.number;if(number>=sublingsMaxNumber){sublingsMaxNumber=number;find=true}}}catch(e){continue}}return find?sublingsMaxNumber:false}}}}if(me.local.isFirstPlay()){var oNumber1=this.cells[2][2].gameObject=me.createNumberGameObject(0,2,2);var oNumber2=this.cells[2][3].gameObject=me.createNumberGameObject(0,2,3);me.oNumCt.add(oNumber1);me.oNumCt.add(oNumber2)}else{var lastPlay=me.local.getLastPlay();if(!lastPlay){var count=8;while(count--){var cell=me.randomUnusedCell();var oNum=me.randomNumberObject(cell.row,cell.col);cell.gameObject=oNum;me.oNumCt.add(oNum)}}else{for(var row=0;row<6;row++){for(var col=0;col<6;col++){var lastPlayNum=lastPlay.cells[row][col];if(typeof lastPlayNum==="number"){var oNumber=this.cells[row][col].gameObject=me.createNumberGameObject(lastPlayNum,row,col);me.oNumCt.add(oNumber)}}}me.curLevel=lastPlay.level;me.oCurRandomNums.each(function(child,idx){child.setName("Number"+(me.curLevel+idx));child.getCmp("NG_Number").setNumber(me.curLevel+idx)})}}me.updateScore();me.next(null,true)},next:function(lastCell,gameStart){var me=this;me.running=false;if(lastCell){me.checkJoin(lastCell,function(joined){me.showNext(lastCell);me.running=true})}else{me.showNext(lastCell,gameStart);me.running=true;if(me.local.isFirstPlay()){me.oGameArea.child("Guide").setActive(true)}}},showNext:function(lastCell,gameStart){var me=this;if(me.checkGameOver()){me.showGameOver(gameStart);return}var cell=null;if(lastCell){var cells=this.breadthFirstSearch(lastCell,function(sCell){return sCell.isUsed()});cell=cells[1]}if(!cell){if(me.local.isFirstPlay()){cell=this.cells[5][5]}else{cell=this.randomUnusedCell()}}var oNum;if(me.local.isFirstPlay()){oNum=this.createNumberGameObject(0,5,5)}else{oNum=this.randomNumberObject(cell.row,cell.col,true)}me.oNextNumCt.add(oNum);me.curONum=oNum;me.animateCurONum()},stopAnimateCurONum:function(){this.curONum.transform.clearTweens()},animateCurONum:function(){var oNum=this.curONum;oNum.transform.tween(true).to({scaleX:.8,scaleY:.8},300).to({scaleX:1,scaleY:1},600).to({scaleX:.9,scaleY:.9},300).loop=true},updateScore:function(){this.oGameArea.child("Score").getCmp("Framework_Text").text=this.score+"";this.fireEvent("updateScore",this.score)},checkGameOver:function(){return this.getUnusedCells().length===0},searchWillJoinCells:function(lastCell){return this.breadthFirstSearch(lastCell,function(sCell){if(!sCell.isUsed()){return true}return lastCell.gameObject.number!==sCell.gameObject.number})},checkJoin:function(lastCell,finish,combo,totalJoinCount){if(lastCell.gameObject.number>=99){finish();return}if(totalJoinCount===undefined){totalJoinCount=0}var me=this;var willJoinCells=this.cacheSearchResult||this.searchWillJoinCells(lastCell);this.cacheSearchResult=null;if(willJoinCells.length>=3){for(var j=0;j<willJoinCells.length;j++){if(willJoinCells[j]===lastCell){continue}var cell=willJoinCells[j];cell.gameObject.transform.tween(true).to({x:lastCell.gameObject.transform.x,y:lastCell.gameObject.transform.y,alpha:0},500)}me.fireEvent("prejoin",lastCell,willJoinCells.length,combo);(function(lastCell,willJoinCells){setTimeout(function(){lastCell.gameObject.increaseNumber();for(var i=0;i<willJoinCells.length;i++){if(willJoinCells[i]===lastCell){continue}willJoinCells[i].gameObject.removeMe(true);willJoinCells[i].gameObject=null}totalJoinCount+=willJoinCells.length;me.fireEvent("join",lastCell,totalJoinCount,combo);me.checkJoin(lastCell,function(){me.fireEvent("joinComplete",lastCell,totalJoinCount,combo);finish(true)},true,totalJoinCount)},600)})(lastCell,willJoinCells)}else{setTimeout(function(){finish()},50)}},breadthFirstSearch:function(cell,filter,result){var prefix="k_";var pos={x:cell.col,y:cell.row};var searchList=[{x:pos.x,y:pos.y+1},{x:pos.x+1,y:pos.y},{x:pos.x,y:pos.y-1},{x:pos.x-1,y:pos.y}];result=result||{results:[],queue:[],inQueue:{},searched:{}};result.results.push(cell);result.inQueue[prefix+pos.x+pos.y]=true;for(var i=0;searchList[i];i++){var x=searchList[i].x;var y=searchList[i].y;if(!this.cells[y]){continue}var sCell=this.cells[y][x];if(!sCell){continue}if(!result.searched[prefix+x+y]){if(filter(sCell)){continue}result.searched[prefix+x+y]=true}if(!result.inQueue[prefix+x+y]){result.queue.push(sCell);result.inQueue[prefix+x+y]=true}}if(result.queue.length<=0){return result.results}return this.breadthFirstSearch(result.queue.shift(),filter,result)},showGameOver:function(gameStart){var me=this;me.oGameArea.child("OverBtns").setActive(true);me.gameObject.child("GamePanel").transform.tween(true).to({scaleX:.8,scaleY:.8},400).call(function(){!gameStart&&me.fireEvent("gameover")})},randomNumberObject:function(row,col,containsQuestMark){return this.createNumberGameObject(this.randomNumber(containsQuestMark),row,col)},randomNumber:function(containsQuestMark){var createQuestMark=containsQuestMark?Date.now()%100<this.probabilityOfQuestMark*100:false;var number=createQuestMark?"?":this.randomLevelBase[parseInt(Math.random()*1e4)%this.randomLevelBase.length];if(number!=="?"){number+=this.curLevel}return number},createNumberGameObject:function(number,row,col){var oNumber=Unity.create("gameobject",{name:"Number_"+row+col,number:number,row:row,col:col,increaseNumber:function(){this.number++;this.getCmp("NG_Number").increaseNumber()},setNumber:function(number){this.number=number;this.getCmp("NG_Number").setNumber(number)}});oNumber.transform.x=col*104+55;oNumber.transform.y=row*104+55;oNumber.transform.regX=50;oNumber.transform.regY=50;oNumber.transform.scaleX=.9;oNumber.transform.scaleY=.9;oNumber.addCmp(Unity.create("NG_Number",{number:number,texture:this.texture}));oNumber.init();return oNumber},randomUnusedCell:function(){var unusedCells=this.getUnusedCells();if(unusedCells.length<=0){return null}var idx=Date.now()%unusedCells.length;return unusedCells[idx]},getUnusedCells:function(){var unused=[];for(var i=0;this.cells[i];i++){for(var j=0;this.cells[i][j];j++)if(!this.cells[i][j].isUsed()){unused.push(this.cells[i][j])}}return unused},randomUsedCell:function(){var usedCells=this.getUsedCells();if(usedCells.length<=0){return null}var idx=Date.now()%usedCells.length;return usedCells[idx]},getUsedCells:function(){var used=[];for(var i=0;this.cells[i];i++){for(var j=0;this.cells[i][j];j++)if(this.cells[i][j].isUsed()){used.push(this.cells[i][j])}}return used}});Ext.define("NG.Number",{extend:Unity.cmp.BaseTexture,ctype:"NG_Number",configs:{props:[{name:"number",type:"string",defaultValue:22},{name:"numberX",type:"int",defaultValue:30},{name:"numberY",type:"int",defaultValue:30},{name:"wordWidth",type:"int",defaultValue:26},{name:"colorCircle",type:"string",defaultValue:"",provider:"texture_frame"}]},wordWidth:26,numberStr:"22",init:function(){this.setNumber(this.number)},increaseNumber:function(){this.setNumber(this.number+1)},setNumber:function(number){this.number=number==="?"?number:parseInt(number);this.numberStr=number+"";this.numberY=25;if(this.number==="?"){this.numberX=32;this.colorCircle="@bg.png"}else if(this.number>=10){this.numberX=20}else{this.numberX=32}if(this.number!=="?"){if(this.number<10){this.colorCircle="0.png"}else{var num=parseInt(this.number/5)*5;this.colorCircle=num+".png"}}switch(this.number){case 0:case 1:case 10:this.numberX-=2;break;case 7:this.numberX+=2;break;case 11:case 12:this.numberX-=1;break}},draw:function(context){if(!this.texture||!this.numberStr){return}if(this.numberStr==="?"){if(this.colorCircle){this.texture.drawFrame(context,this.colorCircle,0,0)}this.texture.drawFrame(context,"images/@.png",this.numberX,this.numberY)}else{var ch0=this.numberStr.charAt(0);var ch1=this.numberStr.charAt(1);if(this.colorCircle){this.texture.drawFrame(context,this.colorCircle,0,0)}this.texture.drawFrame(context,"images/"+ch0+".png",this.numberX,this.numberY);if(ch1){this.texture.drawFrame(context,"images/"+ch1+".png",this.numberX+this.wordWidth,this.numberY)}}}});Ext.define("NG.RankSwipe",{extend:Unity.Component,ctype:"NG_RankSwipe",dragStartX:null,dragStartTx:null,pageWidth:440,pageCount:10,curPage:0,curFocusCell:null,init:function(){var me=this;me.oPages=me.gameObject.child("RankContainer");me.gameObject.on({scope:me,dragstart:me.onDragStart,drag:me.onDrag,dragend:me.onDragEnd,swipe:me.onSwipe})},onDragStart:function(e){this.dragStartX=e.x;this.dragStartTx=this.oPages.transform.x;this.oPages.transform.clearTweens();this.updateCurPage()},onDrag:function(e){var deltaX=e.x-this.dragStartX;if(this.oPages.transform.x<=-this.pageWidth*this.pageCount+this.pageWidth&&e.gesture.direction==="left"){deltaX/=3}else if(this.oPages.transform.x>=0&&e.gesture.direction==="right"){deltaX/=3}this.oPages.transform.x=this.dragStartTx+deltaX},onDragEnd:function(e){this.animateToPage(-Math.round(this.oPages.transform.x/this.pageWidth))},onSwipe:function(e){e.gesture.stopDetect();if(e.gesture.direction==="left"){this.animateToPage(this.curPage+1)}else{this.animateToPage(this.curPage-1)}},animateToPage:function(toPage,time){var me=this;if(toPage<0){toPage=0}else if(toPage>this.pageCount-1){toPage=this.pageCount-1}this.oPages.transform.tween(true).to({x:-toPage*this.pageWidth},time||260).call(function(){me.updateCurPage()})},setPageCount:function(pageCount){this.pageCount=pageCount},setCurPage:function(curPage){this.curPage=curPage;this.animateToPage(this.curPage,1)},updateCurPage:function(){this.curPage=-Math.round(this.oPages.transform.x/this.pageWidth)}});var inBrowser=false;function setLoading(percentage){var progress=document.getElementById("progress");var star=document.getElementById("progress_star");progress.style.width=percentage+"%";star.style.left=percentage+"%";if(percentage>=100){document.getElementById("qzone-container").style.display="none"}}function playClickSound(){}function playCombine(){}function playBG(){}function pauseBG(){}setLoading(33);Ext.Loader.addClassPathMappings({NG:"./NG"});Unity.quicklyStartStage("main",inBrowser?640:window.innerWidth,inBrowser?1136:window.innerHeight,function(stage){stage.transform.x=inBrowser?0:(window.innerWidth-640)/2;Unity.loadGameObject({file:"NG.o",beforeLoadAssets:function(oRoot,next){setLoading(66);next()},onFinished:function(obj){stage.add(obj);setLoading(96);setTimeout(function(){setLoading(100)},200)}})});document.body.addEventListener("touchstart",function(event){event.preventDefault()},false);document.body.addEventListener("touchmove",function(event){event.preventDefault()},false);document.body.addEventListener("touchend",function(event){event.preventDefault()},false);